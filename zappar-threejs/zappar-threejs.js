!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("THREE")):"function"==typeof define&&define.amd?define(["THREE"],t):"object"==typeof exports?exports.ZapparThree=t(require("THREE")):e.ZapparThree=t(e.THREE)}(window,(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=13)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THREE=void 0;const n=r(65);t.THREE=n},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.loadedPromise=t.loaded=t.browserIncompatibleUI=t.browserIncompatible=t.drawPlane=t.projectionMatrixFromCameraModel=t.invert=t.cameraDefaultDeviceID=t.z=void 0;const a=r(7),i=r(27),o=r(53);let s;function u(){return s||(console.log("Zappar JS v"+o.VERSION),s=a.initialize()),s}function c(){return u().loaded()}function f(e){return new Promise(t=>setTimeout(t,e))}t.z=u,t.cameraDefaultDeviceID=function(e){return u().camera_default_device_id(e||!1)},t.invert=function(e){const t=i.mat4.create();return i.mat4.invert(t,e),t},t.projectionMatrixFromCameraModel=function(e,t,r,n=.1,a=100){return u().projection_matrix_from_camera_model_ext(e,t,r,n,a)},t.drawPlane=function(e,t,r,n,a){u().draw_plane(e,t,r,n,a)},t.browserIncompatible=function(){return u().browser_incompatible()},t.browserIncompatibleUI=function(){u().browser_incompatible_ui()},t.loaded=c,t.loadedPromise=function(){return n(this,void 0,void 0,(function*(){for(;;){if(c())return;yield f(50)}}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zcwarn=t.zcerr=t.zcout=t.setLogLevel=void 0;const n=r(17);let a=n.log_level_t.LOG_LEVEL_ERROR;t.setLogLevel=function(e){a=e},t.zcout=function(...e){a>=n.log_level_t.LOG_LEVEL_VERBOSE&&console.log("[Zappar] INFO",...e)},t.zcerr=function(...e){a>=n.log_level_t.LOG_LEVEL_ERROR&&console.error("[Zappar] ERROR",...e)},t.zcwarn=function(...e){a>=n.log_level_t.LOG_LEVEL_VERBOSE&&console.log("[Zappar] WARN",...e)}},function(e,t,r){"use strict";r.r(t),r.d(t,"glMatrix",(function(){return n})),r.d(t,"mat2",(function(){return a})),r.d(t,"mat2d",(function(){return i})),r.d(t,"mat3",(function(){return o})),r.d(t,"mat4",(function(){return s})),r.d(t,"quat",(function(){return f})),r.d(t,"quat2",(function(){return _})),r.d(t,"vec2",(function(){return d})),r.d(t,"vec3",(function(){return u})),r.d(t,"vec4",(function(){return c}));var n={};r.r(n),r.d(n,"EPSILON",(function(){return l})),r.d(n,"ARRAY_TYPE",(function(){return h})),r.d(n,"RANDOM",(function(){return m})),r.d(n,"setMatrixArrayType",(function(){return p})),r.d(n,"toRadian",(function(){return v})),r.d(n,"equals",(function(){return g}));var a={};r.r(a),r.d(a,"create",(function(){return M})),r.d(a,"clone",(function(){return y})),r.d(a,"copy",(function(){return w})),r.d(a,"identity",(function(){return x})),r.d(a,"fromValues",(function(){return E})),r.d(a,"set",(function(){return A})),r.d(a,"transpose",(function(){return k})),r.d(a,"invert",(function(){return T})),r.d(a,"adjoint",(function(){return z})),r.d(a,"determinant",(function(){return F})),r.d(a,"multiply",(function(){return R})),r.d(a,"rotate",(function(){return P})),r.d(a,"scale",(function(){return S})),r.d(a,"fromRotation",(function(){return O})),r.d(a,"fromScaling",(function(){return L})),r.d(a,"str",(function(){return D})),r.d(a,"frob",(function(){return C})),r.d(a,"LDU",(function(){return I})),r.d(a,"add",(function(){return U})),r.d(a,"subtract",(function(){return B})),r.d(a,"exactEquals",(function(){return q})),r.d(a,"equals",(function(){return j})),r.d(a,"multiplyScalar",(function(){return V})),r.d(a,"multiplyScalarAndAdd",(function(){return N})),r.d(a,"mul",(function(){return G})),r.d(a,"sub",(function(){return H}));var i={};r.r(i),r.d(i,"create",(function(){return W})),r.d(i,"clone",(function(){return Y})),r.d(i,"copy",(function(){return X})),r.d(i,"identity",(function(){return Z})),r.d(i,"fromValues",(function(){return Q})),r.d(i,"set",(function(){return J})),r.d(i,"invert",(function(){return K})),r.d(i,"determinant",(function(){return $})),r.d(i,"multiply",(function(){return ee})),r.d(i,"rotate",(function(){return te})),r.d(i,"scale",(function(){return re})),r.d(i,"translate",(function(){return ne})),r.d(i,"fromRotation",(function(){return ae})),r.d(i,"fromScaling",(function(){return ie})),r.d(i,"fromTranslation",(function(){return oe})),r.d(i,"str",(function(){return se})),r.d(i,"frob",(function(){return ue})),r.d(i,"add",(function(){return ce})),r.d(i,"subtract",(function(){return fe})),r.d(i,"multiplyScalar",(function(){return _e})),r.d(i,"multiplyScalarAndAdd",(function(){return de})),r.d(i,"exactEquals",(function(){return le})),r.d(i,"equals",(function(){return he})),r.d(i,"mul",(function(){return me})),r.d(i,"sub",(function(){return pe}));var o={};r.r(o),r.d(o,"create",(function(){return be})),r.d(o,"fromMat4",(function(){return ve})),r.d(o,"clone",(function(){return ge})),r.d(o,"copy",(function(){return Me})),r.d(o,"fromValues",(function(){return ye})),r.d(o,"set",(function(){return we})),r.d(o,"identity",(function(){return xe})),r.d(o,"transpose",(function(){return Ee})),r.d(o,"invert",(function(){return Ae})),r.d(o,"adjoint",(function(){return ke})),r.d(o,"determinant",(function(){return Te})),r.d(o,"multiply",(function(){return ze})),r.d(o,"translate",(function(){return Fe})),r.d(o,"rotate",(function(){return Re})),r.d(o,"scale",(function(){return Pe})),r.d(o,"fromTranslation",(function(){return Se})),r.d(o,"fromRotation",(function(){return Oe})),r.d(o,"fromScaling",(function(){return Le})),r.d(o,"fromMat2d",(function(){return De})),r.d(o,"fromQuat",(function(){return Ce})),r.d(o,"normalFromMat4",(function(){return Ie})),r.d(o,"projection",(function(){return Ue})),r.d(o,"str",(function(){return Be})),r.d(o,"frob",(function(){return qe})),r.d(o,"add",(function(){return je})),r.d(o,"subtract",(function(){return Ve})),r.d(o,"multiplyScalar",(function(){return Ne})),r.d(o,"multiplyScalarAndAdd",(function(){return Ge})),r.d(o,"exactEquals",(function(){return He})),r.d(o,"equals",(function(){return We})),r.d(o,"mul",(function(){return Ye})),r.d(o,"sub",(function(){return Xe}));var s={};r.r(s),r.d(s,"create",(function(){return Ze})),r.d(s,"clone",(function(){return Qe})),r.d(s,"copy",(function(){return Je})),r.d(s,"fromValues",(function(){return Ke})),r.d(s,"set",(function(){return $e})),r.d(s,"identity",(function(){return et})),r.d(s,"transpose",(function(){return tt})),r.d(s,"invert",(function(){return rt})),r.d(s,"adjoint",(function(){return nt})),r.d(s,"determinant",(function(){return at})),r.d(s,"multiply",(function(){return it})),r.d(s,"translate",(function(){return ot})),r.d(s,"scale",(function(){return st})),r.d(s,"rotate",(function(){return ut})),r.d(s,"rotateX",(function(){return ct})),r.d(s,"rotateY",(function(){return ft})),r.d(s,"rotateZ",(function(){return _t})),r.d(s,"fromTranslation",(function(){return dt})),r.d(s,"fromScaling",(function(){return lt})),r.d(s,"fromRotation",(function(){return ht})),r.d(s,"fromXRotation",(function(){return mt})),r.d(s,"fromYRotation",(function(){return pt})),r.d(s,"fromZRotation",(function(){return bt})),r.d(s,"fromRotationTranslation",(function(){return vt})),r.d(s,"fromQuat2",(function(){return gt})),r.d(s,"getTranslation",(function(){return Mt})),r.d(s,"getScaling",(function(){return yt})),r.d(s,"getRotation",(function(){return wt})),r.d(s,"fromRotationTranslationScale",(function(){return xt})),r.d(s,"fromRotationTranslationScaleOrigin",(function(){return Et})),r.d(s,"fromQuat",(function(){return At})),r.d(s,"frustum",(function(){return kt})),r.d(s,"perspective",(function(){return Tt})),r.d(s,"perspectiveFromFieldOfView",(function(){return zt})),r.d(s,"ortho",(function(){return Ft})),r.d(s,"lookAt",(function(){return Rt})),r.d(s,"targetTo",(function(){return Pt})),r.d(s,"str",(function(){return St})),r.d(s,"frob",(function(){return Ot})),r.d(s,"add",(function(){return Lt})),r.d(s,"subtract",(function(){return Dt})),r.d(s,"multiplyScalar",(function(){return Ct})),r.d(s,"multiplyScalarAndAdd",(function(){return It})),r.d(s,"exactEquals",(function(){return Ut})),r.d(s,"equals",(function(){return Bt})),r.d(s,"mul",(function(){return qt})),r.d(s,"sub",(function(){return jt}));var u={};r.r(u),r.d(u,"create",(function(){return Vt})),r.d(u,"clone",(function(){return Nt})),r.d(u,"length",(function(){return Gt})),r.d(u,"fromValues",(function(){return Ht})),r.d(u,"copy",(function(){return Wt})),r.d(u,"set",(function(){return Yt})),r.d(u,"add",(function(){return Xt})),r.d(u,"subtract",(function(){return Zt})),r.d(u,"multiply",(function(){return Qt})),r.d(u,"divide",(function(){return Jt})),r.d(u,"ceil",(function(){return Kt})),r.d(u,"floor",(function(){return $t})),r.d(u,"min",(function(){return er})),r.d(u,"max",(function(){return tr})),r.d(u,"round",(function(){return rr})),r.d(u,"scale",(function(){return nr})),r.d(u,"scaleAndAdd",(function(){return ar})),r.d(u,"distance",(function(){return ir})),r.d(u,"squaredDistance",(function(){return or})),r.d(u,"squaredLength",(function(){return sr})),r.d(u,"negate",(function(){return ur})),r.d(u,"inverse",(function(){return cr})),r.d(u,"normalize",(function(){return fr})),r.d(u,"dot",(function(){return _r})),r.d(u,"cross",(function(){return dr})),r.d(u,"lerp",(function(){return lr})),r.d(u,"hermite",(function(){return hr})),r.d(u,"bezier",(function(){return mr})),r.d(u,"random",(function(){return pr})),r.d(u,"transformMat4",(function(){return br})),r.d(u,"transformMat3",(function(){return vr})),r.d(u,"transformQuat",(function(){return gr})),r.d(u,"rotateX",(function(){return Mr})),r.d(u,"rotateY",(function(){return yr})),r.d(u,"rotateZ",(function(){return wr})),r.d(u,"angle",(function(){return xr})),r.d(u,"zero",(function(){return Er})),r.d(u,"str",(function(){return Ar})),r.d(u,"exactEquals",(function(){return kr})),r.d(u,"equals",(function(){return Tr})),r.d(u,"sub",(function(){return Fr})),r.d(u,"mul",(function(){return Rr})),r.d(u,"div",(function(){return Pr})),r.d(u,"dist",(function(){return Sr})),r.d(u,"sqrDist",(function(){return Or})),r.d(u,"len",(function(){return Lr})),r.d(u,"sqrLen",(function(){return Dr})),r.d(u,"forEach",(function(){return Cr}));var c={};r.r(c),r.d(c,"create",(function(){return Ir})),r.d(c,"clone",(function(){return Ur})),r.d(c,"fromValues",(function(){return Br})),r.d(c,"copy",(function(){return qr})),r.d(c,"set",(function(){return jr})),r.d(c,"add",(function(){return Vr})),r.d(c,"subtract",(function(){return Nr})),r.d(c,"multiply",(function(){return Gr})),r.d(c,"divide",(function(){return Hr})),r.d(c,"ceil",(function(){return Wr})),r.d(c,"floor",(function(){return Yr})),r.d(c,"min",(function(){return Xr})),r.d(c,"max",(function(){return Zr})),r.d(c,"round",(function(){return Qr})),r.d(c,"scale",(function(){return Jr})),r.d(c,"scaleAndAdd",(function(){return Kr})),r.d(c,"distance",(function(){return $r})),r.d(c,"squaredDistance",(function(){return en})),r.d(c,"length",(function(){return tn})),r.d(c,"squaredLength",(function(){return rn})),r.d(c,"negate",(function(){return nn})),r.d(c,"inverse",(function(){return an})),r.d(c,"normalize",(function(){return on})),r.d(c,"dot",(function(){return sn})),r.d(c,"cross",(function(){return un})),r.d(c,"lerp",(function(){return cn})),r.d(c,"random",(function(){return fn})),r.d(c,"transformMat4",(function(){return _n})),r.d(c,"transformQuat",(function(){return dn})),r.d(c,"zero",(function(){return ln})),r.d(c,"str",(function(){return hn})),r.d(c,"exactEquals",(function(){return mn})),r.d(c,"equals",(function(){return pn})),r.d(c,"sub",(function(){return bn})),r.d(c,"mul",(function(){return vn})),r.d(c,"div",(function(){return gn})),r.d(c,"dist",(function(){return Mn})),r.d(c,"sqrDist",(function(){return yn})),r.d(c,"len",(function(){return wn})),r.d(c,"sqrLen",(function(){return xn})),r.d(c,"forEach",(function(){return En}));var f={};r.r(f),r.d(f,"create",(function(){return An})),r.d(f,"identity",(function(){return kn})),r.d(f,"setAxisAngle",(function(){return Tn})),r.d(f,"getAxisAngle",(function(){return zn})),r.d(f,"getAngle",(function(){return Fn})),r.d(f,"multiply",(function(){return Rn})),r.d(f,"rotateX",(function(){return Pn})),r.d(f,"rotateY",(function(){return Sn})),r.d(f,"rotateZ",(function(){return On})),r.d(f,"calculateW",(function(){return Ln})),r.d(f,"exp",(function(){return Dn})),r.d(f,"ln",(function(){return Cn})),r.d(f,"pow",(function(){return In})),r.d(f,"slerp",(function(){return Un})),r.d(f,"random",(function(){return Bn})),r.d(f,"invert",(function(){return qn})),r.d(f,"conjugate",(function(){return jn})),r.d(f,"fromMat3",(function(){return Vn})),r.d(f,"fromEuler",(function(){return Nn})),r.d(f,"str",(function(){return Gn})),r.d(f,"clone",(function(){return Jn})),r.d(f,"fromValues",(function(){return Kn})),r.d(f,"copy",(function(){return $n})),r.d(f,"set",(function(){return ea})),r.d(f,"add",(function(){return ta})),r.d(f,"mul",(function(){return ra})),r.d(f,"scale",(function(){return na})),r.d(f,"dot",(function(){return aa})),r.d(f,"lerp",(function(){return ia})),r.d(f,"length",(function(){return oa})),r.d(f,"len",(function(){return sa})),r.d(f,"squaredLength",(function(){return ua})),r.d(f,"sqrLen",(function(){return ca})),r.d(f,"normalize",(function(){return fa})),r.d(f,"exactEquals",(function(){return _a})),r.d(f,"equals",(function(){return da})),r.d(f,"rotationTo",(function(){return la})),r.d(f,"sqlerp",(function(){return ha})),r.d(f,"setAxes",(function(){return ma}));var _={};r.r(_),r.d(_,"create",(function(){return pa})),r.d(_,"clone",(function(){return ba})),r.d(_,"fromValues",(function(){return va})),r.d(_,"fromRotationTranslationValues",(function(){return ga})),r.d(_,"fromRotationTranslation",(function(){return Ma})),r.d(_,"fromTranslation",(function(){return ya})),r.d(_,"fromRotation",(function(){return wa})),r.d(_,"fromMat4",(function(){return xa})),r.d(_,"copy",(function(){return Ea})),r.d(_,"identity",(function(){return Aa})),r.d(_,"set",(function(){return ka})),r.d(_,"getReal",(function(){return Ta})),r.d(_,"getDual",(function(){return za})),r.d(_,"setReal",(function(){return Fa})),r.d(_,"setDual",(function(){return Ra})),r.d(_,"getTranslation",(function(){return Pa})),r.d(_,"translate",(function(){return Sa})),r.d(_,"rotateX",(function(){return Oa})),r.d(_,"rotateY",(function(){return La})),r.d(_,"rotateZ",(function(){return Da})),r.d(_,"rotateByQuatAppend",(function(){return Ca})),r.d(_,"rotateByQuatPrepend",(function(){return Ia})),r.d(_,"rotateAroundAxis",(function(){return Ua})),r.d(_,"add",(function(){return Ba})),r.d(_,"multiply",(function(){return qa})),r.d(_,"mul",(function(){return ja})),r.d(_,"scale",(function(){return Va})),r.d(_,"dot",(function(){return Na})),r.d(_,"lerp",(function(){return Ga})),r.d(_,"invert",(function(){return Ha})),r.d(_,"conjugate",(function(){return Wa})),r.d(_,"length",(function(){return Ya})),r.d(_,"len",(function(){return Xa})),r.d(_,"squaredLength",(function(){return Za})),r.d(_,"sqrLen",(function(){return Qa})),r.d(_,"normalize",(function(){return Ja})),r.d(_,"str",(function(){return Ka})),r.d(_,"exactEquals",(function(){return $a})),r.d(_,"equals",(function(){return ei}));var d={};r.r(d),r.d(d,"create",(function(){return ti})),r.d(d,"clone",(function(){return ri})),r.d(d,"fromValues",(function(){return ni})),r.d(d,"copy",(function(){return ai})),r.d(d,"set",(function(){return ii})),r.d(d,"add",(function(){return oi})),r.d(d,"subtract",(function(){return si})),r.d(d,"multiply",(function(){return ui})),r.d(d,"divide",(function(){return ci})),r.d(d,"ceil",(function(){return fi})),r.d(d,"floor",(function(){return _i})),r.d(d,"min",(function(){return di})),r.d(d,"max",(function(){return li})),r.d(d,"round",(function(){return hi})),r.d(d,"scale",(function(){return mi})),r.d(d,"scaleAndAdd",(function(){return pi})),r.d(d,"distance",(function(){return bi})),r.d(d,"squaredDistance",(function(){return vi})),r.d(d,"length",(function(){return gi})),r.d(d,"squaredLength",(function(){return Mi})),r.d(d,"negate",(function(){return yi})),r.d(d,"inverse",(function(){return wi})),r.d(d,"normalize",(function(){return xi})),r.d(d,"dot",(function(){return Ei})),r.d(d,"cross",(function(){return Ai})),r.d(d,"lerp",(function(){return ki})),r.d(d,"random",(function(){return Ti})),r.d(d,"transformMat2",(function(){return zi})),r.d(d,"transformMat2d",(function(){return Fi})),r.d(d,"transformMat3",(function(){return Ri})),r.d(d,"transformMat4",(function(){return Pi})),r.d(d,"rotate",(function(){return Si})),r.d(d,"angle",(function(){return Oi})),r.d(d,"zero",(function(){return Li})),r.d(d,"str",(function(){return Di})),r.d(d,"exactEquals",(function(){return Ci})),r.d(d,"equals",(function(){return Ii})),r.d(d,"len",(function(){return Ui})),r.d(d,"sub",(function(){return Bi})),r.d(d,"mul",(function(){return qi})),r.d(d,"div",(function(){return ji})),r.d(d,"dist",(function(){return Vi})),r.d(d,"sqrDist",(function(){return Ni})),r.d(d,"sqrLen",(function(){return Gi})),r.d(d,"forEach",(function(){return Hi}));var l=1e-6,h="undefined"!=typeof Float32Array?Float32Array:Array,m=Math.random;function p(e){h=e}var b=Math.PI/180;function v(e){return e*b}function g(e,t){return Math.abs(e-t)<=l*Math.max(1,Math.abs(e),Math.abs(t))}function M(){var e=new h(4);return h!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function y(e){var t=new h(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function w(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function x(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function E(e,t,r,n){var a=new h(4);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a}function A(e,t,r,n,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e}function k(e,t){if(e===t){var r=t[1];e[1]=t[2],e[2]=r}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function T(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*i-a*n;return o?(o=1/o,e[0]=i*o,e[1]=-n*o,e[2]=-a*o,e[3]=r*o,e):null}function z(e,t){var r=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=r,e}function F(e){return e[0]*e[3]-e[2]*e[1]}function R(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],u=r[1],c=r[2],f=r[3];return e[0]=n*s+i*u,e[1]=a*s+o*u,e[2]=n*c+i*f,e[3]=a*c+o*f,e}function P(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+i*s,e[1]=a*u+o*s,e[2]=n*-s+i*u,e[3]=a*-s+o*u,e}function S(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],u=r[1];return e[0]=n*s,e[1]=a*s,e[2]=i*u,e[3]=o*u,e}function O(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e}function L(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function D(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function C(e){return Math.hypot(e[0],e[1],e[2],e[3])}function I(e,t,r,n){return e[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-e[2]*r[1],[e,t,r]}function U(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function B(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function q(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function j(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=t[0],s=t[1],u=t[2],c=t[3];return Math.abs(r-o)<=l*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=l*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-u)<=l*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-c)<=l*Math.max(1,Math.abs(i),Math.abs(c))}function V(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function N(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var G=R,H=B;function W(){var e=new h(6);return h!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function Y(e){var t=new h(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function X(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Z(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Q(e,t,r,n,a,i){var o=new h(6);return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=a,o[5]=i,o}function J(e,t,r,n,a,i,o){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=i,e[5]=o,e}function K(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=r*i-n*a;return u?(u=1/u,e[0]=i*u,e[1]=-n*u,e[2]=-a*u,e[3]=r*u,e[4]=(a*s-i*o)*u,e[5]=(n*o-r*s)*u,e):null}function $(e){return e[0]*e[3]-e[1]*e[2]}function ee(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=r[0],f=r[1],_=r[2],d=r[3],l=r[4],h=r[5];return e[0]=n*c+i*f,e[1]=a*c+o*f,e[2]=n*_+i*d,e[3]=a*_+o*d,e[4]=n*l+i*h+s,e[5]=a*l+o*h+u,e}function te(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=Math.sin(r),f=Math.cos(r);return e[0]=n*f+i*c,e[1]=a*f+o*c,e[2]=n*-c+i*f,e[3]=a*-c+o*f,e[4]=s,e[5]=u,e}function re(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=r[0],f=r[1];return e[0]=n*c,e[1]=a*c,e[2]=i*f,e[3]=o*f,e[4]=s,e[5]=u,e}function ne(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=r[0],f=r[1];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=n*c+i*f+s,e[5]=a*c+o*f+u,e}function ae(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function ie(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function oe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function se(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function ue(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)}function ce(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function fe(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function _e(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function de(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e}function le(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function he(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=t[0],c=t[1],f=t[2],_=t[3],d=t[4],h=t[5];return Math.abs(r-u)<=l*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-c)<=l*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-f)<=l*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(i-_)<=l*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-d)<=l*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-h)<=l*Math.max(1,Math.abs(s),Math.abs(h))}var me=ee,pe=fe;function be(){var e=new h(9);return h!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function ve(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function ge(e){var t=new h(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Me(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function ye(e,t,r,n,a,i,o,s,u){var c=new h(9);return c[0]=e,c[1]=t,c[2]=r,c[3]=n,c[4]=a,c[5]=i,c[6]=o,c[7]=s,c[8]=u,c}function we(e,t,r,n,a,i,o,s,u,c){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=u,e[8]=c,e}function xe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Ee(e,t){if(e===t){var r=t[1],n=t[2],a=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=a}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function Ae(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],f=t[8],_=f*o-s*c,d=-f*i+s*u,l=c*i-o*u,h=r*_+n*d+a*l;return h?(h=1/h,e[0]=_*h,e[1]=(-f*n+a*c)*h,e[2]=(s*n-a*o)*h,e[3]=d*h,e[4]=(f*r-a*u)*h,e[5]=(-s*r+a*i)*h,e[6]=l*h,e[7]=(-c*r+n*u)*h,e[8]=(o*r-n*i)*h,e):null}function ke(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],f=t[8];return e[0]=o*f-s*c,e[1]=a*c-n*f,e[2]=n*s-a*o,e[3]=s*u-i*f,e[4]=r*f-a*u,e[5]=a*i-r*s,e[6]=i*c-o*u,e[7]=n*u-r*c,e[8]=r*o-n*i,e}function Te(e){var t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],c=e[8];return t*(c*i-o*u)+r*(-c*a+o*s)+n*(u*a-i*s)}function ze(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=t[8],d=r[0],l=r[1],h=r[2],m=r[3],p=r[4],b=r[5],v=r[6],g=r[7],M=r[8];return e[0]=d*n+l*o+h*c,e[1]=d*a+l*s+h*f,e[2]=d*i+l*u+h*_,e[3]=m*n+p*o+b*c,e[4]=m*a+p*s+b*f,e[5]=m*i+p*u+b*_,e[6]=v*n+g*o+M*c,e[7]=v*a+g*s+M*f,e[8]=v*i+g*u+M*_,e}function Fe(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=t[8],d=r[0],l=r[1];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=u,e[6]=d*n+l*o+c,e[7]=d*a+l*s+f,e[8]=d*i+l*u+_,e}function Re(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=t[8],d=Math.sin(r),l=Math.cos(r);return e[0]=l*n+d*o,e[1]=l*a+d*s,e[2]=l*i+d*u,e[3]=l*o-d*n,e[4]=l*s-d*a,e[5]=l*u-d*i,e[6]=c,e[7]=f,e[8]=_,e}function Pe(e,t,r){var n=r[0],a=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Se(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function Oe(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Le(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function De(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Ce(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r+r,s=n+n,u=a+a,c=r*o,f=n*o,_=n*s,d=a*o,l=a*s,h=a*u,m=i*o,p=i*s,b=i*u;return e[0]=1-_-h,e[3]=f-b,e[6]=d+p,e[1]=f+b,e[4]=1-c-h,e[7]=l-m,e[2]=d-p,e[5]=l+m,e[8]=1-c-_,e}function Ie(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],f=t[8],_=t[9],d=t[10],l=t[11],h=t[12],m=t[13],p=t[14],b=t[15],v=r*s-n*o,g=r*u-a*o,M=r*c-i*o,y=n*u-a*s,w=n*c-i*s,x=a*c-i*u,E=f*m-_*h,A=f*p-d*h,k=f*b-l*h,T=_*p-d*m,z=_*b-l*m,F=d*b-l*p,R=v*F-g*z+M*T+y*k-w*A+x*E;return R?(R=1/R,e[0]=(s*F-u*z+c*T)*R,e[1]=(u*k-o*F-c*A)*R,e[2]=(o*z-s*k+c*E)*R,e[3]=(a*z-n*F-i*T)*R,e[4]=(r*F-a*k+i*A)*R,e[5]=(n*k-r*z-i*E)*R,e[6]=(m*x-p*w+b*y)*R,e[7]=(p*M-h*x-b*g)*R,e[8]=(h*w-m*M+b*v)*R,e):null}function Ue(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Be(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function qe(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function je(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function Ve(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function Ne(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function Ge(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function He(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function We(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],f=e[8],_=t[0],d=t[1],h=t[2],m=t[3],p=t[4],b=t[5],v=t[6],g=t[7],M=t[8];return Math.abs(r-_)<=l*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(n-d)<=l*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(a-h)<=l*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(i-m)<=l*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(o-p)<=l*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-b)<=l*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(u-v)<=l*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(c-g)<=l*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(f-M)<=l*Math.max(1,Math.abs(f),Math.abs(M))}var Ye=ze,Xe=Ve;function Ze(){var e=new h(16);return h!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Qe(e){var t=new h(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Je(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ke(e,t,r,n,a,i,o,s,u,c,f,_,d,l,m,p){var b=new h(16);return b[0]=e,b[1]=t,b[2]=r,b[3]=n,b[4]=a,b[5]=i,b[6]=o,b[7]=s,b[8]=u,b[9]=c,b[10]=f,b[11]=_,b[12]=d,b[13]=l,b[14]=m,b[15]=p,b}function $e(e,t,r,n,a,i,o,s,u,c,f,_,d,l,h,m,p){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=u,e[8]=c,e[9]=f,e[10]=_,e[11]=d,e[12]=l,e[13]=h,e[14]=m,e[15]=p,e}function et(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function tt(e,t){if(e===t){var r=t[1],n=t[2],a=t[3],i=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=i,e[11]=t[14],e[12]=a,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function rt(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],f=t[8],_=t[9],d=t[10],l=t[11],h=t[12],m=t[13],p=t[14],b=t[15],v=r*s-n*o,g=r*u-a*o,M=r*c-i*o,y=n*u-a*s,w=n*c-i*s,x=a*c-i*u,E=f*m-_*h,A=f*p-d*h,k=f*b-l*h,T=_*p-d*m,z=_*b-l*m,F=d*b-l*p,R=v*F-g*z+M*T+y*k-w*A+x*E;return R?(R=1/R,e[0]=(s*F-u*z+c*T)*R,e[1]=(a*z-n*F-i*T)*R,e[2]=(m*x-p*w+b*y)*R,e[3]=(d*w-_*x-l*y)*R,e[4]=(u*k-o*F-c*A)*R,e[5]=(r*F-a*k+i*A)*R,e[6]=(p*M-h*x-b*g)*R,e[7]=(f*x-d*M+l*g)*R,e[8]=(o*z-s*k+c*E)*R,e[9]=(n*k-r*z-i*E)*R,e[10]=(h*w-m*M+b*v)*R,e[11]=(_*M-f*w-l*v)*R,e[12]=(s*A-o*T-u*E)*R,e[13]=(r*T-n*A+a*E)*R,e[14]=(m*g-h*y-p*v)*R,e[15]=(f*y-_*g+d*v)*R,e):null}function nt(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],f=t[8],_=t[9],d=t[10],l=t[11],h=t[12],m=t[13],p=t[14],b=t[15];return e[0]=s*(d*b-l*p)-_*(u*b-c*p)+m*(u*l-c*d),e[1]=-(n*(d*b-l*p)-_*(a*b-i*p)+m*(a*l-i*d)),e[2]=n*(u*b-c*p)-s*(a*b-i*p)+m*(a*c-i*u),e[3]=-(n*(u*l-c*d)-s*(a*l-i*d)+_*(a*c-i*u)),e[4]=-(o*(d*b-l*p)-f*(u*b-c*p)+h*(u*l-c*d)),e[5]=r*(d*b-l*p)-f*(a*b-i*p)+h*(a*l-i*d),e[6]=-(r*(u*b-c*p)-o*(a*b-i*p)+h*(a*c-i*u)),e[7]=r*(u*l-c*d)-o*(a*l-i*d)+f*(a*c-i*u),e[8]=o*(_*b-l*m)-f*(s*b-c*m)+h*(s*l-c*_),e[9]=-(r*(_*b-l*m)-f*(n*b-i*m)+h*(n*l-i*_)),e[10]=r*(s*b-c*m)-o*(n*b-i*m)+h*(n*c-i*s),e[11]=-(r*(s*l-c*_)-o*(n*l-i*_)+f*(n*c-i*s)),e[12]=-(o*(_*p-d*m)-f*(s*p-u*m)+h*(s*d-u*_)),e[13]=r*(_*p-d*m)-f*(n*p-a*m)+h*(n*d-a*_),e[14]=-(r*(s*p-u*m)-o*(n*p-a*m)+h*(n*u-a*s)),e[15]=r*(s*d-u*_)-o*(n*d-a*_)+f*(n*u-a*s),e}function at(e){var t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],c=e[8],f=e[9],_=e[10],d=e[11],l=e[12],h=e[13],m=e[14],p=e[15];return(t*o-r*i)*(_*p-d*m)-(t*s-n*i)*(f*p-d*h)+(t*u-a*i)*(f*m-_*h)+(r*s-n*o)*(c*p-d*l)-(r*u-a*o)*(c*m-_*l)+(n*u-a*s)*(c*h-f*l)}function it(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=t[8],d=t[9],l=t[10],h=t[11],m=t[12],p=t[13],b=t[14],v=t[15],g=r[0],M=r[1],y=r[2],w=r[3];return e[0]=g*n+M*s+y*_+w*m,e[1]=g*a+M*u+y*d+w*p,e[2]=g*i+M*c+y*l+w*b,e[3]=g*o+M*f+y*h+w*v,g=r[4],M=r[5],y=r[6],w=r[7],e[4]=g*n+M*s+y*_+w*m,e[5]=g*a+M*u+y*d+w*p,e[6]=g*i+M*c+y*l+w*b,e[7]=g*o+M*f+y*h+w*v,g=r[8],M=r[9],y=r[10],w=r[11],e[8]=g*n+M*s+y*_+w*m,e[9]=g*a+M*u+y*d+w*p,e[10]=g*i+M*c+y*l+w*b,e[11]=g*o+M*f+y*h+w*v,g=r[12],M=r[13],y=r[14],w=r[15],e[12]=g*n+M*s+y*_+w*m,e[13]=g*a+M*u+y*d+w*p,e[14]=g*i+M*c+y*l+w*b,e[15]=g*o+M*f+y*h+w*v,e}function ot(e,t,r){var n,a,i,o,s,u,c,f,_,d,l,h,m=r[0],p=r[1],b=r[2];return t===e?(e[12]=t[0]*m+t[4]*p+t[8]*b+t[12],e[13]=t[1]*m+t[5]*p+t[9]*b+t[13],e[14]=t[2]*m+t[6]*p+t[10]*b+t[14],e[15]=t[3]*m+t[7]*p+t[11]*b+t[15]):(n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=t[8],d=t[9],l=t[10],h=t[11],e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=u,e[6]=c,e[7]=f,e[8]=_,e[9]=d,e[10]=l,e[11]=h,e[12]=n*m+s*p+_*b+t[12],e[13]=a*m+u*p+d*b+t[13],e[14]=i*m+c*p+l*b+t[14],e[15]=o*m+f*p+h*b+t[15]),e}function st(e,t,r){var n=r[0],a=r[1],i=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ut(e,t,r,n){var a,i,o,s,u,c,f,_,d,h,m,p,b,v,g,M,y,w,x,E,A,k,T,z,F=n[0],R=n[1],P=n[2],S=Math.hypot(F,R,P);return S<l?null:(F*=S=1/S,R*=S,P*=S,a=Math.sin(r),o=1-(i=Math.cos(r)),s=t[0],u=t[1],c=t[2],f=t[3],_=t[4],d=t[5],h=t[6],m=t[7],p=t[8],b=t[9],v=t[10],g=t[11],M=F*F*o+i,y=R*F*o+P*a,w=P*F*o-R*a,x=F*R*o-P*a,E=R*R*o+i,A=P*R*o+F*a,k=F*P*o+R*a,T=R*P*o-F*a,z=P*P*o+i,e[0]=s*M+_*y+p*w,e[1]=u*M+d*y+b*w,e[2]=c*M+h*y+v*w,e[3]=f*M+m*y+g*w,e[4]=s*x+_*E+p*A,e[5]=u*x+d*E+b*A,e[6]=c*x+h*E+v*A,e[7]=f*x+m*E+g*A,e[8]=s*k+_*T+p*z,e[9]=u*k+d*T+b*z,e[10]=c*k+h*T+v*z,e[11]=f*k+m*T+g*z,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function ct(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[4],o=t[5],s=t[6],u=t[7],c=t[8],f=t[9],_=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+c*n,e[5]=o*a+f*n,e[6]=s*a+_*n,e[7]=u*a+d*n,e[8]=c*a-i*n,e[9]=f*a-o*n,e[10]=_*a-s*n,e[11]=d*a-u*n,e}function ft(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[0],o=t[1],s=t[2],u=t[3],c=t[8],f=t[9],_=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a-c*n,e[1]=o*a-f*n,e[2]=s*a-_*n,e[3]=u*a-d*n,e[8]=i*n+c*a,e[9]=o*n+f*a,e[10]=s*n+_*a,e[11]=u*n+d*a,e}function _t(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[0],o=t[1],s=t[2],u=t[3],c=t[4],f=t[5],_=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+c*n,e[1]=o*a+f*n,e[2]=s*a+_*n,e[3]=u*a+d*n,e[4]=c*a-i*n,e[5]=f*a-o*n,e[6]=_*a-s*n,e[7]=d*a-u*n,e}function dt(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function lt(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ht(e,t,r){var n,a,i,o=r[0],s=r[1],u=r[2],c=Math.hypot(o,s,u);return c<l?null:(o*=c=1/c,s*=c,u*=c,n=Math.sin(t),i=1-(a=Math.cos(t)),e[0]=o*o*i+a,e[1]=s*o*i+u*n,e[2]=u*o*i-s*n,e[3]=0,e[4]=o*s*i-u*n,e[5]=s*s*i+a,e[6]=u*s*i+o*n,e[7]=0,e[8]=o*u*i+s*n,e[9]=s*u*i-o*n,e[10]=u*u*i+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function mt(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function pt(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function bt(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vt(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=n+n,u=a+a,c=i+i,f=n*s,_=n*u,d=n*c,l=a*u,h=a*c,m=i*c,p=o*s,b=o*u,v=o*c;return e[0]=1-(l+m),e[1]=_+v,e[2]=d-b,e[3]=0,e[4]=_-v,e[5]=1-(f+m),e[6]=h+p,e[7]=0,e[8]=d+b,e[9]=h-p,e[10]=1-(f+l),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function gt(e,t){var r=new h(3),n=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=n*n+a*a+i*i+o*o;return _>0?(r[0]=2*(s*o+f*n+u*i-c*a)/_,r[1]=2*(u*o+f*a+c*n-s*i)/_,r[2]=2*(c*o+f*i+s*a-u*n)/_):(r[0]=2*(s*o+f*n+u*i-c*a),r[1]=2*(u*o+f*a+c*n-s*i),r[2]=2*(c*o+f*i+s*a-u*n)),vt(e,t,r),e}function Mt(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function yt(e,t){var r=t[0],n=t[1],a=t[2],i=t[4],o=t[5],s=t[6],u=t[8],c=t[9],f=t[10];return e[0]=Math.hypot(r,n,a),e[1]=Math.hypot(i,o,s),e[2]=Math.hypot(u,c,f),e}function wt(e,t){var r=new h(3);yt(r,t);var n=1/r[0],a=1/r[1],i=1/r[2],o=t[0]*n,s=t[1]*a,u=t[2]*i,c=t[4]*n,f=t[5]*a,_=t[6]*i,d=t[8]*n,l=t[9]*a,m=t[10]*i,p=o+f+m,b=0;return p>0?(b=2*Math.sqrt(p+1),e[3]=.25*b,e[0]=(_-l)/b,e[1]=(d-u)/b,e[2]=(s-c)/b):o>f&&o>m?(b=2*Math.sqrt(1+o-f-m),e[3]=(_-l)/b,e[0]=.25*b,e[1]=(s+c)/b,e[2]=(d+u)/b):f>m?(b=2*Math.sqrt(1+f-o-m),e[3]=(d-u)/b,e[0]=(s+c)/b,e[1]=.25*b,e[2]=(_+l)/b):(b=2*Math.sqrt(1+m-o-f),e[3]=(s-c)/b,e[0]=(d+u)/b,e[1]=(_+l)/b,e[2]=.25*b),e}function xt(e,t,r,n){var a=t[0],i=t[1],o=t[2],s=t[3],u=a+a,c=i+i,f=o+o,_=a*u,d=a*c,l=a*f,h=i*c,m=i*f,p=o*f,b=s*u,v=s*c,g=s*f,M=n[0],y=n[1],w=n[2];return e[0]=(1-(h+p))*M,e[1]=(d+g)*M,e[2]=(l-v)*M,e[3]=0,e[4]=(d-g)*y,e[5]=(1-(_+p))*y,e[6]=(m+b)*y,e[7]=0,e[8]=(l+v)*w,e[9]=(m-b)*w,e[10]=(1-(_+h))*w,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function Et(e,t,r,n,a){var i=t[0],o=t[1],s=t[2],u=t[3],c=i+i,f=o+o,_=s+s,d=i*c,l=i*f,h=i*_,m=o*f,p=o*_,b=s*_,v=u*c,g=u*f,M=u*_,y=n[0],w=n[1],x=n[2],E=a[0],A=a[1],k=a[2],T=(1-(m+b))*y,z=(l+M)*y,F=(h-g)*y,R=(l-M)*w,P=(1-(d+b))*w,S=(p+v)*w,O=(h+g)*x,L=(p-v)*x,D=(1-(d+m))*x;return e[0]=T,e[1]=z,e[2]=F,e[3]=0,e[4]=R,e[5]=P,e[6]=S,e[7]=0,e[8]=O,e[9]=L,e[10]=D,e[11]=0,e[12]=r[0]+E-(T*E+R*A+O*k),e[13]=r[1]+A-(z*E+P*A+L*k),e[14]=r[2]+k-(F*E+S*A+D*k),e[15]=1,e}function At(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r+r,s=n+n,u=a+a,c=r*o,f=n*o,_=n*s,d=a*o,l=a*s,h=a*u,m=i*o,p=i*s,b=i*u;return e[0]=1-_-h,e[1]=f+b,e[2]=d-p,e[3]=0,e[4]=f-b,e[5]=1-c-h,e[6]=l+m,e[7]=0,e[8]=d+p,e[9]=l-m,e[10]=1-c-_,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function kt(e,t,r,n,a,i,o){var s=1/(r-t),u=1/(a-n),c=1/(i-o);return e[0]=2*i*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*u,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(a+n)*u,e[10]=(o+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*c,e[15]=0,e}function Tt(e,t,r,n,a){var i,o=1/Math.tan(t/2);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=a&&a!==1/0?(i=1/(n-a),e[10]=(a+n)*i,e[14]=2*a*n*i):(e[10]=-1,e[14]=-2*n),e}function zt(e,t,r,n){var a=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(o+s),c=2/(a+i);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(o-s)*u*.5,e[9]=(a-i)*c*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function Ft(e,t,r,n,a,i,o){var s=1/(t-r),u=1/(n-a),c=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*s,e[13]=(a+n)*u,e[14]=(o+i)*c,e[15]=1,e}function Rt(e,t,r,n){var a,i,o,s,u,c,f,_,d,h,m=t[0],p=t[1],b=t[2],v=n[0],g=n[1],M=n[2],y=r[0],w=r[1],x=r[2];return Math.abs(m-y)<l&&Math.abs(p-w)<l&&Math.abs(b-x)<l?et(e):(f=m-y,_=p-w,d=b-x,a=g*(d*=h=1/Math.hypot(f,_,d))-M*(_*=h),i=M*(f*=h)-v*d,o=v*_-g*f,(h=Math.hypot(a,i,o))?(a*=h=1/h,i*=h,o*=h):(a=0,i=0,o=0),s=_*o-d*i,u=d*a-f*o,c=f*i-_*a,(h=Math.hypot(s,u,c))?(s*=h=1/h,u*=h,c*=h):(s=0,u=0,c=0),e[0]=a,e[1]=s,e[2]=f,e[3]=0,e[4]=i,e[5]=u,e[6]=_,e[7]=0,e[8]=o,e[9]=c,e[10]=d,e[11]=0,e[12]=-(a*m+i*p+o*b),e[13]=-(s*m+u*p+c*b),e[14]=-(f*m+_*p+d*b),e[15]=1,e)}function Pt(e,t,r,n){var a=t[0],i=t[1],o=t[2],s=n[0],u=n[1],c=n[2],f=a-r[0],_=i-r[1],d=o-r[2],l=f*f+_*_+d*d;l>0&&(f*=l=1/Math.sqrt(l),_*=l,d*=l);var h=u*d-c*_,m=c*f-s*d,p=s*_-u*f;return(l=h*h+m*m+p*p)>0&&(h*=l=1/Math.sqrt(l),m*=l,p*=l),e[0]=h,e[1]=m,e[2]=p,e[3]=0,e[4]=_*p-d*m,e[5]=d*h-f*p,e[6]=f*m-_*h,e[7]=0,e[8]=f,e[9]=_,e[10]=d,e[11]=0,e[12]=a,e[13]=i,e[14]=o,e[15]=1,e}function St(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Ot(e){return Math.hypot(e[0],e[1],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function Lt(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function Dt(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function Ct(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function It(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function Ut(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Bt(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],f=e[8],_=e[9],d=e[10],h=e[11],m=e[12],p=e[13],b=e[14],v=e[15],g=t[0],M=t[1],y=t[2],w=t[3],x=t[4],E=t[5],A=t[6],k=t[7],T=t[8],z=t[9],F=t[10],R=t[11],P=t[12],S=t[13],O=t[14],L=t[15];return Math.abs(r-g)<=l*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(n-M)<=l*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(a-y)<=l*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(i-w)<=l*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-x)<=l*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(s-E)<=l*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-A)<=l*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(c-k)<=l*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(f-T)<=l*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(_-z)<=l*Math.max(1,Math.abs(_),Math.abs(z))&&Math.abs(d-F)<=l*Math.max(1,Math.abs(d),Math.abs(F))&&Math.abs(h-R)<=l*Math.max(1,Math.abs(h),Math.abs(R))&&Math.abs(m-P)<=l*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(p-S)<=l*Math.max(1,Math.abs(p),Math.abs(S))&&Math.abs(b-O)<=l*Math.max(1,Math.abs(b),Math.abs(O))&&Math.abs(v-L)<=l*Math.max(1,Math.abs(v),Math.abs(L))}var qt=it,jt=Dt;function Vt(){var e=new h(3);return h!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Nt(e){var t=new h(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Gt(e){var t=e[0],r=e[1],n=e[2];return Math.hypot(t,r,n)}function Ht(e,t,r){var n=new h(3);return n[0]=e,n[1]=t,n[2]=r,n}function Wt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Yt(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function Xt(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function Zt(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function Qt(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function Jt(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function Kt(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function $t(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function er(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function tr(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function rr(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function nr(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function ar(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function ir(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return Math.hypot(r,n,a)}function or(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return r*r+n*n+a*a}function sr(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function ur(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function cr(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function fr(e,t){var r=t[0],n=t[1],a=t[2],i=r*r+n*n+a*a;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function _r(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function dr(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[0],s=r[1],u=r[2];return e[0]=a*u-i*s,e[1]=i*o-n*u,e[2]=n*s-a*o,e}function lr(e,t,r,n){var a=t[0],i=t[1],o=t[2];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e[2]=o+n*(r[2]-o),e}function hr(e,t,r,n,a,i){var o=i*i,s=o*(2*i-3)+1,u=o*(i-2)+i,c=o*(i-1),f=o*(3-2*i);return e[0]=t[0]*s+r[0]*u+n[0]*c+a[0]*f,e[1]=t[1]*s+r[1]*u+n[1]*c+a[1]*f,e[2]=t[2]*s+r[2]*u+n[2]*c+a[2]*f,e}function mr(e,t,r,n,a,i){var o=1-i,s=o*o,u=i*i,c=s*o,f=3*i*s,_=3*u*o,d=u*i;return e[0]=t[0]*c+r[0]*f+n[0]*_+a[0]*d,e[1]=t[1]*c+r[1]*f+n[1]*_+a[1]*d,e[2]=t[2]*c+r[2]*f+n[2]*_+a[2]*d,e}function pr(e,t){t=t||1;var r=2*m()*Math.PI,n=2*m()-1,a=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*a,e[1]=Math.sin(r)*a,e[2]=n*t,e}function br(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[3]*n+r[7]*a+r[11]*i+r[15];return o=o||1,e[0]=(r[0]*n+r[4]*a+r[8]*i+r[12])/o,e[1]=(r[1]*n+r[5]*a+r[9]*i+r[13])/o,e[2]=(r[2]*n+r[6]*a+r[10]*i+r[14])/o,e}function vr(e,t,r){var n=t[0],a=t[1],i=t[2];return e[0]=n*r[0]+a*r[3]+i*r[6],e[1]=n*r[1]+a*r[4]+i*r[7],e[2]=n*r[2]+a*r[5]+i*r[8],e}function gr(e,t,r){var n=r[0],a=r[1],i=r[2],o=r[3],s=t[0],u=t[1],c=t[2],f=a*c-i*u,_=i*s-n*c,d=n*u-a*s,l=a*d-i*_,h=i*f-n*d,m=n*_-a*f,p=2*o;return f*=p,_*=p,d*=p,l*=2,h*=2,m*=2,e[0]=s+f+l,e[1]=u+_+h,e[2]=c+d+m,e}function Mr(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[0],i[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),i[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e}function yr(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),i[1]=a[1],i[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e}function wr(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),i[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),i[2]=a[2],e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e}function xr(e,t){var r=Ht(e[0],e[1],e[2]),n=Ht(t[0],t[1],t[2]);fr(r,r),fr(n,n);var a=_r(r,n);return a>1?0:a<-1?Math.PI:Math.acos(a)}function Er(e){return e[0]=0,e[1]=0,e[2]=0,e}function Ar(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function kr(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Tr(e,t){var r=e[0],n=e[1],a=e[2],i=t[0],o=t[1],s=t[2];return Math.abs(r-i)<=l*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-o)<=l*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-s)<=l*Math.max(1,Math.abs(a),Math.abs(s))}var zr,Fr=Zt,Rr=Qt,Pr=Jt,Sr=ir,Or=or,Lr=Gt,Dr=sr,Cr=(zr=Vt(),function(e,t,r,n,a,i){var o,s;for(t||(t=3),r||(r=0),s=n?Math.min(n*t+r,e.length):e.length,o=r;o<s;o+=t)zr[0]=e[o],zr[1]=e[o+1],zr[2]=e[o+2],a(zr,zr,i),e[o]=zr[0],e[o+1]=zr[1],e[o+2]=zr[2];return e});function Ir(){var e=new h(4);return h!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Ur(e){var t=new h(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Br(e,t,r,n){var a=new h(4);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a}function qr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function jr(e,t,r,n,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e}function Vr(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function Nr(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function Gr(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function Hr(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function Wr(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Yr(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function Xr(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function Zr(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function Qr(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function Jr(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function Kr(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function $r(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return Math.hypot(r,n,a,i)}function en(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return r*r+n*n+a*a+i*i}function tn(e){var t=e[0],r=e[1],n=e[2],a=e[3];return Math.hypot(t,r,n,a)}function rn(e){var t=e[0],r=e[1],n=e[2],a=e[3];return t*t+r*r+n*n+a*a}function nn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function an(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function on(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*r+n*n+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=r*o,e[1]=n*o,e[2]=a*o,e[3]=i*o,e}function sn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function un(e,t,r,n){var a=r[0]*n[1]-r[1]*n[0],i=r[0]*n[2]-r[2]*n[0],o=r[0]*n[3]-r[3]*n[0],s=r[1]*n[2]-r[2]*n[1],u=r[1]*n[3]-r[3]*n[1],c=r[2]*n[3]-r[3]*n[2],f=t[0],_=t[1],d=t[2],l=t[3];return e[0]=_*c-d*u+l*s,e[1]=-f*c+d*o-l*i,e[2]=f*u-_*o+l*a,e[3]=-f*s+_*i-d*a,e}function cn(e,t,r,n){var a=t[0],i=t[1],o=t[2],s=t[3];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e[2]=o+n*(r[2]-o),e[3]=s+n*(r[3]-s),e}function fn(e,t){var r,n,a,i,o,s;t=t||1;do{o=(r=2*m()-1)*r+(n=2*m()-1)*n}while(o>=1);do{s=(a=2*m()-1)*a+(i=2*m()-1)*i}while(s>=1);var u=Math.sqrt((1-o)/s);return e[0]=t*r,e[1]=t*n,e[2]=t*a*u,e[3]=t*i*u,e}function _n(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3];return e[0]=r[0]*n+r[4]*a+r[8]*i+r[12]*o,e[1]=r[1]*n+r[5]*a+r[9]*i+r[13]*o,e[2]=r[2]*n+r[6]*a+r[10]*i+r[14]*o,e[3]=r[3]*n+r[7]*a+r[11]*i+r[15]*o,e}function dn(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[0],s=r[1],u=r[2],c=r[3],f=c*n+s*i-u*a,_=c*a+u*n-o*i,d=c*i+o*a-s*n,l=-o*n-s*a-u*i;return e[0]=f*c+l*-o+_*-u-d*-s,e[1]=_*c+l*-s+d*-o-f*-u,e[2]=d*c+l*-u+f*-s-_*-o,e[3]=t[3],e}function ln(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function hn(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function mn(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function pn(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=t[0],s=t[1],u=t[2],c=t[3];return Math.abs(r-o)<=l*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=l*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-u)<=l*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-c)<=l*Math.max(1,Math.abs(i),Math.abs(c))}var bn=Nr,vn=Gr,gn=Hr,Mn=$r,yn=en,wn=tn,xn=rn,En=function(){var e=Ir();return function(t,r,n,a,i,o){var s,u;for(r||(r=4),n||(n=0),u=a?Math.min(a*r+n,t.length):t.length,s=n;s<u;s+=r)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}();function An(){var e=new h(4);return h!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function kn(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Tn(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function zn(e,t){var r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>l?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function Fn(e,t){var r=aa(e,t);return Math.acos(2*r*r-1)}function Rn(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],u=r[1],c=r[2],f=r[3];return e[0]=n*f+o*s+a*c-i*u,e[1]=a*f+o*u+i*s-n*c,e[2]=i*f+o*c+n*u-a*s,e[3]=o*f-n*s-a*u-i*c,e}function Pn(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+o*s,e[1]=a*u+i*s,e[2]=i*u-a*s,e[3]=o*u-n*s,e}function Sn(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u-i*s,e[1]=a*u+o*s,e[2]=i*u+n*s,e[3]=o*u-a*s,e}function On(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+a*s,e[1]=a*u-n*s,e[2]=i*u+o*s,e[3]=o*u-i*s,e}function Ln(e,t){var r=t[0],n=t[1],a=t[2];return e[0]=r,e[1]=n,e[2]=a,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-a*a)),e}function Dn(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=Math.sqrt(r*r+n*n+a*a),s=Math.exp(i),u=o>0?s*Math.sin(o)/o:0;return e[0]=r*u,e[1]=n*u,e[2]=a*u,e[3]=s*Math.cos(o),e}function Cn(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=Math.sqrt(r*r+n*n+a*a),s=o>0?Math.atan2(o,i)/o:0;return e[0]=r*s,e[1]=n*s,e[2]=a*s,e[3]=.5*Math.log(r*r+n*n+a*a+i*i),e}function In(e,t,r){return Cn(e,t),na(e,e,r),Dn(e,e),e}function Un(e,t,r,n){var a,i,o,s,u,c=t[0],f=t[1],_=t[2],d=t[3],h=r[0],m=r[1],p=r[2],b=r[3];return(i=c*h+f*m+_*p+d*b)<0&&(i=-i,h=-h,m=-m,p=-p,b=-b),1-i>l?(a=Math.acos(i),o=Math.sin(a),s=Math.sin((1-n)*a)/o,u=Math.sin(n*a)/o):(s=1-n,u=n),e[0]=s*c+u*h,e[1]=s*f+u*m,e[2]=s*_+u*p,e[3]=s*d+u*b,e}function Bn(e){var t=m(),r=m(),n=m(),a=Math.sqrt(1-t),i=Math.sqrt(t);return e[0]=a*Math.sin(2*Math.PI*r),e[1]=a*Math.cos(2*Math.PI*r),e[2]=i*Math.sin(2*Math.PI*n),e[3]=i*Math.cos(2*Math.PI*n),e}function qn(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*r+n*n+a*a+i*i,s=o?1/o:0;return e[0]=-r*s,e[1]=-n*s,e[2]=-a*s,e[3]=i*s,e}function jn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function Vn(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[3*a+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;r=Math.sqrt(t[3*a+a]-t[3*i+i]-t[3*o+o]+1),e[a]=.5*r,r=.5/r,e[3]=(t[3*i+o]-t[3*o+i])*r,e[i]=(t[3*i+a]+t[3*a+i])*r,e[o]=(t[3*o+a]+t[3*a+o])*r}return e}function Nn(e,t,r,n){var a=.5*Math.PI/180;t*=a,r*=a,n*=a;var i=Math.sin(t),o=Math.cos(t),s=Math.sin(r),u=Math.cos(r),c=Math.sin(n),f=Math.cos(n);return e[0]=i*u*f-o*s*c,e[1]=o*s*f+i*u*c,e[2]=o*u*c-i*s*f,e[3]=o*u*f+i*s*c,e}function Gn(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var Hn,Wn,Yn,Xn,Zn,Qn,Jn=Ur,Kn=Br,$n=qr,ea=jr,ta=Vr,ra=Rn,na=Jr,aa=sn,ia=cn,oa=tn,sa=oa,ua=rn,ca=ua,fa=on,_a=mn,da=pn,la=(Hn=Vt(),Wn=Ht(1,0,0),Yn=Ht(0,1,0),function(e,t,r){var n=_r(t,r);return n<-.999999?(dr(Hn,Wn,t),Lr(Hn)<1e-6&&dr(Hn,Yn,t),fr(Hn,Hn),Tn(e,Hn,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(dr(Hn,t,r),e[0]=Hn[0],e[1]=Hn[1],e[2]=Hn[2],e[3]=1+n,fa(e,e))}),ha=(Xn=An(),Zn=An(),function(e,t,r,n,a,i){return Un(Xn,t,a,i),Un(Zn,r,n,i),Un(e,Xn,Zn,2*i*(1-i)),e}),ma=(Qn=be(),function(e,t,r,n){return Qn[0]=r[0],Qn[3]=r[1],Qn[6]=r[2],Qn[1]=n[0],Qn[4]=n[1],Qn[7]=n[2],Qn[2]=-t[0],Qn[5]=-t[1],Qn[8]=-t[2],fa(e,Vn(e,Qn))});function pa(){var e=new h(8);return h!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function ba(e){var t=new h(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function va(e,t,r,n,a,i,o,s){var u=new h(8);return u[0]=e,u[1]=t,u[2]=r,u[3]=n,u[4]=a,u[5]=i,u[6]=o,u[7]=s,u}function ga(e,t,r,n,a,i,o){var s=new h(8);s[0]=e,s[1]=t,s[2]=r,s[3]=n;var u=.5*a,c=.5*i,f=.5*o;return s[4]=u*n+c*r-f*t,s[5]=c*n+f*e-u*r,s[6]=f*n+u*t-c*e,s[7]=-u*e-c*t-f*r,s}function Ma(e,t,r){var n=.5*r[0],a=.5*r[1],i=.5*r[2],o=t[0],s=t[1],u=t[2],c=t[3];return e[0]=o,e[1]=s,e[2]=u,e[3]=c,e[4]=n*c+a*u-i*s,e[5]=a*c+i*o-n*u,e[6]=i*c+n*s-a*o,e[7]=-n*o-a*s-i*u,e}function ya(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function wa(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function xa(e,t){var r=An();wt(r,t);var n=new h(3);return Mt(n,t),Ma(e,r,n),e}function Ea(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function Aa(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function ka(e,t,r,n,a,i,o,s,u){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=u,e}var Ta=$n;function za(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var Fa=$n;function Ra(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function Pa(e,t){var r=t[4],n=t[5],a=t[6],i=t[7],o=-t[0],s=-t[1],u=-t[2],c=t[3];return e[0]=2*(r*c+i*o+n*u-a*s),e[1]=2*(n*c+i*s+a*o-r*u),e[2]=2*(a*c+i*u+r*s-n*o),e}function Sa(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=.5*r[0],u=.5*r[1],c=.5*r[2],f=t[4],_=t[5],d=t[6],l=t[7];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=o*s+a*c-i*u+f,e[5]=o*u+i*s-n*c+_,e[6]=o*c+n*u-a*s+d,e[7]=-n*s-a*u-i*c+l,e}function Oa(e,t,r){var n=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=s*o+f*n+u*i-c*a,d=u*o+f*a+c*n-s*i,l=c*o+f*i+s*a-u*n,h=f*o-s*n-u*a-c*i;return Pn(e,t,r),n=e[0],a=e[1],i=e[2],o=e[3],e[4]=_*o+h*n+d*i-l*a,e[5]=d*o+h*a+l*n-_*i,e[6]=l*o+h*i+_*a-d*n,e[7]=h*o-_*n-d*a-l*i,e}function La(e,t,r){var n=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=s*o+f*n+u*i-c*a,d=u*o+f*a+c*n-s*i,l=c*o+f*i+s*a-u*n,h=f*o-s*n-u*a-c*i;return Sn(e,t,r),n=e[0],a=e[1],i=e[2],o=e[3],e[4]=_*o+h*n+d*i-l*a,e[5]=d*o+h*a+l*n-_*i,e[6]=l*o+h*i+_*a-d*n,e[7]=h*o-_*n-d*a-l*i,e}function Da(e,t,r){var n=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=s*o+f*n+u*i-c*a,d=u*o+f*a+c*n-s*i,l=c*o+f*i+s*a-u*n,h=f*o-s*n-u*a-c*i;return On(e,t,r),n=e[0],a=e[1],i=e[2],o=e[3],e[4]=_*o+h*n+d*i-l*a,e[5]=d*o+h*a+l*n-_*i,e[6]=l*o+h*i+_*a-d*n,e[7]=h*o-_*n-d*a-l*i,e}function Ca(e,t,r){var n=r[0],a=r[1],i=r[2],o=r[3],s=t[0],u=t[1],c=t[2],f=t[3];return e[0]=s*o+f*n+u*i-c*a,e[1]=u*o+f*a+c*n-s*i,e[2]=c*o+f*i+s*a-u*n,e[3]=f*o-s*n-u*a-c*i,s=t[4],u=t[5],c=t[6],f=t[7],e[4]=s*o+f*n+u*i-c*a,e[5]=u*o+f*a+c*n-s*i,e[6]=c*o+f*i+s*a-u*n,e[7]=f*o-s*n-u*a-c*i,e}function Ia(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],u=r[1],c=r[2],f=r[3];return e[0]=n*f+o*s+a*c-i*u,e[1]=a*f+o*u+i*s-n*c,e[2]=i*f+o*c+n*u-a*s,e[3]=o*f-n*s-a*u-i*c,s=r[4],u=r[5],c=r[6],f=r[7],e[4]=n*f+o*s+a*c-i*u,e[5]=a*f+o*u+i*s-n*c,e[6]=i*f+o*c+n*u-a*s,e[7]=o*f-n*s-a*u-i*c,e}function Ua(e,t,r,n){if(Math.abs(n)<l)return Ea(e,t);var a=Math.hypot(r[0],r[1],r[2]);n*=.5;var i=Math.sin(n),o=i*r[0]/a,s=i*r[1]/a,u=i*r[2]/a,c=Math.cos(n),f=t[0],_=t[1],d=t[2],h=t[3];e[0]=f*c+h*o+_*u-d*s,e[1]=_*c+h*s+d*o-f*u,e[2]=d*c+h*u+f*s-_*o,e[3]=h*c-f*o-_*s-d*u;var m=t[4],p=t[5],b=t[6],v=t[7];return e[4]=m*c+v*o+p*u-b*s,e[5]=p*c+v*s+b*o-m*u,e[6]=b*c+v*u+m*s-p*o,e[7]=v*c-m*o-p*s-b*u,e}function Ba(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e}function qa(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[4],u=r[5],c=r[6],f=r[7],_=t[4],d=t[5],l=t[6],h=t[7],m=r[0],p=r[1],b=r[2],v=r[3];return e[0]=n*v+o*m+a*b-i*p,e[1]=a*v+o*p+i*m-n*b,e[2]=i*v+o*b+n*p-a*m,e[3]=o*v-n*m-a*p-i*b,e[4]=n*f+o*s+a*c-i*u+_*v+h*m+d*b-l*p,e[5]=a*f+o*u+i*s-n*c+d*v+h*p+l*m-_*b,e[6]=i*f+o*c+n*u-a*s+l*v+h*b+_*p-d*m,e[7]=o*f-n*s-a*u-i*c+h*v-_*m-d*p-l*b,e}var ja=qa;function Va(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e}var Na=aa;function Ga(e,t,r,n){var a=1-n;return Na(t,r)<0&&(n=-n),e[0]=t[0]*a+r[0]*n,e[1]=t[1]*a+r[1]*n,e[2]=t[2]*a+r[2]*n,e[3]=t[3]*a+r[3]*n,e[4]=t[4]*a+r[4]*n,e[5]=t[5]*a+r[5]*n,e[6]=t[6]*a+r[6]*n,e[7]=t[7]*a+r[7]*n,e}function Ha(e,t){var r=Za(t);return e[0]=-t[0]/r,e[1]=-t[1]/r,e[2]=-t[2]/r,e[3]=t[3]/r,e[4]=-t[4]/r,e[5]=-t[5]/r,e[6]=-t[6]/r,e[7]=t[7]/r,e}function Wa(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var Ya=oa,Xa=Ya,Za=ua,Qa=Za;function Ja(e,t){var r=Za(t);if(r>0){r=Math.sqrt(r);var n=t[0]/r,a=t[1]/r,i=t[2]/r,o=t[3]/r,s=t[4],u=t[5],c=t[6],f=t[7],_=n*s+a*u+i*c+o*f;e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=(s-n*_)/r,e[5]=(u-a*_)/r,e[6]=(c-i*_)/r,e[7]=(f-o*_)/r}return e}function Ka(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function $a(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function ei(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],f=t[0],_=t[1],d=t[2],h=t[3],m=t[4],p=t[5],b=t[6],v=t[7];return Math.abs(r-f)<=l*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-_)<=l*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(a-d)<=l*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(i-h)<=l*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-m)<=l*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(s-p)<=l*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(u-b)<=l*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(c-v)<=l*Math.max(1,Math.abs(c),Math.abs(v))}function ti(){var e=new h(2);return h!=Float32Array&&(e[0]=0,e[1]=0),e}function ri(e){var t=new h(2);return t[0]=e[0],t[1]=e[1],t}function ni(e,t){var r=new h(2);return r[0]=e,r[1]=t,r}function ai(e,t){return e[0]=t[0],e[1]=t[1],e}function ii(e,t,r){return e[0]=t,e[1]=r,e}function oi(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function si(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function ui(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function ci(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function fi(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function _i(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function di(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function li(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function hi(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function mi(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function pi(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function bi(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.hypot(r,n)}function vi(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function gi(e){var t=e[0],r=e[1];return Math.hypot(t,r)}function Mi(e){var t=e[0],r=e[1];return t*t+r*r}function yi(e,t){return e[0]=-t[0],e[1]=-t[1],e}function wi(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function xi(e,t){var r=t[0],n=t[1],a=r*r+n*n;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e}function Ei(e,t){return e[0]*t[0]+e[1]*t[1]}function Ai(e,t,r){var n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function ki(e,t,r,n){var a=t[0],i=t[1];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e}function Ti(e,t){t=t||1;var r=2*m()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function zi(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[2]*a,e[1]=r[1]*n+r[3]*a,e}function Fi(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[2]*a+r[4],e[1]=r[1]*n+r[3]*a+r[5],e}function Ri(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[3]*a+r[6],e[1]=r[1]*n+r[4]*a+r[7],e}function Pi(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[4]*a+r[12],e[1]=r[1]*n+r[5]*a+r[13],e}function Si(e,t,r,n){var a=t[0]-r[0],i=t[1]-r[1],o=Math.sin(n),s=Math.cos(n);return e[0]=a*s-i*o+r[0],e[1]=a*o+i*s+r[1],e}function Oi(e,t){var r=e[0],n=e[1],a=t[0],i=t[1],o=r*r+n*n;o>0&&(o=1/Math.sqrt(o));var s=a*a+i*i;s>0&&(s=1/Math.sqrt(s));var u=(r*a+n*i)*o*s;return u>1?0:u<-1?Math.PI:Math.acos(u)}function Li(e){return e[0]=0,e[1]=0,e}function Di(e){return"vec2("+e[0]+", "+e[1]+")"}function Ci(e,t){return e[0]===t[0]&&e[1]===t[1]}function Ii(e,t){var r=e[0],n=e[1],a=t[0],i=t[1];return Math.abs(r-a)<=l*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-i)<=l*Math.max(1,Math.abs(n),Math.abs(i))}var Ui=gi,Bi=si,qi=ui,ji=ci,Vi=bi,Ni=vi,Gi=Mi,Hi=function(){var e=ti();return function(t,r,n,a,i,o){var s,u;for(r||(r=2),n||(n=0),u=a?Math.min(a*r+n,t.length):t.length,s=n;s<u;s+=r)e[0]=t[s],e[1]=t[s+1],i(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadedPromise=t.loaded=t.browserIncompatibleUI=t.browserIncompatible=t.projectionMatrixFromCameraModel=t.drawPlane=t.invert=t.cameraDefaultDeviceID=t.Event1=t.Event=t.logLevel=t.setLogLevel=t.LogLevel=t.Permission=t.permissionRequestUI=t.permissionRequest=t.permissionDenied=t.permissionGranted=t.permissionDeniedUI=t.FaceLandmark=t.FaceLandmarkName=t.Pipeline=t.SequenceSource=t.HTMLElementSource=t.CameraSource=t.FaceMesh=t.FaceTracker=t.BarcodeFinder=t.InstantWorldTracker=t.ImageTracker=void 0;var n=r(30);Object.defineProperty(t,"ImageTracker",{enumerable:!0,get:function(){return n.ImageTracker}});var a=r(54);Object.defineProperty(t,"InstantWorldTracker",{enumerable:!0,get:function(){return a.InstantWorldTracker}});var i=r(55);Object.defineProperty(t,"BarcodeFinder",{enumerable:!0,get:function(){return i.BarcodeFinder}});var o=r(56);Object.defineProperty(t,"FaceTracker",{enumerable:!0,get:function(){return o.FaceTracker}});var s=r(57);Object.defineProperty(t,"FaceMesh",{enumerable:!0,get:function(){return s.FaceMesh}});var u=r(58);Object.defineProperty(t,"CameraSource",{enumerable:!0,get:function(){return u.CameraSource}});var c=r(59);Object.defineProperty(t,"HTMLElementSource",{enumerable:!0,get:function(){return c.HTMLElementSource}});var f=r(60);Object.defineProperty(t,"SequenceSource",{enumerable:!0,get:function(){return f.SequenceSource}});var _=r(61);Object.defineProperty(t,"Pipeline",{enumerable:!0,get:function(){return _.Pipeline}});var d=r(62);Object.defineProperty(t,"FaceLandmarkName",{enumerable:!0,get:function(){return d.FaceLandmarkName}}),Object.defineProperty(t,"FaceLandmark",{enumerable:!0,get:function(){return d.FaceLandmark}});var l=r(63);Object.defineProperty(t,"permissionDeniedUI",{enumerable:!0,get:function(){return l.permissionDeniedUI}}),Object.defineProperty(t,"permissionGranted",{enumerable:!0,get:function(){return l.permissionGranted}}),Object.defineProperty(t,"permissionDenied",{enumerable:!0,get:function(){return l.permissionDenied}}),Object.defineProperty(t,"permissionRequest",{enumerable:!0,get:function(){return l.permissionRequest}}),Object.defineProperty(t,"permissionRequestUI",{enumerable:!0,get:function(){return l.permissionRequestUI}}),Object.defineProperty(t,"Permission",{enumerable:!0,get:function(){return l.Permission}});var h=r(64);Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return h.LogLevel}}),Object.defineProperty(t,"setLogLevel",{enumerable:!0,get:function(){return h.setLogLevel}}),Object.defineProperty(t,"logLevel",{enumerable:!0,get:function(){return h.logLevel}});var m=r(5);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return m.Event}}),Object.defineProperty(t,"Event1",{enumerable:!0,get:function(){return m.Event1}});var p=r(1);Object.defineProperty(t,"cameraDefaultDeviceID",{enumerable:!0,get:function(){return p.cameraDefaultDeviceID}}),Object.defineProperty(t,"invert",{enumerable:!0,get:function(){return p.invert}}),Object.defineProperty(t,"drawPlane",{enumerable:!0,get:function(){return p.drawPlane}}),Object.defineProperty(t,"projectionMatrixFromCameraModel",{enumerable:!0,get:function(){return p.projectionMatrixFromCameraModel}}),Object.defineProperty(t,"browserIncompatible",{enumerable:!0,get:function(){return p.browserIncompatible}}),Object.defineProperty(t,"browserIncompatibleUI",{enumerable:!0,get:function(){return p.browserIncompatibleUI}}),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return p.loaded}}),Object.defineProperty(t,"loadedPromise",{enumerable:!0,get:function(){return p.loadedPromise}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event1=t.Event=void 0;t.Event=class{constructor(){this._funcs=[]}bind(e){this._funcs.push(e)}unbind(e){const t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}emit(){for(let e=0,t=this._funcs.length;e<t;e++)this._funcs[e]()}};t.Event1=class{constructor(){this._funcs=[]}bind(e){this._funcs.push(e)}unbind(e){const t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}emit(e){for(let t=0,r=this._funcs.length;t<r;t++)this._funcs[t](e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Camera=t.CameraMirrorMode=t.CameraPoseMode=void 0;const n=r(4),a=r(0),i=r(11);var o,s,u;!function(e){e[e.Default=0]="Default",e[e.Attitude=1]="Attitude",e[e.AnchorOrigin=2]="AnchorOrigin"}(o=t.CameraPoseMode||(t.CameraPoseMode={})),function(e){e[e.None=0]="None",e[e.Poses=1]="Poses",e[e.CSS=2]="CSS"}(s=t.CameraMirrorMode||(t.CameraMirrorMode={})),function(e){e[e.None=0]="None",e[e.User=1]="User",e[e.Rear=2]="Rear"}(u||(u={}));class c extends a.THREE.Camera{constructor(e){super(),this.backgroundTexture=new a.THREE.Texture,this.poseMode=o.Default,this.rearCameraMirrorMode=s.None,this.userCameraMirrorMode=s.Poses,this._currentMirrorMode=s.None,this.isPerspectiveCamera=!0,this.cameraDirection=u.None,this.hasSetCSSScaleX=!1,this.emptyScene=new a.THREE.Scene,this.emptyTarget=new a.THREE.WebGLRenderTarget(2,2),this.renderWidth=0,this.renderHeight=0,this.pipeline=e instanceof n.Pipeline?e:(null==e?void 0:e.pipeline)||(0,i.getDefaultPipeline)(),this.rawPose=this.pipeline.cameraPoseDefault(),!e||e instanceof n.Pipeline?(this.rearCameraSource=new i.CameraSource(n.cameraDefaultDeviceID(),this.pipeline),this.userCameraSource=new i.CameraSource(n.cameraDefaultDeviceID(!0),this.pipeline)):(this.zNear=e.zNear?e.zNear:.1,this.zFar=e.zFar?e.zFar:100,this.rearCameraSource=this.cameraSourceFromOpts(e.rearCameraSource),this.userCameraSource=this.cameraSourceFromOpts(e.userCameraSource,!0)),this.matrixAutoUpdate=!1,document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState?this.resume():this.pause()});const t=new a.THREE.ImmediateRenderObject(new a.THREE.MeshBasicMaterial);this.emptyScene.add(t)}cameraSourceFromOpts(e,t=!1){return e instanceof Element?new n.HTMLElementSource(this.pipeline,e):new i.CameraSource(e||n.cameraDefaultDeviceID(t),this.pipeline)}pause(){this.userCameraSource.pause(),this.rearCameraSource.pause()}resume(){switch(this.cameraDirection){case u.User:this.userCameraSource.start();break;case u.Rear:this.rearCameraSource.start()}}start(e){this.cameraDirection=e?u.User:u.Rear,this.resume()}stop(){this.cameraDirection=u.None,this.pause()}setPoseModeAnchorOrigin(e){this.poseAnchorOrigin=e,this.poseMode=o.AnchorOrigin}get currentMirrorMode(){return this._currentMirrorMode}updateFrame(e){const t=e.getRenderTarget();e.setRenderTarget(this.emptyTarget),e.render(this.emptyScene,this),e.state.reset(),this.pipeline.processGL(),e.state.reset(),e.setRenderTarget(t),this.pipeline.frameUpdate(),this._currentMirrorMode=this.pipeline.cameraFrameUserFacing()?this.userCameraMirrorMode:this.rearCameraMirrorMode;const{domElement:r}=e;switch(this.currentMirrorMode!==s.CSS&&this.hasSetCSSScaleX?(r.style.transform="",this.hasSetCSSScaleX=!1):this.currentMirrorMode!==s.CSS||this.hasSetCSSScaleX||(r.style.transform="scaleX(-1)",this.hasSetCSSScaleX=!0),this.renderWidth=e.domElement.width,this.renderHeight=e.domElement.height,this._updateProjectionMatrix(),this.poseMode){case o.Default:this.rawPose=this.pipeline.cameraPoseDefault();break;case o.Attitude:this.rawPose=this.pipeline.cameraPoseWithAttitude(this.currentMirrorMode===s.Poses);break;case o.AnchorOrigin:this.rawPose=this.poseAnchorOrigin?this.getOriginPose():this.pipeline.cameraPoseDefault();break;default:this.rawPose=this.pipeline.cameraPoseDefault()}this.updateBackgroundTexture(e)}_updateProjectionMatrix(){const e=this.pipeline.cameraModel(),t=n.projectionMatrixFromCameraModel(e,this.renderWidth,this.renderHeight,this.zNear,this.zFar);this.projectionMatrix.fromArray(t),"function"==typeof this.projectionMatrixInverse.invert?this.projectionMatrixInverse.copy(this.projectionMatrix).invert():this.projectionMatrixInverse.getInverse(this.projectionMatrix)}updateMatrixWorld(e){this.matrix.fromArray(this.rawPose),this.matrix.decompose(this.position,this.quaternion,this.scale),super.updateMatrixWorld(e)}getOriginPose(){return this.poseAnchorOrigin?this.pipeline.cameraPoseWithOrigin(this.poseAnchorOrigin.poseCameraRelative(this.currentMirrorMode===s.Poses)):this.pipeline.cameraPoseDefault()}updateBackgroundTexture(e){this.pipeline.cameraFrameUploadGL();const t=this.pipeline.cameraFrameTextureGL();if(!t)return;const r=e.properties.get(this.backgroundTexture);r.__webglTexture=t,r.__webglInit=!0;const n=new a.THREE.Matrix4;n.fromArray(this.pipeline.cameraFrameTextureMatrix(e.domElement.width,e.domElement.height,this.currentMirrorMode===s.Poses));const i=new a.THREE.Matrix3;i.setFromMatrix4(n),i.elements[6]=n.elements[12],i.elements[7]=n.elements[13],i.elements[8]=1,this.backgroundTexture.matrixAutoUpdate=!1,this.backgroundTexture.matrix=i}dispose(){this.rearCameraSource.destroy(),this.userCameraSource.destroy()}}t.Camera=c},function(e,t,r){"use strict";if(Object.defineProperty(t,"__esModule",{value:!0}),t.log_level_t=t.instant_world_tracker_transform_orientation_t=t.face_landmark_name_t=t.barcode_format_t=t.initialize=void 0,document.currentScript){const e=new URL(document.currentScript.src);let t=e.toString();if(e.pathname){let e=t.split("/");e.pop(),t=e.join("/")+"/"}r.p=t}const n=r(31),a=r(52);t.initialize=function(){return console.log("Zappar CV v"+a.VERSION),n.initialize()};var i=r(17);Object.defineProperty(t,"barcode_format_t",{enumerable:!0,get:function(){return i.barcode_format_t}}),Object.defineProperty(t,"face_landmark_name_t",{enumerable:!0,get:function(){return i.face_landmark_name_t}}),Object.defineProperty(t,"instant_world_tracker_transform_orientation_t",{enumerable:!0,get:function(){return i.instant_world_tracker_transform_orientation_t}}),Object.defineProperty(t,"log_level_t",{enumerable:!0,get:function(){return i.log_level_t}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkProgram=t.compileShader=void 0,t.compileShader=function(e,t,r){let n=e.createShader(t);if(!n)throw new Error("Unable to create shader");e.shaderSource(n,r),e.compileShader(n);let a=e.getShaderInfoLog(n);if(a&&a.trim().length>0)throw new Error("Shader compile error: "+a);return n},t.linkProgram=function(e,t){e.linkProgram(t);let r=e.getProgramInfoLog(t);if(r&&r.trim().length>0)throw new Error("Unable to link: "+r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log_level_t=t.instant_world_tracker_transform_orientation_t=t.face_landmark_name_t=t.barcode_format_t=void 0,function(e){e[e.UNKNOWN=131072]="UNKNOWN",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=4]="CODE_39",e[e.CODE_93=8]="CODE_93",e[e.CODE_128=16]="CODE_128",e[e.DATA_MATRIX=32]="DATA_MATRIX",e[e.EAN_8=64]="EAN_8",e[e.EAN_13=128]="EAN_13",e[e.ITF=256]="ITF",e[e.MAXICODE=512]="MAXICODE",e[e.PDF_417=1024]="PDF_417",e[e.QR_CODE=2048]="QR_CODE",e[e.RSS_14=4096]="RSS_14",e[e.RSS_EXPANDED=8192]="RSS_EXPANDED",e[e.UPC_A=16384]="UPC_A",e[e.UPC_E=32768]="UPC_E",e[e.UPC_EAN_EXTENSION=65536]="UPC_EAN_EXTENSION",e[e.ALL=131071]="ALL"}(t.barcode_format_t||(t.barcode_format_t={})),function(e){e[e.EYE_LEFT=0]="EYE_LEFT",e[e.EYE_RIGHT=1]="EYE_RIGHT",e[e.EAR_LEFT=2]="EAR_LEFT",e[e.EAR_RIGHT=3]="EAR_RIGHT",e[e.NOSE_BRIDGE=4]="NOSE_BRIDGE",e[e.NOSE_TIP=5]="NOSE_TIP",e[e.NOSE_BASE=6]="NOSE_BASE",e[e.LIP_TOP=7]="LIP_TOP",e[e.LIP_BOTTOM=8]="LIP_BOTTOM",e[e.MOUTH_CENTER=9]="MOUTH_CENTER",e[e.CHIN=10]="CHIN",e[e.EYEBROW_LEFT=11]="EYEBROW_LEFT",e[e.EYEBROW_RIGHT=12]="EYEBROW_RIGHT"}(t.face_landmark_name_t||(t.face_landmark_name_t={})),function(e){e[e.WORLD=3]="WORLD",e[e.MINUS_Z_AWAY_FROM_USER=4]="MINUS_Z_AWAY_FROM_USER",e[e.MINUS_Z_HEADING=5]="MINUS_Z_HEADING",e[e.UNCHANGED=6]="UNCHANGED"}(t.instant_world_tracker_transform_orientation_t||(t.instant_world_tracker_transform_orientation_t={})),function(e){e[e.LOG_LEVEL_NONE=0]="LOG_LEVEL_NONE",e[e.LOG_LEVEL_ERROR=1]="LOG_LEVEL_ERROR",e[e.LOG_LEVEL_WARNING=2]="LOG_LEVEL_WARNING",e[e.LOG_LEVEL_VERBOSE=3]="LOG_LEVEL_VERBOSE"}(t.log_level_t||(t.log_level_t={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyScreenCounterRotation=t.Pipeline=void 0;const n=r(42),a=r(3),i=r(12),o=r(43),s=r(44),u=r(14),c=r(15),f=r(2),_=r(18);let d=new Map;class l{constructor(e,t,r){this._client=e,this._impl=t,this._mgr=r,this.pendingMessages=[],this.cameraTokens=new Map,this.nextCameraToken=1,this.tokensInFlight=0,this.videoTextures=[],this.cameraPixelArrays=[],this._sequenceRecordDeviceAttitudeMatrices=!0,this._sequenceRecorderFirstCameraToken=0,this.onGLContextReset=new c.Event}static create(e,t){let r=e.pipeline_create();return d.set(r,new l(e,r,t)),r}static get(e){return d.get(e)}frameUpdate(e){for(let t of this.pendingMessages)e.processMessages(t),this._mgr.postOutgoingMessage({t:"buf",p:this._impl,d:t},[t]);this.pendingMessages=[];let t=this._client.pipeline_camera_frame_user_data(this._impl);if(t)for(let e of this.cameraTokens)e[0]<t&&(e[1].texture&&this.videoTextures.push(e[1].texture),this.cameraTokens.delete(e[0]))}cameraTokenReturn(e){if(this._sequenceRecorder&&this._sequenceRecordDeviceAttitudeMatrices&&e.token>=this._sequenceRecorderFirstCameraToken){let t=this.cameraTokens.get(e.token);t&&(e.att&&this._sequenceRecorder.appendAttitudeMatrix(e.att),t.data=e.d,this._sequenceRecorder.appendCameraFrame(t))}this.cameraPixelArrays.push(e.d),this.tokensInFlight--}sequenceRecordStart(e){this._sequenceRecorder||(this._sequenceRecorder=new _.SequenceRecorder(e)),this._sequenceRecorder.start(),this._sequenceRecorderFirstCameraToken=this.nextCameraToken}sequenceRecordStop(){var e;null===(e=this._sequenceRecorder)||void 0===e||e.stop()}sequenceRecordData(){var e;return(null===(e=this._sequenceRecorder)||void 0===e?void 0:e.data())||new Uint8Array(0)}sequenceRecordClear(){delete this._sequenceRecorder}sequenceRecordDeviceAttitudeMatrices(e){this._sequenceRecordDeviceAttitudeMatrices=e}getVideoTexture(){return this.videoTextures.pop()}destroy(){this._client.pipeline_destroy(this._impl),d.delete(this._impl)}getCurrentCameraInfo(){let e=this._client.pipeline_camera_frame_user_data(this._impl);if(e)return this.cameraTokens.get(e)}cameraFrameDrawGL(e,t,r){if(!this.glContext)return;let a=this.getCurrentCameraInfo();a&&(this._cameraDraw||(this._cameraDraw=new n.CameraDraw(this.glContext)),this._cameraDraw.drawCameraFrame(e,t,a,!0===r))}glContextLost(){this._cameraDraw&&this._cameraDraw.dispose(),this._faceDraw&&this._faceDraw.dispose(),this._faceProjectDraw&&this._faceProjectDraw.dispose(),delete this._cameraDraw,delete this._faceDraw,delete this._faceProjectDraw,u.disposeDrawPlane(),this.onGLContextReset.emit();for(let e of this.videoTextures)this.glContext&&this.glContext.deleteTexture(e);this.videoTextures=[];for(let e of this.cameraTokens)this.glContext&&e[1].texture&&this.glContext.deleteTexture(e[1].texture),e[1].texture=void 0;this.glContext=void 0}glContextSet(e,t){this.glContextLost(),this.glContext=e,t=t||[];for(let r=0;r<4;r++){let n=t[r]||e.createTexture();n&&(e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),this.videoTextures.push(n))}e.bindTexture(e.TEXTURE_2D,null)}drawFace(e,t,r,n){if(!this.glContext)return;this._faceDraw||(this._faceDraw=new o.FaceDraw(this.glContext));let i=a.mat4.create();a.mat4.multiply(i,e,t),a.mat4.multiply(i,i,r),this._faceDraw.drawFace(i,n)}drawFaceProject(e,t,r,n,a,i){this.glContext&&(this._faceProjectDraw||(this._faceProjectDraw=new s.FaceDrawProject(this.glContext)),this._faceProjectDraw.drawFace(e,t,r,n,a,i))}cameraFrameTexture(){var e;return null===(e=this.getCurrentCameraInfo())||void 0===e?void 0:e.texture}cameraFrameTextureMatrix(e,t,r){let i=this.getCurrentCameraInfo();return i?n.cameraFrameTextureMatrix(i.dataWidth,i.dataHeight,e,t,i.uvTransform,r):a.mat4.create()}cameraFrameUserFacing(){var e;return(null===(e=this.getCurrentCameraInfo())||void 0===e?void 0:e.userFacing)||!1}cameraPoseWithAttitude(e){let t=h(this.getCurrentCameraInfo(),this._client.pipeline_camera_frame_camera_attitude(this._impl));if(e){let e=a.mat4.create();a.mat4.fromScaling(e,[-1,1,1]),a.mat4.multiply(t,e,t),a.mat4.multiply(t,t,e)}return a.mat4.invert(t,t),t}processGL(){var e;if(!this.glContext)return void f.zcerr("no GL context for camera frames - please call pipeline_gl_context_set");if(!this.currentCameraSource)return;if(this.tokensInFlight>0)return void this.currentCameraSource.getFrame(!0);let t=this.currentCameraSource.getFrame(!1);if(!t)return;let r=this.nextCameraToken++;this.cameraTokens.set(r,t);let n={d:t.data,p:this._impl,width:t.dataWidth,height:t.dataHeight,token:r,userFacing:t.userFacing,c2d:t.cameraToDevice,cm:t.cameraModel,t:"cameraFrameC2S"};this._sequenceRecordDeviceAttitudeMatrices||null===(e=this._sequenceRecorder)||void 0===e||e.appendCameraFrame(t),this.tokensInFlight++,this._mgr.postOutgoingMessage(n,[t.data])}motionAccelerometerSubmit(e,t,r,n){var a;this._sequenceRecordDeviceAttitudeMatrices||null===(a=this._sequenceRecorder)||void 0===a||a.appendAccelerometer(e,t,r,n),this._client.pipeline_motion_accelerometer_submit(this._impl,e,t,r,n)}motionRotationRateSubmit(e,t,r,n){var a;this._sequenceRecordDeviceAttitudeMatrices||null===(a=this._sequenceRecorder)||void 0===a||a.appendRotationRate(e,t,r,n),this._client.pipeline_motion_rotation_rate_submit(this._impl,e,t,r,n)}motionAttitudeSubmit(e,t,r,n){var a;this._sequenceRecordDeviceAttitudeMatrices||null===(a=this._sequenceRecorder)||void 0===a||a.appendAttitude(e,t,r,n),this._client.pipeline_motion_attitude_submit(this._impl,e,t,r,n)}motionAttitudeMatrix(e){this._client.pipeline_motion_attitude_matrix_submit(this._impl,e)}uploadGL(){let e=this.getCurrentCameraInfo();null==e||e.cameraSource.uploadGL(e)}}function h(e,t){let r=!1;r=!!e&&e.userFacing;let n=a.mat4.create();return a.mat4.fromRotation(n,i.cameraRotationForScreenOrientation(r)*Math.PI/180,[0,0,1]),a.mat4.multiply(n,n,t),n}t.Pipeline=l,t.applyScreenCounterRotation=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.glContextLost=t.glContextSet=t.HTMLElementSource=t.CameraSource=t.InstantWorldTracker=t.FaceTracker=t.BarcodeFinder=t.ImageTracker=t.getDefaultPipeline=t.onFrameUpdate=void 0;const n=r(4),a=r(5);let i;function o(){return i||(i=new n.Pipeline,i.onFrameUpdate.bind(()=>t.onFrameUpdate.emit())),i}t.onFrameUpdate=new a.Event,t.getDefaultPipeline=o;class s extends n.ImageTracker{constructor(e,t){super(t||o(),e)}}t.ImageTracker=s;class u extends n.BarcodeFinder{constructor(e){super(e||o())}}t.BarcodeFinder=u;class c extends n.FaceTracker{constructor(e){super(e||o())}}t.FaceTracker=c;class f extends n.InstantWorldTracker{constructor(e){super(e||o())}}t.InstantWorldTracker=f;class _ extends n.CameraSource{constructor(e,t){super(t||o(),e)}}t.CameraSource=_;class d extends n.HTMLElementSource{constructor(e,t){super(t||o(),e)}}t.HTMLElementSource=d,t.glContextSet=function(e){o().glContextSet(e)},t.glContextLost=function(){o().glContextLost()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cameraRotationForScreenOrientation=t.projectionMatrix=void 0;const n=r(3);function a(e){if(window.screen.orientation)switch(window.screen.orientation.type){case"portrait-primary":return e?90:270;case"landscape-secondary":return 180;case"portrait-secondary":return e?270:90;default:return 0}else if(void 0!==window.orientation)switch(window.orientation){case 0:return e?90:270;case 90:return 0;case 180:return e?270:90;case-90:return 180}return 0}t.projectionMatrix=function(e,t,r,i=.01,o=100){let s=2*e[2],u=2*e[3],c=n.mat4.create();n.mat4.frustum(c,i*(-.5-e[2])/e[0],i*(s-.5-e[2])/e[0],i*(u-.5-e[3])/e[1],i*(-.5-e[3])/e[1],i,o),c[4]*=-1,c[5]*=-1,c[6]*=-1,c[7]*=-1;let f=n.mat4.create();n.mat4.fromScaling(f,[.5*s,.5*u,1]),n.mat4.multiply(c,f,c),n.mat4.fromRotation(f,a(!1)*Math.PI/180,[0,0,1]),n.mat4.multiply(c,f,c);let _=n.vec3.create();_[0]=s,_[1]=u,_[2]=0,n.vec3.transformMat4(_,_,f);let d=Math.abs(_[0]),l=Math.abs(_[1]),h=1;return h=d/t>l/r?r/l:t/d,n.mat4.fromScaling(f,[h,h,1]),n.mat4.multiply(c,f,c),n.mat4.fromScaling(f,[2/t,2/r,1]),n.mat4.multiply(c,f,c),n.mat4.fromRotation(f,a(!1)*Math.PI/-180,[0,0,1]),n.mat4.multiply(c,c,f),c},t.cameraRotationForScreenOrientation=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceSource=t.loadedPromise=t.loaded=t.browserIncompatibleUI=t.browserIncompatible=t.permissionRequestUI=t.permissionDeniedUI=t.permissionRequest=t.permissionGranted=t.permissionDenied=t.setLogLevel=t.LogLevel=t.Pipeline=t.FaceLandmarkName=t.FaceLandmark=t.FaceMesh=t.getDefaultPipeline=t.glContextLost=t.glContextSet=t.onFrameUpdate=t.HTMLElementSource=t.CameraSource=t.FaceTracker=t.BarcodeFinder=t.InstantWorldTracker=t.ImageTracker=t.CameraEnvironmentMap=t.DefaultLoaderUI=t.LoadingManager=t.LibraryLoader=t.HeadMaskMeshLoader=t.HeadMaskMesh=t.FaceMeshLoader=t.FaceBufferGeometry=t.FaceTrackerLoader=t.FaceLandmarkGroup=t.FaceAnchorGroup=t.InstantWorldAnchorGroup=t.ImageTrackerLoader=t.ImageAnchorGroup=t.CameraMirrorMode=t.CameraPoseMode=t.Camera=void 0;const n=r(29);console.log("Zappar for ThreeJS v"+n.VERSION);var a=r(6);Object.defineProperty(t,"Camera",{enumerable:!0,get:function(){return a.Camera}}),Object.defineProperty(t,"CameraPoseMode",{enumerable:!0,get:function(){return a.CameraPoseMode}}),Object.defineProperty(t,"CameraMirrorMode",{enumerable:!0,get:function(){return a.CameraMirrorMode}});var i=r(66);Object.defineProperty(t,"ImageAnchorGroup",{enumerable:!0,get:function(){return i.ImageAnchorGroup}});var o=r(67);Object.defineProperty(t,"ImageTrackerLoader",{enumerable:!0,get:function(){return o.ImageTrackerLoader}});var s=r(68);Object.defineProperty(t,"InstantWorldAnchorGroup",{enumerable:!0,get:function(){return s.InstantWorldAnchorGroup}});var u=r(69);Object.defineProperty(t,"FaceAnchorGroup",{enumerable:!0,get:function(){return u.FaceAnchorGroup}});var c=r(70);Object.defineProperty(t,"FaceLandmarkGroup",{enumerable:!0,get:function(){return c.FaceLandmarkGroup}});var f=r(71);Object.defineProperty(t,"FaceTrackerLoader",{enumerable:!0,get:function(){return f.FaceTrackerLoader}});var _=r(23);Object.defineProperty(t,"FaceBufferGeometry",{enumerable:!0,get:function(){return _.FaceBufferGeometry}});var d=r(24);Object.defineProperty(t,"FaceMeshLoader",{enumerable:!0,get:function(){return d.FaceMeshLoader}});var l=r(25);Object.defineProperty(t,"HeadMaskMesh",{enumerable:!0,get:function(){return l.HeadMaskMesh}});var h=r(72);Object.defineProperty(t,"HeadMaskMeshLoader",{enumerable:!0,get:function(){return h.HeadMaskMeshLoader}});var m=r(26);Object.defineProperty(t,"LibraryLoader",{enumerable:!0,get:function(){return m.LibraryLoader}});var p=r(73);Object.defineProperty(t,"LoadingManager",{enumerable:!0,get:function(){return p.LoadingManager}}),Object.defineProperty(t,"DefaultLoaderUI",{enumerable:!0,get:function(){return p.DefaultLoaderUI}});var b=r(74);Object.defineProperty(t,"CameraEnvironmentMap",{enumerable:!0,get:function(){return b.CameraEnvironmentMap}});var v=r(11);Object.defineProperty(t,"ImageTracker",{enumerable:!0,get:function(){return v.ImageTracker}}),Object.defineProperty(t,"InstantWorldTracker",{enumerable:!0,get:function(){return v.InstantWorldTracker}}),Object.defineProperty(t,"BarcodeFinder",{enumerable:!0,get:function(){return v.BarcodeFinder}}),Object.defineProperty(t,"FaceTracker",{enumerable:!0,get:function(){return v.FaceTracker}}),Object.defineProperty(t,"CameraSource",{enumerable:!0,get:function(){return v.CameraSource}}),Object.defineProperty(t,"HTMLElementSource",{enumerable:!0,get:function(){return v.HTMLElementSource}}),Object.defineProperty(t,"onFrameUpdate",{enumerable:!0,get:function(){return v.onFrameUpdate}}),Object.defineProperty(t,"glContextSet",{enumerable:!0,get:function(){return v.glContextSet}}),Object.defineProperty(t,"glContextLost",{enumerable:!0,get:function(){return v.glContextLost}}),Object.defineProperty(t,"getDefaultPipeline",{enumerable:!0,get:function(){return v.getDefaultPipeline}});var g=r(4);Object.defineProperty(t,"FaceMesh",{enumerable:!0,get:function(){return g.FaceMesh}}),Object.defineProperty(t,"FaceLandmark",{enumerable:!0,get:function(){return g.FaceLandmark}}),Object.defineProperty(t,"FaceLandmarkName",{enumerable:!0,get:function(){return g.FaceLandmarkName}}),Object.defineProperty(t,"Pipeline",{enumerable:!0,get:function(){return g.Pipeline}}),Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return g.LogLevel}}),Object.defineProperty(t,"setLogLevel",{enumerable:!0,get:function(){return g.setLogLevel}}),Object.defineProperty(t,"permissionDenied",{enumerable:!0,get:function(){return g.permissionDenied}}),Object.defineProperty(t,"permissionGranted",{enumerable:!0,get:function(){return g.permissionGranted}}),Object.defineProperty(t,"permissionRequest",{enumerable:!0,get:function(){return g.permissionRequest}}),Object.defineProperty(t,"permissionDeniedUI",{enumerable:!0,get:function(){return g.permissionDeniedUI}}),Object.defineProperty(t,"permissionRequestUI",{enumerable:!0,get:function(){return g.permissionRequestUI}}),Object.defineProperty(t,"browserIncompatible",{enumerable:!0,get:function(){return g.browserIncompatible}}),Object.defineProperty(t,"browserIncompatibleUI",{enumerable:!0,get:function(){return g.browserIncompatibleUI}}),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return g.loaded}}),Object.defineProperty(t,"loadedPromise",{enumerable:!0,get:function(){return g.loadedPromise}}),Object.defineProperty(t,"SequenceSource",{enumerable:!0,get:function(){return g.SequenceSource}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawPlane=t.disposeDrawPlane=void 0;const n=r(8);let a,i,o,s={};function u(e){if(o)return o;if(o=e.createBuffer(),!o)throw new Error("Unable to create buffer object");return e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,1,1,0]),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),o}t.disposeDrawPlane=function(){a=void 0,i=void 0,o=void 0,s={}},t.drawPlane=function(e,t,r,n,a){let o=c(e),f=function(e){if(i)return i;if(i=e.createBuffer(),!i)throw new Error("Unable to create buffer object");return e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-.5,.125,0,-.5,-.125,0,.5,.125,0,.5,-.125,0]),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),i}(e),_=u(e);e.disable(e.DEPTH_TEST),e.useProgram(o.prog),e.uniformMatrix4fv(o.unif_proj,!1,t),e.uniformMatrix4fv(o.unif_camera,!1,r),e.uniformMatrix4fv(o.unif_matrix,!1,n),e.bindBuffer(e.ARRAY_BUFFER,f),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,function(e,t){if(s[t])return s[t];let r=e.createTexture();if(!r)throw new Error("Unable to create texture");s[t]=r,e.bindTexture(e.TEXTURE_2D,r);const n=e.RGBA,a=e.RGBA,i=e.UNSIGNED_BYTE,o=new Uint8Array([0,0,255,255]);e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,n,1,1,0,a,i,o);const u=new Image;return u.onload=function(){e.bindTexture(e.TEXTURE_2D,r),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,n,a,i,u),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)},u.src=t,r}(e,a)),e.uniform1i(o.unif_skinSampler,0),e.vertexAttribPointer(o.attr_position,3,e.FLOAT,!1,12,0),e.enableVertexAttribArray(o.attr_position),e.bindBuffer(e.ARRAY_BUFFER,_),e.vertexAttribPointer(o.attr_textureCoord,2,e.FLOAT,!1,8,0),e.enableVertexAttribArray(o.attr_textureCoord),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.disableVertexAttribArray(o.attr_position),e.bindBuffer(e.ARRAY_BUFFER,null)};function c(e){if(a)return a;let t=e.createProgram();if(!t)throw new Error("Unable to create program");let r=n.compileShader(e,e.VERTEX_SHADER,"\n#ifndef GL_ES\n#define highp\n#define mediump\n#define lowp\n#endif\n\nuniform mat4 projMatrix;\nuniform mat4 cameraMatrix;\nuniform mat4 modelViewMatrix;\nattribute vec4 position;\nattribute vec2 textureCoord;\n\nvarying highp vec2 vTextureCoord;\n\nvoid main()\n{\n    gl_Position = projMatrix * cameraMatrix * modelViewMatrix * position;\n    vTextureCoord = textureCoord;\n}"),i=n.compileShader(e,e.FRAGMENT_SHADER,"\n#define highp mediump\n#ifdef GL_ES\n    // define default precision for float, vec, mat.\n    precision highp float;\n#else\n#define highp\n#define mediump\n#define lowp\n#endif\n\nvarying highp vec2 vTextureCoord;\nuniform sampler2D skinSampler;\n\nvoid main()\n{\n    gl_FragColor = texture2D(skinSampler, vTextureCoord);\n}");e.attachShader(t,r),e.attachShader(t,i),n.linkProgram(e,t);let o=e.getUniformLocation(t,"projMatrix");if(!o)throw new Error("Unable to get uniform location projMatrix");let s=e.getUniformLocation(t,"modelViewMatrix");if(!s)throw new Error("Unable to get uniform location modelViewMatrix");let u=e.getUniformLocation(t,"cameraMatrix");if(!u)throw new Error("Unable to get uniform location cameraMatrix");let c=e.getUniformLocation(t,"skinSampler");if(!c)throw new Error("Unable to get uniform location skinSampler");return a={prog:t,unif_matrix:s,unif_proj:o,unif_camera:u,unif_skinSampler:c,attr_position:e.getAttribLocation(t,"position"),attr_textureCoord:e.getAttribLocation(t,"textureCoord")},a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event5=t.Event3=t.Event2=t.Event1=t.Event=void 0;t.Event=class{constructor(){this._funcs=[]}bind(e){this._funcs.push(e)}unbind(e){let t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}emit(){for(var e=0,t=this._funcs.length;e<t;e++)this._funcs[e]()}};t.Event1=class{constructor(){this._funcs=[]}bind(e){this._funcs.push(e)}unbind(e){let t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}emit(e){for(var t=0,r=this._funcs.length;t<r;t++)this._funcs[t](e)}};t.Event2=class{constructor(){this._funcs=[]}bind(e){this._funcs.push(e)}unbind(e){let t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}emit(e,t){for(var r=0,n=this._funcs.length;r<n;r++)this._funcs[r](e,t)}};t.Event3=class{constructor(){this._funcs=[]}bind(e){this._funcs.push(e)}unbind(e){let t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}emit(e,t,r){for(var n=0,a=this._funcs.length;n<a;n++)this._funcs[n](e,t,r)}};t.Event5=class{constructor(){this._funcs=[]}bind(e){this._funcs.push(e)}unbind(e){let t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}emit(e,t,r,n,a){for(var i=0,o=this._funcs.length;i<o;i++)this._funcs[i](e,t,r,n,a)}}},function(e,t,r){var n;!function(a,i){"use strict";var o="model",s="name",u="type",c="vendor",f="version",_="mobile",d="tablet",l="smarttv",h=function(e){var t={};for(var r in e)t[e[r].toUpperCase()]=e[r];return t},m=function(e,t){return"string"==typeof e&&-1!==p(t).indexOf(p(e))},p=function(e){return e.toLowerCase()},b=function(e,t){if("string"==typeof e)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),void 0===t?e:e.substring(0,255)},v=function(e,t){for(var r,n,a,i,o,s,u=0;u<t.length&&!o;){var c=t[u],f=t[u+1];for(r=n=0;r<c.length&&!o;)if(o=c[r++].exec(e))for(a=0;a<f.length;a++)s=o[++n],"object"==typeof(i=f[a])&&i.length>0?2==i.length?"function"==typeof i[1]?this[i[0]]=i[1].call(this,s):this[i[0]]=i[1]:3==i.length?"function"!=typeof i[1]||i[1].exec&&i[1].test?this[i[0]]=s?s.replace(i[1],i[2]):void 0:this[i[0]]=s?i[1].call(this,s,i[2]):void 0:4==i.length&&(this[i[0]]=s?i[3].call(this,s.replace(i[1],i[2])):void 0):this[i]=s||void 0;u+=2}},g=function(e,t){for(var r in t)if("object"==typeof t[r]&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(m(t[r][n],e))return"?"===r?void 0:r}else if(m(t[r],e))return"?"===r?void 0:r;return e},M={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[s,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[s,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[s,f],[/opios[\/ ]+([\w\.]+)/i],[f,[s,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[f,[s,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[s,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[s,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[f,[s,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[s,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[s,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[s,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[s,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[s,/(.+)/,"$1 Secure Browser"],f],[/\bfocus\/([\w\.]+)/i],[f,[s,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[f,[s,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[s,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[s,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[s,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[s,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[f,[s,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[s,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[s,/(.+)/,"$1 Browser"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[s,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[s],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[s,"Facebook"],f],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[s,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[s,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[s,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[s,"Chrome WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[s,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[s,f],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[f,[s,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[f,s],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[s,[f,g,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[s,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[s,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[s,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[s,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",p]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows (ce|mobile); ppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[["architecture",/ower/,"",p]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",p]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[o,[c,"Samsung"],[u,d]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[o,[c,"Samsung"],[u,_]],[/\((ip(?:hone|od)[\w ]*);/i],[o,[c,"Apple"],[u,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[o,[c,"Apple"],[u,d]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[o,[c,"Huawei"],[u,d]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[o,[c,"Huawei"],[u,_]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[o,/_/g," "],[c,"Xiaomi"],[u,_]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[o,/_/g," "],[c,"Xiaomi"],[u,d]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[o,[c,"OPPO"],[u,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[o,[c,"Vivo"],[u,_]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[o,[c,"Realme"],[u,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[o,[c,"Motorola"],[u,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[o,[c,"Motorola"],[u,d]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[o,[c,"LG"],[u,d]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[o,[c,"LG"],[u,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[o,[c,"Lenovo"],[u,d]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[o,/_/g," "],[c,"Nokia"],[u,_]],[/(pixel c)\b/i],[o,[c,"Google"],[u,d]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[o,[c,"Google"],[u,_]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[o,[c,"Sony"],[u,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[o,"Xperia Tablet"],[c,"Sony"],[u,d]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[o,[c,"OnePlus"],[u,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[o,[c,"Amazon"],[u,d]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[o,/(.+)/g,"Fire Phone $1"],[c,"Amazon"],[u,_]],[/(playbook);[-\w\),; ]+(rim)/i],[o,c,[u,d]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[o,[c,"BlackBerry"],[u,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[o,[c,"ASUS"],[u,d]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[o,[c,"ASUS"],[u,_]],[/(nexus 9)/i],[o,[c,"HTC"],[u,d]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[c,[o,/_/g," "],[u,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[o,[c,"Acer"],[u,d]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[o,[c,"Meizu"],[u,_]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[o,[c,"Sharp"],[u,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[c,o,[u,_]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[c,o,[u,d]],[/(surface duo)/i],[o,[c,"Microsoft"],[u,d]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[o,[c,"Fairphone"],[u,_]],[/(u304aa)/i],[o,[c,"AT&T"],[u,_]],[/\bsie-(\w*)/i],[o,[c,"Siemens"],[u,_]],[/\b(rct\w+) b/i],[o,[c,"RCA"],[u,d]],[/\b(venue[\d ]{2,7}) b/i],[o,[c,"Dell"],[u,d]],[/\b(q(?:mv|ta)\w+) b/i],[o,[c,"Verizon"],[u,d]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[o,[c,"Barnes & Noble"],[u,d]],[/\b(tm\d{3}\w+) b/i],[o,[c,"NuVision"],[u,d]],[/\b(k88) b/i],[o,[c,"ZTE"],[u,d]],[/\b(nx\d{3}j) b/i],[o,[c,"ZTE"],[u,_]],[/\b(gen\d{3}) b.+49h/i],[o,[c,"Swiss"],[u,_]],[/\b(zur\d{3}) b/i],[o,[c,"Swiss"],[u,d]],[/\b((zeki)?tb.*\b) b/i],[o,[c,"Zeki"],[u,d]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[c,"Dragon Touch"],o,[u,d]],[/\b(ns-?\w{0,9}) b/i],[o,[c,"Insignia"],[u,d]],[/\b((nxa|next)-?\w{0,9}) b/i],[o,[c,"NextBook"],[u,d]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[c,"Voice"],o,[u,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[c,"LvTel"],o,[u,_]],[/\b(ph-1) /i],[o,[c,"Essential"],[u,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[o,[c,"Envizen"],[u,d]],[/\b(trio[-\w\. ]+) b/i],[o,[c,"MachSpeed"],[u,d]],[/\btu_(1491) b/i],[o,[c,"Rotor"],[u,d]],[/(shield[\w ]+) b/i],[o,[c,"Nvidia"],[u,d]],[/(sprint) (\w+)/i],[c,o,[u,_]],[/(kin\.[onetw]{3})/i],[[o,/\./g," "],[c,"Microsoft"],[u,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[o,[c,"Zebra"],[u,d]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[o,[c,"Zebra"],[u,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[c,o,[u,"console"]],[/droid.+; (shield) bui/i],[o,[c,"Nvidia"],[u,"console"]],[/(playstation [345portablevi]+)/i],[o,[c,"Sony"],[u,"console"]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[o,[c,"Microsoft"],[u,"console"]],[/smart-tv.+(samsung)/i],[c,[u,l]],[/hbbtv.+maple;(\d+)/i],[[o,/^/,"SmartTV"],[c,"Samsung"],[u,l]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[c,"LG"],[u,l]],[/(apple) ?tv/i],[c,[o,"Apple TV"],[u,l]],[/crkey/i],[[o,"Chromecast"],[c,"Google"],[u,l]],[/droid.+aft(\w)( bui|\))/i],[o,[c,"Amazon"],[u,l]],[/\(dtv[\);].+(aquos)/i],[o,[c,"Sharp"],[u,l]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[c,b],[o,b],[u,l]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[u,l]],[/((pebble))app/i],[c,o,[u,"wearable"]],[/droid.+; (glass) \d/i],[o,[c,"Google"],[u,"wearable"]],[/droid.+; (wt63?0{2,3})\)/i],[o,[c,"Zebra"],[u,"wearable"]],[/(quest( 2)?)/i],[o,[c,"Facebook"],[u,"wearable"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[c,[u,"embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[o,[u,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[o,[u,d]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[u,d]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[u,_]],[/(android[-\w\. ]{0,9});.+buil/i],[o,[c,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[s,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,s]],os:[[/microsoft (windows) (vista|xp)/i],[s,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[s,[f,g,M]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[s,"Windows"],[f,g,M]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[s,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[s,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[f,s],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[s,f],[/\(bb(10);/i],[f,[s,"BlackBerry"]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[s,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[s,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[s,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[s,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[s,"Chromium OS"],f],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[s,f],[/(sunos) ?([\w\.\d]*)/i],[[s,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[s,f]]},w=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof w))return new w(e,t).getResult();var r=e||(void 0!==a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),n=t?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(y,t):y;return this.getBrowser=function(){var e,t={};return t[s]=void 0,t[f]=void 0,v.call(t,r,n.browser),t.major="string"==typeof(e=t.version)?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0,t},this.getCPU=function(){var e={architecture:void 0};return v.call(e,r,n.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return v.call(e,r,n.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return v.call(e,r,n.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return v.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r="string"==typeof e&&e.length>255?b(e,255):e,this},this.setUA(r),this};w.VERSION="0.7.30",w.BROWSER=h([s,f,"major"]),w.CPU=h(["architecture"]),w.DEVICE=h([o,c,u,"console",_,l,d,"wearable","embedded"]),w.ENGINE=w.OS=h([s,f]),void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=w),t.UAParser=w):r(40)?void 0===(n=function(){return w}.call(t,r,t,e))||(e.exports=n):void 0!==a&&(a.UAParser=w);var x=void 0!==a&&(a.jQuery||a.Zepto);if(x&&!x.ua){var E=new w;x.ua=E.getResult(),x.ua.get=function(){return E.getUA()},x.ua.set=function(e){E.setUA(e);var t=E.getResult();for(var r in t)x.ua[r]=t[r]}}}("object"==typeof window?window:this)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log_level_t=t.instant_world_tracker_transform_orientation_t=t.face_landmark_name_t=t.barcode_format_t=void 0;var n=r(9);Object.defineProperty(t,"barcode_format_t",{enumerable:!0,get:function(){return n.barcode_format_t}});var a=r(9);Object.defineProperty(t,"face_landmark_name_t",{enumerable:!0,get:function(){return a.face_landmark_name_t}});var i=r(9);Object.defineProperty(t,"instant_world_tracker_transform_orientation_t",{enumerable:!0,get:function(){return i.instant_world_tracker_transform_orientation_t}});var o=r(9);Object.defineProperty(t,"log_level_t",{enumerable:!0,get:function(){return o.log_level_t}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceDecoder=t.SequenceRecorder=t.SequenceRecorderPacketType=void 0;const n=r(2);var a;!function(e){e[e.CAMERA_FRAME=0]="CAMERA_FRAME",e[e.ACCELEROMETER=1]="ACCELEROMETER",e[e.ROTATION_RATE=2]="ROTATION_RATE",e[e.ATTITUDE=3]="ATTITUDE",e[e.ATTITUDE_MATRIX=4]="ATTITUDE_MATRIX"}(a=t.SequenceRecorderPacketType||(t.SequenceRecorderPacketType={}));class i{constructor(e){this._insertionByte=0,this._numberPackets=0,this._started=!1,this._data=new ArrayBuffer(this._estimatedSize(e,320,240)),this._dataView=new DataView(this._data),this._dataUint8=new Uint8Array(this._data),this._dataFloat32=new Float32Array(this._data)}_estimatedSize(e,t,r){return i.headerSizeBytes+(i.psbPacketType+i.cameraPacketSizeBytes+t*r)*e}start(){this._started=!0,this._insertionByte=0,this._numberPackets=0,this._growArrayBuffer(i.headerSizeBytes);let e=(new TextEncoder).encode("UAR1");this._dataUint8.set(e),this._dataView.setUint32(4,0,!0),this._insertionByte+=8}stop(){this._started=!1;let e=this._data.slice(0,this._insertionByte);this._data=e,this._dataUint8=new Uint8Array(this._data),this._dataFloat32=new Float32Array(this._data),this._dataView=new DataView(this._data)}data(){return this._dataUint8}appendCameraFrame(e){if(!this._started)return;if(e.data.byteLength!==e.dataWidth*e.dataHeight)return void n.zcerr("Unable to record frame to sequence: greyscale array doesn't match dimensions");let t=i.psbPacketType+i.cameraPacketSizeBytes+e.dataWidth*e.dataHeight;this._growArrayBuffer(t),this._dataView.setUint32(this._insertionByte,a.CAMERA_FRAME,!0),this._insertionByte+=i.psbPacketType,this._dataView.setUint32(this._insertionByte,e.dataWidth,!0),this._insertionByte+=i.psbCameraFrameWidth,this._dataView.setUint32(this._insertionByte,e.dataHeight,!0),this._insertionByte+=i.psbCameraFrameHeight,this._dataFloat32.set(e.cameraToDevice,this._insertionByte/4),this._insertionByte+=i.psbCameraToDeviceTransform,this._dataFloat32.set(e.cameraModel,this._insertionByte/4),this._insertionByte+=i.psbCameraModel,this._dataView.setUint32(this._insertionByte,e.userFacing?1:0,!0),this._insertionByte+=i.psbFlags,this._dataUint8.set(new Uint8Array(e.data),this._insertionByte),this._insertionByte+=e.data.byteLength,this._numberPackets++,this._dataView.setUint32(4,this._numberPackets,!0)}appendAccelerometer(e,t,r,n){this._appendTimestampedVec3(a.ACCELEROMETER,e,t,r,n)}appendRotationRate(e,t,r,n){this._appendTimestampedVec3(a.ROTATION_RATE,e,t,r,n)}appendAttitude(e,t,r,n){this._appendTimestampedVec3(a.ATTITUDE,e,t,r,n)}_appendTimestampedVec3(e,t,r,n,a){if(!this._started)return;let o=i.psbPacketType+i.accelerometerPacketSizeBytes;this._growArrayBuffer(o),this._dataView.setUint32(this._insertionByte,e,!0),this._insertionByte+=i.psbPacketType,this._dataView.setUint32(this._insertionByte,t,!0),this._insertionByte+=4,this._dataView.setFloat32(this._insertionByte,r,!0),this._insertionByte+=4,this._dataView.setFloat32(this._insertionByte,n,!0),this._insertionByte+=4,this._dataView.setFloat32(this._insertionByte,a,!0),this._insertionByte+=4,this._numberPackets++,this._dataView.setUint32(4,this._numberPackets,!0)}appendAttitudeMatrix(e){if(!this._started)return;let t=i.psbPacketType+i.attitudeMatrixPacketSizeBytes;this._growArrayBuffer(t),this._dataView.setUint32(this._insertionByte,a.ATTITUDE_MATRIX,!0),this._insertionByte+=i.psbPacketType,this._dataFloat32.set(e,this._insertionByte/4),this._insertionByte+=i.attitudeMatrixPacketSizeBytes,this._numberPackets++,this._dataView.setUint32(4,this._numberPackets,!0)}_growArrayBuffer(e){for(;this._insertionByte+e>this._data.byteLength;){let e=Math.max(2*this._data.byteLength,this._estimatedSize(50,320,240)),t=new ArrayBuffer(e),r=new Uint8Array(t);r.set(this._dataUint8),this._data=t,this._dataUint8=r,this._dataFloat32=new Float32Array(this._data),this._dataView=new DataView(this._data)}}}t.SequenceRecorder=i,i.headerSizeBytes=8,i.psbPacketType=4,i.psbCameraFrameWidth=4,i.psbCameraFrameHeight=4,i.psbFlags=4,i.psbCameraToDeviceTransform=64,i.psbCameraModel=24,i.cameraPacketSizeBytes=i.psbCameraFrameWidth+i.psbCameraFrameHeight+i.psbCameraToDeviceTransform+i.psbCameraModel+i.psbFlags,i.accelerometerPacketSizeBytes=16,i.rotationRatePacketSizeBytes=16,i.attitudePacketSizeBytes=16,i.attitudeMatrixPacketSizeBytes=64;t.SequenceDecoder=class{constructor(e){this._data=e,this.dataByPacket=new Map,this.dataByCameraFrame=new Map,this.numberPackets=0,this.numberCameraFrames=0,this.numberAccelerometerPackets=0,this.numberRotationRatePackets=0,this.numberAttitudePackets=0,this.numberAttitudeMatrixPackets=0;let t=new TextDecoder,r="";try{r=t.decode(this._data.slice(0,4))}catch(e){throw new Error("Unable to decode header - perhaps this isn't a sequence file?")}if("UAR1"!==r)throw new Error("Invalid - perhaps this isn't a sequence file: "+r);let n=0,o=new DataView(this._data);this.numberPackets=o.getUint32(4,!0),n+=i.headerSizeBytes;for(let e=0;e<this.numberPackets;e++){let t=o.getUint32(n,!0);switch(n+=i.psbPacketType,t){case a.CAMERA_FRAME:{let t=o.getUint32(n,!0);n+=i.psbCameraFrameWidth;let r=o.getUint32(n,!0);n+=i.psbCameraFrameHeight;let s=new Float32Array(this._data,n,i.psbCameraToDeviceTransform/4);n+=i.psbCameraToDeviceTransform;let u=new Float32Array(this._data,n,i.psbCameraModel/4);n+=i.psbCameraModel;let c=o.getUint32(n,!0);n+=i.psbFlags;let f=1===c,_=new Uint8Array(this._data,n,t*r);n+=t*r;let d={type:a.CAMERA_FRAME,width:t,height:r,cameraToDevice:s,cameraModel:u,userFacing:f,greyscale:_};this.dataByPacket.set(e,d),this.dataByCameraFrame.set(this.numberCameraFrames,d),this.numberCameraFrames++;break}case a.ACCELEROMETER:{let t=o.getUint32(n,!0);n+=4;let r=o.getFloat32(n,!0);n+=4;let i=o.getFloat32(n,!0);n+=4;let s=o.getFloat32(n,!0);n+=4,this.dataByPacket.set(e,{type:a.ACCELEROMETER,t:t,x:r,y:i,z:s}),this.numberAccelerometerPackets++;break}case a.ROTATION_RATE:{let t=o.getUint32(n,!0);n+=4;let r=o.getFloat32(n,!0);n+=4;let i=o.getFloat32(n,!0);n+=4;let s=o.getFloat32(n,!0);n+=4,this.dataByPacket.set(e,{type:a.ROTATION_RATE,t:t,x:r,y:i,z:s}),this.numberRotationRatePackets++;break}case a.ATTITUDE:{let t=o.getUint32(n,!0);n+=4;let r=o.getFloat32(n,!0);n+=4;let i=o.getFloat32(n,!0);n+=4;let s=o.getFloat32(n,!0);n+=4,this.dataByPacket.set(e,{type:a.ATTITUDE,t:t,x:r,y:i,z:s}),this.numberAttitudePackets++;break}case a.ATTITUDE_MATRIX:{let t=new Float32Array(this._data,n,i.attitudeMatrixPacketSizeBytes/4);n+=i.attitudeMatrixPacketSizeBytes,this.dataByPacket.set(e,{type:a.ATTITUDE_MATRIX,attitude:t}),this.numberAttitudeMatrixPackets++;break}}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLElementSource=void 0;const n=r(10),a=r(20),i=r(21),o=r(8),s=r(3),u=r(2);let c=1,f=new Map;class _ extends a.Source{constructor(e,t){super(),this._video=e,this._pipeline=t,this._isPaused=!0,this._hadFrames=!1,this._isUserFacing=!1,this._cameraToScreenRotation=0,this._isUploadFrame=!0,this._computedTransformRotation=-1,this._computedFrontCameraRotation=!1,this._cameraUvTransform=s.mat4.create(),this._cameraToDeviceTransform=s.mat4.create(),this._cameraToDeviceTransformUserFacing=s.mat4.create(),this._cameraModel=new Float32Array([300,300,160,120,0,0]),this._framebufferWidth=0,this._framebufferHeight=0,this._framebufferId=null,this._renderTexture=null,s.mat4.fromScaling(this._cameraToDeviceTransformUserFacing,[-1,1,-1]);let r=this._video;this._video instanceof HTMLVideoElement?r.addEventListener("loadedmetadata",()=>{this._hadFrames=!0}):this._hadFrames=!0,this._resetGLContext=this._resetGLContext.bind(this);let a=n.Pipeline.get(this._pipeline);a&&a.onGLContextReset.bind(this._resetGLContext)}static createVideoElementSource(e,t){let r=c++;return f.set(r,new _(t,e)),u.zcout("html_element_source_t initialized"),r}static getVideoElementSource(e){return f.get(e)}_resetGLContext(){this._currentVideoTexture=void 0,this._framebufferId=null,this._renderTexture=null,this._vertexBuffer=void 0,this._indexBuffer=void 0,this._greyscaleShader=void 0}destroy(){let e=n.Pipeline.get(this._pipeline);e&&e.onGLContextReset.unbind(this._resetGLContext),this.pause(),this._resetGLContext()}pause(){this._isPaused=!0;let e=n.Pipeline.get(this._pipeline);e&&e.currentCameraSource===this&&(e.currentCameraSource=void 0)}start(){var e;this._isPaused&&(this._isUploadFrame=!0,this._video instanceof HTMLVideoElement&&(this._hadFrames=!1)),this._isPaused=!1;let t=n.Pipeline.get(this._pipeline);t&&t.currentCameraSource!==this&&(null===(e=t.currentCameraSource)||void 0===e||e.pause(),t.currentCameraSource=this)}getFrame(e){let t=n.Pipeline.get(this._pipeline);if(!t)return;let r=t.glContext;if(r&&!this._isPaused&&this._hadFrames)try{return this._processFrame(r,this._cameraToScreenRotation,e)}catch(e){console.log("Unable to process frame")}}_processFrame(e,t,r){let a=n.Pipeline.get(this._pipeline);if(a){if(this._isUploadFrame)return this._currentVideoTexture||(this._currentVideoTexture=a.getVideoTexture()),this._uploadFrame(t,this._isUserFacing),void(this._isUploadFrame=!this._isUploadFrame);if(!r)return this._isUploadFrame=!this._isUploadFrame,this._readFrame(a,e)}}_uploadFrame(e,t){if(!this._currentVideoTexture)return;let r=n.Pipeline.get(this._pipeline);if(!r)return;let a=r.glContext;if(!a)return;a.disable(a.SCISSOR_TEST),a.disable(a.DEPTH_TEST),a.disable(a.BLEND),a.disable(a.CULL_FACE),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,this._currentVideoTexture);const o=a.RGBA,s=a.RGBA,u=a.UNSIGNED_BYTE;a.texImage2D(a.TEXTURE_2D,0,o,s,u,this._video);let c=0,f=0;this._video instanceof HTMLVideoElement?(c=this._video.videoWidth,f=this._video.videoHeight):(c=this._video.width,f=this._video.height),f>c&&(f=[c,c=f][0]),this._updateTransforms(e,t);let _=this._getFramebuffer(a,i.profile.dataWidth/4,i.profile.dataHeight),d=this._getVertexBuffer(a),l=this._getIndexBuffer(a),h=this._getGreyscaleShader(a);a.bindFramebuffer(a.FRAMEBUFFER,_),a.viewport(0,0,this._framebufferWidth,this._framebufferHeight),a.clearColor(0,0,0,1),a.clear(a.COLOR_BUFFER_BIT),a.bindBuffer(a.ARRAY_BUFFER,d),a.vertexAttribPointer(h.aVertexPositionLoc,2,a.FLOAT,!1,16,0),a.enableVertexAttribArray(h.aVertexPositionLoc),a.vertexAttribPointer(h.aTextureCoordLoc,2,a.FLOAT,!1,16,8),a.enableVertexAttribArray(h.aTextureCoordLoc),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,l),a.useProgram(h.program),a.uniform1f(h.uTexWidthLoc,i.profile.dataWidth),a.uniformMatrix4fv(h.uUvTransformLoc,!1,this._cameraUvTransform),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,this._currentVideoTexture),a.uniform1i(h.uSamplerLoc,0),a.drawElements(a.TRIANGLES,6,a.UNSIGNED_SHORT,0),a.disableVertexAttribArray(h.aVertexPositionLoc),a.disableVertexAttribArray(h.aTextureCoordLoc),a.bindFramebuffer(a.FRAMEBUFFER,null),a.bindBuffer(a.ARRAY_BUFFER,null),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null),a.useProgram(null),a.bindTexture(a.TEXTURE_2D,null)}_readFrame(e,t){if(!this._currentVideoTexture)throw new Error("No video texture");let r=this._currentVideoTexture;this._currentVideoTexture=void 0;let n=i.profile.dataWidth*i.profile.dataHeight,a=e.cameraPixelArrays.pop();for(;a&&a.byteLength!==n;)a=e.cameraPixelArrays.pop();a||(a=new ArrayBuffer(n));let o=new Uint8Array(a),s=this._getFramebuffer(t,i.profile.dataWidth/4,i.profile.dataHeight);t.bindFramebuffer(t.FRAMEBUFFER,s),t.readPixels(0,0,this._framebufferWidth,this._framebufferHeight,t.RGBA,t.UNSIGNED_BYTE,o),t.bindFramebuffer(t.FRAMEBUFFER,null);let u=300*i.profile.dataWidth/320;return this._cameraModel[0]=u,this._cameraModel[1]=u,this._cameraModel[2]=.5*i.profile.dataWidth,this._cameraModel[3]=.5*i.profile.dataHeight,{uvTransform:this._cameraUvTransform,data:a,texture:r,cameraModel:this._cameraModel,dataWidth:i.profile.dataWidth,dataHeight:i.profile.dataHeight,userFacing:this._computedFrontCameraRotation,cameraToDevice:this._computedFrontCameraRotation?this._cameraToDeviceTransformUserFacing:this._cameraToDeviceTransform,cameraSource:this}}_updateTransforms(e,t){e==this._computedTransformRotation&&t==this._computedFrontCameraRotation||(this._computedTransformRotation=e,this._computedFrontCameraRotation=t,this._cameraUvTransform=this._getCameraUvTransform())}_getCameraUvTransform(){switch(this._computedTransformRotation){case 270:return new Float32Array([0,1,0,0,-1,0,0,0,0,0,1,0,1,0,0,1]);case 180:return new Float32Array([-1,0,0,0,0,-1,0,0,0,0,1,0,1,1,0,1]);case 90:return new Float32Array([0,-1,0,0,1,0,0,0,0,0,1,0,0,1,0,1])}return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}_getFramebuffer(e,t,r){if(this._framebufferWidth===t&&this._framebufferHeight===r&&this._framebufferId)return this._framebufferId;if(this._framebufferId&&(e.deleteFramebuffer(this._framebufferId),this._framebufferId=null),this._renderTexture&&(e.deleteTexture(this._renderTexture),this._renderTexture=null),this._framebufferId=e.createFramebuffer(),!this._framebufferId)throw new Error("Unable to create framebuffer");if(e.bindFramebuffer(e.FRAMEBUFFER,this._framebufferId),this._renderTexture=e.createTexture(),!this._renderTexture)throw new Error("Unable to create render texture");e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this._renderTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,r,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameterf(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._renderTexture,0);let n=e.checkFramebufferStatus(e.FRAMEBUFFER);if(n!==e.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer not complete: "+n.toString());return this._framebufferWidth=t,this._framebufferHeight=r,e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),this._framebufferId}_getVertexBuffer(e){if(this._vertexBuffer)return this._vertexBuffer;if(this._vertexBuffer=e.createBuffer(),!this._vertexBuffer)throw new Error("Unable to create vertex buffer");e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer);let t=new Float32Array([-1,-1,0,0,-1,1,0,1,1,1,1,1,1,-1,1,0]);return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),this._vertexBuffer}_getIndexBuffer(e){if(this._indexBuffer)return this._indexBuffer;if(this._indexBuffer=e.createBuffer(),!this._indexBuffer)throw new Error("Unable to create index buffer");e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer);let t=new Uint16Array([0,1,2,0,2,3]);return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW),this._indexBuffer}_getGreyscaleShader(e){if(this._greyscaleShader)return this._greyscaleShader;let t=e.createProgram();if(!t)throw new Error("Unable to create program");let r=o.compileShader(e,e.VERTEX_SHADER,d),n=o.compileShader(e,e.FRAGMENT_SHADER,l);e.attachShader(t,r),e.attachShader(t,n),o.linkProgram(e,t);let a=e.getUniformLocation(t,"uTexWidth");if(!a)throw new Error("Unable to get uniform location uTexWidth");let i=e.getUniformLocation(t,"uUvTransform");if(!i)throw new Error("Unable to get uniform location uUvTransform");let s=e.getUniformLocation(t,"uSampler");if(!s)throw new Error("Unable to get uniform location uSampler");return this._greyscaleShader={program:t,aVertexPositionLoc:e.getAttribLocation(t,"aVertexPosition"),aTextureCoordLoc:e.getAttribLocation(t,"aTextureCoord"),uTexWidthLoc:a,uUvTransformLoc:i,uSamplerLoc:s},this._greyscaleShader}uploadGL(){}}t.HTMLElementSource=_;let d="\n    attribute vec4 aVertexPosition;\n    attribute vec2 aTextureCoord;\n\n    varying highp vec2 vTextureCoord1;\n    varying highp vec2 vTextureCoord2;\n    varying highp vec2 vTextureCoord3;\n    varying highp vec2 vTextureCoord4;\n\n    uniform float uTexWidth;\n\tuniform mat4 uUvTransform;\n\n    void main(void) {\n      highp vec2 offset1 = vec2(1.5 / uTexWidth, 0);\n      highp vec2 offset2 = vec2(0.5 / uTexWidth, 0);\n\n      gl_Position = aVertexPosition;\n      vTextureCoord1 = (uUvTransform * vec4(aTextureCoord - offset1, 0, 1)).xy;\n      vTextureCoord2 = (uUvTransform * vec4(aTextureCoord - offset2, 0, 1)).xy;\n      vTextureCoord3 = (uUvTransform * vec4(aTextureCoord + offset2, 0, 1)).xy;\n      vTextureCoord4 = (uUvTransform * vec4(aTextureCoord + offset1, 0, 1)).xy;\n    }\n",l="\n  varying highp vec2 vTextureCoord1;\n  varying highp vec2 vTextureCoord2;\n  varying highp vec2 vTextureCoord3;\n  varying highp vec2 vTextureCoord4;\n\n  uniform sampler2D uSampler;\n\n  const lowp vec3 colorWeights = vec3(77.0 / 256.0, 150.0 / 256.0, 29.0 / 256.0);\n\n  void main(void) {\n    lowp vec4 outpx;\n\n    outpx.r = dot(colorWeights, texture2D(uSampler, vTextureCoord1).xyz);\n    outpx.g = dot(colorWeights, texture2D(uSampler, vTextureCoord2).xyz);\n    outpx.b = dot(colorWeights, texture2D(uSampler, vTextureCoord3).xyz);\n    outpx.a = dot(colorWeights, texture2D(uSampler, vTextureCoord4).xyz);\n\n    gl_FragColor = outpx;\n  }\n"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Source=void 0;t.Source=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.profile=t.EmbeddedVideoImplementation=void 0;const n=r(16);!function(e){e[e.OBJECT_URL=0]="OBJECT_URL",e[e.SRC_OBJECT=1]="SRC_OBJECT"}(t.EmbeddedVideoImplementation||(t.EmbeddedVideoImplementation={})),t.profile={deviceMotionMutliplier:-1,blacklisted:!1,showGyroPermissionsWarningIfNecessary:!1,showSafariPermissionsResetIfNecessary:!1,requestHighFrameRate:!1,videoWidth:640,videoHeight:480,dataWidth:320,dataHeight:240,videoElementInDOM:!1},window.zeeProfile=t.profile;let a=new n.UAParser,i=(a.getOS().name||"unknown").toLowerCase(),o=(a.getEngine().name||"unknown").toLowerCase();function s(){let e=a.getOS().version;if(e){let r=e.split(".");if(r.length>=2){const e=parseInt(r[0]),n=parseInt(r[1]);(e<11||11===e&&n<3)&&(t.profile.blacklisted=!0),(e<12||12===e&&n<2)&&(t.profile.videoElementInDOM=!0),(12===e&&n>=2||e>=13)&&(t.profile.showGyroPermissionsWarningIfNecessary=!0),e>=13&&(t.profile.showSafariPermissionsResetIfNecessary=!0),(e>=12&&n>1||e>=13)&&navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&navigator.mediaDevices.getSupportedConstraints().frameRate&&(t.profile.requestHighFrameRate=!0,e<14&&(t.profile.videoHeight=360,t.profile.dataHeight=180))}}}"webkit"===o&&"ios"!==i&&(t.profile.deviceMotionMutliplier=1,void 0!==window.orientation&&s()),"webkit"===o&&"ios"===i&&(t.profile.deviceMotionMutliplier=1,s())},function(e,t,r){"use strict";r.r(t),t.default=r.p+"b4f46e148a3b3b5aef90717d8d60e3fc.zbin"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FaceBufferGeometry=void 0;const n=r(0),a=r(24);let i;class o extends n.THREE.BufferGeometry{constructor(e){super(),this.hasSetIndices=!1,this.hasSetUVs=!1,this.recalculateNormals=!0,this.setIndex([]),this.setAttribute("position",new n.THREE.Float32BufferAttribute([],3)),this.setAttribute("normal",new n.THREE.Float32BufferAttribute([],3)),this.setAttribute("uv",new n.THREE.Float32BufferAttribute([],2)),e||(i||(i=(new a.FaceMeshLoader).load()),e=i),this._faceMesh=e}_updateIndices(){this.hasSetIndices||0!==this._faceMesh.indices.length&&(this.setIndex(new n.THREE.Uint16BufferAttribute(this._faceMesh.indices,1)),this.hasSetIndices=!0)}_updateUVs(){this.hasSetUVs||0!==this._faceMesh.uvs.length&&(this.setAttribute("uv",new n.THREE.BufferAttribute(this._faceMesh.uvs,2)),this.hasSetUVs=!0)}get calculateNormals(){return this.recalculateNormals}set calculateNormals(e){this.recalculateNormals=e,this.recalculateNormals||("function"==typeof this.removeAttribute&&this.removeAttribute("normal"),delete this.normals)}updateFromFaceAnchorGroup(e){0!==this._faceMesh.vertices.length&&e.currentAnchor&&this.updateFromFaceAnchor(e.currentAnchor)}updateFromFaceAnchor(e){this.updateFromIdentityExpression(e.identity,e.expression)}updateFromIdentityExpression(e,t){0!==this._faceMesh.vertices.length&&(this._updateIndices(),this._updateUVs(),this._faceMesh.updateFromIdentityExpression(e,t),this.vertices||(this.vertices=new Float32Array(this._faceMesh.vertices.length),this.verticesAttribute=new n.THREE.BufferAttribute(this.vertices,3),this.setAttribute("position",this.verticesAttribute)),this.vertices.set(this._faceMesh.vertices),this.verticesAttribute&&(this.verticesAttribute.needsUpdate=!0),this.computeBoundingSphere(),this.calculateNormals&&(this.normals||(this.normals=new Float32Array(this._faceMesh.normals.length),this.normalsAttribute=new n.THREE.BufferAttribute(this.normals,3),this.setAttribute("normal",this.normalsAttribute)),this.normals.set(this._faceMesh.normals),this.normalsAttribute&&(this.normalsAttribute.needsUpdate=!0)))}}t.FaceBufferGeometry=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FaceMeshLoader=void 0;const n=r(4),a=r(0);class i extends a.THREE.Loader{load(e,t,r,a){const i=new n.FaceMesh;let o;const s="__zappar_threejs_face_mesh_"+JSON.stringify(e||"default");return this.manager.itemStart(s),o=e?"string"==typeof e?i.load(e):e.customModel?i.load(e.customModel,e.fillMouth,e.fillEyeLeft,e.fillEyeRight,e.fillNeck):i.loadDefaultFace(e.fillMouth,e.fillEyeLeft,e.fillEyeRight):i.loadDefaultFace(),o.then(()=>{null==t||t(i),this.manager.itemEnd(s)}).catch(e=>{null==a||a(e),this.manager.itemError(s),this.manager.itemEnd(s)}),i}loadFace(e,t,r,a){const i=new n.FaceMesh;let o;const s="__zappar_threejs_face_mesh_face_"+JSON.stringify(e||"default");return o=e?e.customModel?i.load(e.customModel,e.fillMouth,e.fillEyeLeft,e.fillEyeRight,e.fillNeck):i.loadDefaultFace(e.fillMouth,e.fillEyeLeft,e.fillEyeRight):i.loadDefaultFace(),o.then(()=>{null==t||t(i),this.manager.itemEnd(s)}).catch(e=>{null==a||a(e),this.manager.itemError(s),this.manager.itemEnd(s)}),i}loadFullHeadSimplified(e,t,r,a){const i=new n.FaceMesh;let o;const s="__zappar_threejs_face_mesh_full_head_"+JSON.stringify(e||"default");return o=e?e.customModel?i.load(e.customModel,e.fillMouth,e.fillEyeLeft,e.fillEyeRight,e.fillNeck):i.loadDefaultFullHeadSimplified(e.fillMouth,e.fillEyeLeft,e.fillEyeRight,e.fillNeck):i.loadDefaultFullHeadSimplified(),o.then(()=>{null==t||t(i),this.manager.itemEnd(s)}).catch(e=>{null==a||a(e),this.manager.itemError(s),this.manager.itemEnd(s)}),i}parse(){}}t.FaceMeshLoader=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeadMaskMesh=void 0;const n=r(4),a=r(0),i=r(23);class o extends a.THREE.Mesh{constructor(e,t){super(),this.onLoad=e,this.onError=t,this.faceMesh=new n.FaceMesh,this.faceBufferGeometry=new i.FaceBufferGeometry(this.faceMesh),this.geometry=this.faceBufferGeometry,this.material=new a.THREE.MeshBasicMaterial({colorWrite:!1}),this.faceMesh.loadDefaultFullHeadSimplified(!0,!0,!0,!0).then(()=>{var e;return null===(e=this.onLoad)||void 0===e?void 0:e.call(this)}).catch(()=>{var e;return null===(e=this.onError)||void 0===e?void 0:e.call(this)}),this.renderOrder=Number.MIN_SAFE_INTEGER}updateFromFaceAnchorGroup(e){this.faceBufferGeometry.updateFromFaceAnchorGroup(e)}updateFromFaceAnchor(e){this.faceBufferGeometry.updateFromFaceAnchor(e)}updateFromIdentityExpression(e,t){this.faceBufferGeometry.updateFromIdentityExpression(e,t)}dispose(){this.faceMesh.destroy(),this.faceBufferGeometry.dispose()}}t.HeadMaskMesh=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LibraryLoader=void 0;const n=r(13),a=r(0),i="__zappar_threejs_library";class o extends a.THREE.Loader{load(e,t,r){this.manager.itemStart(i),(0,n.loadedPromise)().then(()=>{null==e||e(),this.manager.itemEnd(i)}).catch(e=>{null==r||r(),this.manager.itemError(i),this.manager.itemEnd(i)})}parse(){}}t.LibraryLoader=o},function(e,t,r){"use strict";r.r(t),r.d(t,"glMatrix",(function(){return n})),r.d(t,"mat2",(function(){return a})),r.d(t,"mat2d",(function(){return i})),r.d(t,"mat3",(function(){return o})),r.d(t,"mat4",(function(){return s})),r.d(t,"quat",(function(){return f})),r.d(t,"quat2",(function(){return _})),r.d(t,"vec2",(function(){return d})),r.d(t,"vec3",(function(){return u})),r.d(t,"vec4",(function(){return c}));var n={};r.r(n),r.d(n,"EPSILON",(function(){return l})),r.d(n,"ARRAY_TYPE",(function(){return h})),r.d(n,"RANDOM",(function(){return m})),r.d(n,"setMatrixArrayType",(function(){return p})),r.d(n,"toRadian",(function(){return v})),r.d(n,"equals",(function(){return g}));var a={};r.r(a),r.d(a,"create",(function(){return M})),r.d(a,"clone",(function(){return y})),r.d(a,"copy",(function(){return w})),r.d(a,"identity",(function(){return x})),r.d(a,"fromValues",(function(){return E})),r.d(a,"set",(function(){return A})),r.d(a,"transpose",(function(){return k})),r.d(a,"invert",(function(){return T})),r.d(a,"adjoint",(function(){return z})),r.d(a,"determinant",(function(){return F})),r.d(a,"multiply",(function(){return R})),r.d(a,"rotate",(function(){return P})),r.d(a,"scale",(function(){return S})),r.d(a,"fromRotation",(function(){return O})),r.d(a,"fromScaling",(function(){return L})),r.d(a,"str",(function(){return D})),r.d(a,"frob",(function(){return C})),r.d(a,"LDU",(function(){return I})),r.d(a,"add",(function(){return U})),r.d(a,"subtract",(function(){return B})),r.d(a,"exactEquals",(function(){return q})),r.d(a,"equals",(function(){return j})),r.d(a,"multiplyScalar",(function(){return V})),r.d(a,"multiplyScalarAndAdd",(function(){return N})),r.d(a,"mul",(function(){return G})),r.d(a,"sub",(function(){return H}));var i={};r.r(i),r.d(i,"create",(function(){return W})),r.d(i,"clone",(function(){return Y})),r.d(i,"copy",(function(){return X})),r.d(i,"identity",(function(){return Z})),r.d(i,"fromValues",(function(){return Q})),r.d(i,"set",(function(){return J})),r.d(i,"invert",(function(){return K})),r.d(i,"determinant",(function(){return $})),r.d(i,"multiply",(function(){return ee})),r.d(i,"rotate",(function(){return te})),r.d(i,"scale",(function(){return re})),r.d(i,"translate",(function(){return ne})),r.d(i,"fromRotation",(function(){return ae})),r.d(i,"fromScaling",(function(){return ie})),r.d(i,"fromTranslation",(function(){return oe})),r.d(i,"str",(function(){return se})),r.d(i,"frob",(function(){return ue})),r.d(i,"add",(function(){return ce})),r.d(i,"subtract",(function(){return fe})),r.d(i,"multiplyScalar",(function(){return _e})),r.d(i,"multiplyScalarAndAdd",(function(){return de})),r.d(i,"exactEquals",(function(){return le})),r.d(i,"equals",(function(){return he})),r.d(i,"mul",(function(){return me})),r.d(i,"sub",(function(){return pe}));var o={};r.r(o),r.d(o,"create",(function(){return be})),r.d(o,"fromMat4",(function(){return ve})),r.d(o,"clone",(function(){return ge})),r.d(o,"copy",(function(){return Me})),r.d(o,"fromValues",(function(){return ye})),r.d(o,"set",(function(){return we})),r.d(o,"identity",(function(){return xe})),r.d(o,"transpose",(function(){return Ee})),r.d(o,"invert",(function(){return Ae})),r.d(o,"adjoint",(function(){return ke})),r.d(o,"determinant",(function(){return Te})),r.d(o,"multiply",(function(){return ze})),r.d(o,"translate",(function(){return Fe})),r.d(o,"rotate",(function(){return Re})),r.d(o,"scale",(function(){return Pe})),r.d(o,"fromTranslation",(function(){return Se})),r.d(o,"fromRotation",(function(){return Oe})),r.d(o,"fromScaling",(function(){return Le})),r.d(o,"fromMat2d",(function(){return De})),r.d(o,"fromQuat",(function(){return Ce})),r.d(o,"normalFromMat4",(function(){return Ie})),r.d(o,"projection",(function(){return Ue})),r.d(o,"str",(function(){return Be})),r.d(o,"frob",(function(){return qe})),r.d(o,"add",(function(){return je})),r.d(o,"subtract",(function(){return Ve})),r.d(o,"multiplyScalar",(function(){return Ne})),r.d(o,"multiplyScalarAndAdd",(function(){return Ge})),r.d(o,"exactEquals",(function(){return He})),r.d(o,"equals",(function(){return We})),r.d(o,"mul",(function(){return Ye})),r.d(o,"sub",(function(){return Xe}));var s={};r.r(s),r.d(s,"create",(function(){return Ze})),r.d(s,"clone",(function(){return Qe})),r.d(s,"copy",(function(){return Je})),r.d(s,"fromValues",(function(){return Ke})),r.d(s,"set",(function(){return $e})),r.d(s,"identity",(function(){return et})),r.d(s,"transpose",(function(){return tt})),r.d(s,"invert",(function(){return rt})),r.d(s,"adjoint",(function(){return nt})),r.d(s,"determinant",(function(){return at})),r.d(s,"multiply",(function(){return it})),r.d(s,"translate",(function(){return ot})),r.d(s,"scale",(function(){return st})),r.d(s,"rotate",(function(){return ut})),r.d(s,"rotateX",(function(){return ct})),r.d(s,"rotateY",(function(){return ft})),r.d(s,"rotateZ",(function(){return _t})),r.d(s,"fromTranslation",(function(){return dt})),r.d(s,"fromScaling",(function(){return lt})),r.d(s,"fromRotation",(function(){return ht})),r.d(s,"fromXRotation",(function(){return mt})),r.d(s,"fromYRotation",(function(){return pt})),r.d(s,"fromZRotation",(function(){return bt})),r.d(s,"fromRotationTranslation",(function(){return vt})),r.d(s,"fromQuat2",(function(){return gt})),r.d(s,"getTranslation",(function(){return Mt})),r.d(s,"getScaling",(function(){return yt})),r.d(s,"getRotation",(function(){return wt})),r.d(s,"fromRotationTranslationScale",(function(){return xt})),r.d(s,"fromRotationTranslationScaleOrigin",(function(){return Et})),r.d(s,"fromQuat",(function(){return At})),r.d(s,"frustum",(function(){return kt})),r.d(s,"perspective",(function(){return Tt})),r.d(s,"perspectiveFromFieldOfView",(function(){return zt})),r.d(s,"ortho",(function(){return Ft})),r.d(s,"lookAt",(function(){return Rt})),r.d(s,"targetTo",(function(){return Pt})),r.d(s,"str",(function(){return St})),r.d(s,"frob",(function(){return Ot})),r.d(s,"add",(function(){return Lt})),r.d(s,"subtract",(function(){return Dt})),r.d(s,"multiplyScalar",(function(){return Ct})),r.d(s,"multiplyScalarAndAdd",(function(){return It})),r.d(s,"exactEquals",(function(){return Ut})),r.d(s,"equals",(function(){return Bt})),r.d(s,"mul",(function(){return qt})),r.d(s,"sub",(function(){return jt}));var u={};r.r(u),r.d(u,"create",(function(){return Vt})),r.d(u,"clone",(function(){return Nt})),r.d(u,"length",(function(){return Gt})),r.d(u,"fromValues",(function(){return Ht})),r.d(u,"copy",(function(){return Wt})),r.d(u,"set",(function(){return Yt})),r.d(u,"add",(function(){return Xt})),r.d(u,"subtract",(function(){return Zt})),r.d(u,"multiply",(function(){return Qt})),r.d(u,"divide",(function(){return Jt})),r.d(u,"ceil",(function(){return Kt})),r.d(u,"floor",(function(){return $t})),r.d(u,"min",(function(){return er})),r.d(u,"max",(function(){return tr})),r.d(u,"round",(function(){return rr})),r.d(u,"scale",(function(){return nr})),r.d(u,"scaleAndAdd",(function(){return ar})),r.d(u,"distance",(function(){return ir})),r.d(u,"squaredDistance",(function(){return or})),r.d(u,"squaredLength",(function(){return sr})),r.d(u,"negate",(function(){return ur})),r.d(u,"inverse",(function(){return cr})),r.d(u,"normalize",(function(){return fr})),r.d(u,"dot",(function(){return _r})),r.d(u,"cross",(function(){return dr})),r.d(u,"lerp",(function(){return lr})),r.d(u,"hermite",(function(){return hr})),r.d(u,"bezier",(function(){return mr})),r.d(u,"random",(function(){return pr})),r.d(u,"transformMat4",(function(){return br})),r.d(u,"transformMat3",(function(){return vr})),r.d(u,"transformQuat",(function(){return gr})),r.d(u,"rotateX",(function(){return Mr})),r.d(u,"rotateY",(function(){return yr})),r.d(u,"rotateZ",(function(){return wr})),r.d(u,"angle",(function(){return xr})),r.d(u,"zero",(function(){return Er})),r.d(u,"str",(function(){return Ar})),r.d(u,"exactEquals",(function(){return kr})),r.d(u,"equals",(function(){return Tr})),r.d(u,"sub",(function(){return Fr})),r.d(u,"mul",(function(){return Rr})),r.d(u,"div",(function(){return Pr})),r.d(u,"dist",(function(){return Sr})),r.d(u,"sqrDist",(function(){return Or})),r.d(u,"len",(function(){return Lr})),r.d(u,"sqrLen",(function(){return Dr})),r.d(u,"forEach",(function(){return Cr}));var c={};r.r(c),r.d(c,"create",(function(){return Ir})),r.d(c,"clone",(function(){return Ur})),r.d(c,"fromValues",(function(){return Br})),r.d(c,"copy",(function(){return qr})),r.d(c,"set",(function(){return jr})),r.d(c,"add",(function(){return Vr})),r.d(c,"subtract",(function(){return Nr})),r.d(c,"multiply",(function(){return Gr})),r.d(c,"divide",(function(){return Hr})),r.d(c,"ceil",(function(){return Wr})),r.d(c,"floor",(function(){return Yr})),r.d(c,"min",(function(){return Xr})),r.d(c,"max",(function(){return Zr})),r.d(c,"round",(function(){return Qr})),r.d(c,"scale",(function(){return Jr})),r.d(c,"scaleAndAdd",(function(){return Kr})),r.d(c,"distance",(function(){return $r})),r.d(c,"squaredDistance",(function(){return en})),r.d(c,"length",(function(){return tn})),r.d(c,"squaredLength",(function(){return rn})),r.d(c,"negate",(function(){return nn})),r.d(c,"inverse",(function(){return an})),r.d(c,"normalize",(function(){return on})),r.d(c,"dot",(function(){return sn})),r.d(c,"cross",(function(){return un})),r.d(c,"lerp",(function(){return cn})),r.d(c,"random",(function(){return fn})),r.d(c,"transformMat4",(function(){return _n})),r.d(c,"transformQuat",(function(){return dn})),r.d(c,"zero",(function(){return ln})),r.d(c,"str",(function(){return hn})),r.d(c,"exactEquals",(function(){return mn})),r.d(c,"equals",(function(){return pn})),r.d(c,"sub",(function(){return bn})),r.d(c,"mul",(function(){return vn})),r.d(c,"div",(function(){return gn})),r.d(c,"dist",(function(){return Mn})),r.d(c,"sqrDist",(function(){return yn})),r.d(c,"len",(function(){return wn})),r.d(c,"sqrLen",(function(){return xn})),r.d(c,"forEach",(function(){return En}));var f={};r.r(f),r.d(f,"create",(function(){return An})),r.d(f,"identity",(function(){return kn})),r.d(f,"setAxisAngle",(function(){return Tn})),r.d(f,"getAxisAngle",(function(){return zn})),r.d(f,"getAngle",(function(){return Fn})),r.d(f,"multiply",(function(){return Rn})),r.d(f,"rotateX",(function(){return Pn})),r.d(f,"rotateY",(function(){return Sn})),r.d(f,"rotateZ",(function(){return On})),r.d(f,"calculateW",(function(){return Ln})),r.d(f,"exp",(function(){return Dn})),r.d(f,"ln",(function(){return Cn})),r.d(f,"pow",(function(){return In})),r.d(f,"slerp",(function(){return Un})),r.d(f,"random",(function(){return Bn})),r.d(f,"invert",(function(){return qn})),r.d(f,"conjugate",(function(){return jn})),r.d(f,"fromMat3",(function(){return Vn})),r.d(f,"fromEuler",(function(){return Nn})),r.d(f,"str",(function(){return Gn})),r.d(f,"clone",(function(){return Jn})),r.d(f,"fromValues",(function(){return Kn})),r.d(f,"copy",(function(){return $n})),r.d(f,"set",(function(){return ea})),r.d(f,"add",(function(){return ta})),r.d(f,"mul",(function(){return ra})),r.d(f,"scale",(function(){return na})),r.d(f,"dot",(function(){return aa})),r.d(f,"lerp",(function(){return ia})),r.d(f,"length",(function(){return oa})),r.d(f,"len",(function(){return sa})),r.d(f,"squaredLength",(function(){return ua})),r.d(f,"sqrLen",(function(){return ca})),r.d(f,"normalize",(function(){return fa})),r.d(f,"exactEquals",(function(){return _a})),r.d(f,"equals",(function(){return da})),r.d(f,"rotationTo",(function(){return la})),r.d(f,"sqlerp",(function(){return ha})),r.d(f,"setAxes",(function(){return ma}));var _={};r.r(_),r.d(_,"create",(function(){return pa})),r.d(_,"clone",(function(){return ba})),r.d(_,"fromValues",(function(){return va})),r.d(_,"fromRotationTranslationValues",(function(){return ga})),r.d(_,"fromRotationTranslation",(function(){return Ma})),r.d(_,"fromTranslation",(function(){return ya})),r.d(_,"fromRotation",(function(){return wa})),r.d(_,"fromMat4",(function(){return xa})),r.d(_,"copy",(function(){return Ea})),r.d(_,"identity",(function(){return Aa})),r.d(_,"set",(function(){return ka})),r.d(_,"getReal",(function(){return Ta})),r.d(_,"getDual",(function(){return za})),r.d(_,"setReal",(function(){return Fa})),r.d(_,"setDual",(function(){return Ra})),r.d(_,"getTranslation",(function(){return Pa})),r.d(_,"translate",(function(){return Sa})),r.d(_,"rotateX",(function(){return Oa})),r.d(_,"rotateY",(function(){return La})),r.d(_,"rotateZ",(function(){return Da})),r.d(_,"rotateByQuatAppend",(function(){return Ca})),r.d(_,"rotateByQuatPrepend",(function(){return Ia})),r.d(_,"rotateAroundAxis",(function(){return Ua})),r.d(_,"add",(function(){return Ba})),r.d(_,"multiply",(function(){return qa})),r.d(_,"mul",(function(){return ja})),r.d(_,"scale",(function(){return Va})),r.d(_,"dot",(function(){return Na})),r.d(_,"lerp",(function(){return Ga})),r.d(_,"invert",(function(){return Ha})),r.d(_,"conjugate",(function(){return Wa})),r.d(_,"length",(function(){return Ya})),r.d(_,"len",(function(){return Xa})),r.d(_,"squaredLength",(function(){return Za})),r.d(_,"sqrLen",(function(){return Qa})),r.d(_,"normalize",(function(){return Ja})),r.d(_,"str",(function(){return Ka})),r.d(_,"exactEquals",(function(){return $a})),r.d(_,"equals",(function(){return ei}));var d={};r.r(d),r.d(d,"create",(function(){return ti})),r.d(d,"clone",(function(){return ri})),r.d(d,"fromValues",(function(){return ni})),r.d(d,"copy",(function(){return ai})),r.d(d,"set",(function(){return ii})),r.d(d,"add",(function(){return oi})),r.d(d,"subtract",(function(){return si})),r.d(d,"multiply",(function(){return ui})),r.d(d,"divide",(function(){return ci})),r.d(d,"ceil",(function(){return fi})),r.d(d,"floor",(function(){return _i})),r.d(d,"min",(function(){return di})),r.d(d,"max",(function(){return li})),r.d(d,"round",(function(){return hi})),r.d(d,"scale",(function(){return mi})),r.d(d,"scaleAndAdd",(function(){return pi})),r.d(d,"distance",(function(){return bi})),r.d(d,"squaredDistance",(function(){return vi})),r.d(d,"length",(function(){return gi})),r.d(d,"squaredLength",(function(){return Mi})),r.d(d,"negate",(function(){return yi})),r.d(d,"inverse",(function(){return wi})),r.d(d,"normalize",(function(){return xi})),r.d(d,"dot",(function(){return Ei})),r.d(d,"cross",(function(){return Ai})),r.d(d,"lerp",(function(){return ki})),r.d(d,"random",(function(){return Ti})),r.d(d,"transformMat2",(function(){return zi})),r.d(d,"transformMat2d",(function(){return Fi})),r.d(d,"transformMat3",(function(){return Ri})),r.d(d,"transformMat4",(function(){return Pi})),r.d(d,"rotate",(function(){return Si})),r.d(d,"angle",(function(){return Oi})),r.d(d,"zero",(function(){return Li})),r.d(d,"str",(function(){return Di})),r.d(d,"exactEquals",(function(){return Ci})),r.d(d,"equals",(function(){return Ii})),r.d(d,"len",(function(){return Ui})),r.d(d,"sub",(function(){return Bi})),r.d(d,"mul",(function(){return qi})),r.d(d,"div",(function(){return ji})),r.d(d,"dist",(function(){return Vi})),r.d(d,"sqrDist",(function(){return Ni})),r.d(d,"sqrLen",(function(){return Gi})),r.d(d,"forEach",(function(){return Hi}));var l=1e-6,h="undefined"!=typeof Float32Array?Float32Array:Array,m=Math.random;function p(e){h=e}var b=Math.PI/180;function v(e){return e*b}function g(e,t){return Math.abs(e-t)<=l*Math.max(1,Math.abs(e),Math.abs(t))}function M(){var e=new h(4);return h!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function y(e){var t=new h(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function w(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function x(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function E(e,t,r,n){var a=new h(4);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a}function A(e,t,r,n,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e}function k(e,t){if(e===t){var r=t[1];e[1]=t[2],e[2]=r}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function T(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*i-a*n;return o?(o=1/o,e[0]=i*o,e[1]=-n*o,e[2]=-a*o,e[3]=r*o,e):null}function z(e,t){var r=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=r,e}function F(e){return e[0]*e[3]-e[2]*e[1]}function R(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],u=r[1],c=r[2],f=r[3];return e[0]=n*s+i*u,e[1]=a*s+o*u,e[2]=n*c+i*f,e[3]=a*c+o*f,e}function P(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+i*s,e[1]=a*u+o*s,e[2]=n*-s+i*u,e[3]=a*-s+o*u,e}function S(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],u=r[1];return e[0]=n*s,e[1]=a*s,e[2]=i*u,e[3]=o*u,e}function O(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e}function L(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function D(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function C(e){return Math.hypot(e[0],e[1],e[2],e[3])}function I(e,t,r,n){return e[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-e[2]*r[1],[e,t,r]}function U(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function B(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function q(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function j(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=t[0],s=t[1],u=t[2],c=t[3];return Math.abs(r-o)<=l*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=l*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-u)<=l*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-c)<=l*Math.max(1,Math.abs(i),Math.abs(c))}function V(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function N(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var G=R,H=B;function W(){var e=new h(6);return h!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function Y(e){var t=new h(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function X(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Z(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Q(e,t,r,n,a,i){var o=new h(6);return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=a,o[5]=i,o}function J(e,t,r,n,a,i,o){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=i,e[5]=o,e}function K(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=r*i-n*a;return u?(u=1/u,e[0]=i*u,e[1]=-n*u,e[2]=-a*u,e[3]=r*u,e[4]=(a*s-i*o)*u,e[5]=(n*o-r*s)*u,e):null}function $(e){return e[0]*e[3]-e[1]*e[2]}function ee(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=r[0],f=r[1],_=r[2],d=r[3],l=r[4],h=r[5];return e[0]=n*c+i*f,e[1]=a*c+o*f,e[2]=n*_+i*d,e[3]=a*_+o*d,e[4]=n*l+i*h+s,e[5]=a*l+o*h+u,e}function te(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=Math.sin(r),f=Math.cos(r);return e[0]=n*f+i*c,e[1]=a*f+o*c,e[2]=n*-c+i*f,e[3]=a*-c+o*f,e[4]=s,e[5]=u,e}function re(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=r[0],f=r[1];return e[0]=n*c,e[1]=a*c,e[2]=i*f,e[3]=o*f,e[4]=s,e[5]=u,e}function ne(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=r[0],f=r[1];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=n*c+i*f+s,e[5]=a*c+o*f+u,e}function ae(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function ie(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function oe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function se(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function ue(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)}function ce(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function fe(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function _e(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function de(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e}function le(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function he(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=t[0],c=t[1],f=t[2],_=t[3],d=t[4],h=t[5];return Math.abs(r-u)<=l*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-c)<=l*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-f)<=l*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(i-_)<=l*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-d)<=l*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-h)<=l*Math.max(1,Math.abs(s),Math.abs(h))}var me=ee,pe=fe;function be(){var e=new h(9);return h!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function ve(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function ge(e){var t=new h(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Me(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function ye(e,t,r,n,a,i,o,s,u){var c=new h(9);return c[0]=e,c[1]=t,c[2]=r,c[3]=n,c[4]=a,c[5]=i,c[6]=o,c[7]=s,c[8]=u,c}function we(e,t,r,n,a,i,o,s,u,c){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=u,e[8]=c,e}function xe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Ee(e,t){if(e===t){var r=t[1],n=t[2],a=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=a}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function Ae(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],f=t[8],_=f*o-s*c,d=-f*i+s*u,l=c*i-o*u,h=r*_+n*d+a*l;return h?(h=1/h,e[0]=_*h,e[1]=(-f*n+a*c)*h,e[2]=(s*n-a*o)*h,e[3]=d*h,e[4]=(f*r-a*u)*h,e[5]=(-s*r+a*i)*h,e[6]=l*h,e[7]=(-c*r+n*u)*h,e[8]=(o*r-n*i)*h,e):null}function ke(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],f=t[8];return e[0]=o*f-s*c,e[1]=a*c-n*f,e[2]=n*s-a*o,e[3]=s*u-i*f,e[4]=r*f-a*u,e[5]=a*i-r*s,e[6]=i*c-o*u,e[7]=n*u-r*c,e[8]=r*o-n*i,e}function Te(e){var t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],c=e[8];return t*(c*i-o*u)+r*(-c*a+o*s)+n*(u*a-i*s)}function ze(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=t[8],d=r[0],l=r[1],h=r[2],m=r[3],p=r[4],b=r[5],v=r[6],g=r[7],M=r[8];return e[0]=d*n+l*o+h*c,e[1]=d*a+l*s+h*f,e[2]=d*i+l*u+h*_,e[3]=m*n+p*o+b*c,e[4]=m*a+p*s+b*f,e[5]=m*i+p*u+b*_,e[6]=v*n+g*o+M*c,e[7]=v*a+g*s+M*f,e[8]=v*i+g*u+M*_,e}function Fe(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=t[8],d=r[0],l=r[1];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=u,e[6]=d*n+l*o+c,e[7]=d*a+l*s+f,e[8]=d*i+l*u+_,e}function Re(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=t[8],d=Math.sin(r),l=Math.cos(r);return e[0]=l*n+d*o,e[1]=l*a+d*s,e[2]=l*i+d*u,e[3]=l*o-d*n,e[4]=l*s-d*a,e[5]=l*u-d*i,e[6]=c,e[7]=f,e[8]=_,e}function Pe(e,t,r){var n=r[0],a=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Se(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function Oe(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Le(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function De(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Ce(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r+r,s=n+n,u=a+a,c=r*o,f=n*o,_=n*s,d=a*o,l=a*s,h=a*u,m=i*o,p=i*s,b=i*u;return e[0]=1-_-h,e[3]=f-b,e[6]=d+p,e[1]=f+b,e[4]=1-c-h,e[7]=l-m,e[2]=d-p,e[5]=l+m,e[8]=1-c-_,e}function Ie(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],f=t[8],_=t[9],d=t[10],l=t[11],h=t[12],m=t[13],p=t[14],b=t[15],v=r*s-n*o,g=r*u-a*o,M=r*c-i*o,y=n*u-a*s,w=n*c-i*s,x=a*c-i*u,E=f*m-_*h,A=f*p-d*h,k=f*b-l*h,T=_*p-d*m,z=_*b-l*m,F=d*b-l*p,R=v*F-g*z+M*T+y*k-w*A+x*E;return R?(R=1/R,e[0]=(s*F-u*z+c*T)*R,e[1]=(u*k-o*F-c*A)*R,e[2]=(o*z-s*k+c*E)*R,e[3]=(a*z-n*F-i*T)*R,e[4]=(r*F-a*k+i*A)*R,e[5]=(n*k-r*z-i*E)*R,e[6]=(m*x-p*w+b*y)*R,e[7]=(p*M-h*x-b*g)*R,e[8]=(h*w-m*M+b*v)*R,e):null}function Ue(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Be(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function qe(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function je(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function Ve(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function Ne(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function Ge(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function He(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function We(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],f=e[8],_=t[0],d=t[1],h=t[2],m=t[3],p=t[4],b=t[5],v=t[6],g=t[7],M=t[8];return Math.abs(r-_)<=l*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(n-d)<=l*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(a-h)<=l*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(i-m)<=l*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(o-p)<=l*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-b)<=l*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(u-v)<=l*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(c-g)<=l*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(f-M)<=l*Math.max(1,Math.abs(f),Math.abs(M))}var Ye=ze,Xe=Ve;function Ze(){var e=new h(16);return h!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Qe(e){var t=new h(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Je(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ke(e,t,r,n,a,i,o,s,u,c,f,_,d,l,m,p){var b=new h(16);return b[0]=e,b[1]=t,b[2]=r,b[3]=n,b[4]=a,b[5]=i,b[6]=o,b[7]=s,b[8]=u,b[9]=c,b[10]=f,b[11]=_,b[12]=d,b[13]=l,b[14]=m,b[15]=p,b}function $e(e,t,r,n,a,i,o,s,u,c,f,_,d,l,h,m,p){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=u,e[8]=c,e[9]=f,e[10]=_,e[11]=d,e[12]=l,e[13]=h,e[14]=m,e[15]=p,e}function et(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function tt(e,t){if(e===t){var r=t[1],n=t[2],a=t[3],i=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=i,e[11]=t[14],e[12]=a,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function rt(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],f=t[8],_=t[9],d=t[10],l=t[11],h=t[12],m=t[13],p=t[14],b=t[15],v=r*s-n*o,g=r*u-a*o,M=r*c-i*o,y=n*u-a*s,w=n*c-i*s,x=a*c-i*u,E=f*m-_*h,A=f*p-d*h,k=f*b-l*h,T=_*p-d*m,z=_*b-l*m,F=d*b-l*p,R=v*F-g*z+M*T+y*k-w*A+x*E;return R?(R=1/R,e[0]=(s*F-u*z+c*T)*R,e[1]=(a*z-n*F-i*T)*R,e[2]=(m*x-p*w+b*y)*R,e[3]=(d*w-_*x-l*y)*R,e[4]=(u*k-o*F-c*A)*R,e[5]=(r*F-a*k+i*A)*R,e[6]=(p*M-h*x-b*g)*R,e[7]=(f*x-d*M+l*g)*R,e[8]=(o*z-s*k+c*E)*R,e[9]=(n*k-r*z-i*E)*R,e[10]=(h*w-m*M+b*v)*R,e[11]=(_*M-f*w-l*v)*R,e[12]=(s*A-o*T-u*E)*R,e[13]=(r*T-n*A+a*E)*R,e[14]=(m*g-h*y-p*v)*R,e[15]=(f*y-_*g+d*v)*R,e):null}function nt(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],f=t[8],_=t[9],d=t[10],l=t[11],h=t[12],m=t[13],p=t[14],b=t[15];return e[0]=s*(d*b-l*p)-_*(u*b-c*p)+m*(u*l-c*d),e[1]=-(n*(d*b-l*p)-_*(a*b-i*p)+m*(a*l-i*d)),e[2]=n*(u*b-c*p)-s*(a*b-i*p)+m*(a*c-i*u),e[3]=-(n*(u*l-c*d)-s*(a*l-i*d)+_*(a*c-i*u)),e[4]=-(o*(d*b-l*p)-f*(u*b-c*p)+h*(u*l-c*d)),e[5]=r*(d*b-l*p)-f*(a*b-i*p)+h*(a*l-i*d),e[6]=-(r*(u*b-c*p)-o*(a*b-i*p)+h*(a*c-i*u)),e[7]=r*(u*l-c*d)-o*(a*l-i*d)+f*(a*c-i*u),e[8]=o*(_*b-l*m)-f*(s*b-c*m)+h*(s*l-c*_),e[9]=-(r*(_*b-l*m)-f*(n*b-i*m)+h*(n*l-i*_)),e[10]=r*(s*b-c*m)-o*(n*b-i*m)+h*(n*c-i*s),e[11]=-(r*(s*l-c*_)-o*(n*l-i*_)+f*(n*c-i*s)),e[12]=-(o*(_*p-d*m)-f*(s*p-u*m)+h*(s*d-u*_)),e[13]=r*(_*p-d*m)-f*(n*p-a*m)+h*(n*d-a*_),e[14]=-(r*(s*p-u*m)-o*(n*p-a*m)+h*(n*u-a*s)),e[15]=r*(s*d-u*_)-o*(n*d-a*_)+f*(n*u-a*s),e}function at(e){var t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],c=e[8],f=e[9],_=e[10],d=e[11],l=e[12],h=e[13],m=e[14],p=e[15];return(t*o-r*i)*(_*p-d*m)-(t*s-n*i)*(f*p-d*h)+(t*u-a*i)*(f*m-_*h)+(r*s-n*o)*(c*p-d*l)-(r*u-a*o)*(c*m-_*l)+(n*u-a*s)*(c*h-f*l)}function it(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=t[8],d=t[9],l=t[10],h=t[11],m=t[12],p=t[13],b=t[14],v=t[15],g=r[0],M=r[1],y=r[2],w=r[3];return e[0]=g*n+M*s+y*_+w*m,e[1]=g*a+M*u+y*d+w*p,e[2]=g*i+M*c+y*l+w*b,e[3]=g*o+M*f+y*h+w*v,g=r[4],M=r[5],y=r[6],w=r[7],e[4]=g*n+M*s+y*_+w*m,e[5]=g*a+M*u+y*d+w*p,e[6]=g*i+M*c+y*l+w*b,e[7]=g*o+M*f+y*h+w*v,g=r[8],M=r[9],y=r[10],w=r[11],e[8]=g*n+M*s+y*_+w*m,e[9]=g*a+M*u+y*d+w*p,e[10]=g*i+M*c+y*l+w*b,e[11]=g*o+M*f+y*h+w*v,g=r[12],M=r[13],y=r[14],w=r[15],e[12]=g*n+M*s+y*_+w*m,e[13]=g*a+M*u+y*d+w*p,e[14]=g*i+M*c+y*l+w*b,e[15]=g*o+M*f+y*h+w*v,e}function ot(e,t,r){var n,a,i,o,s,u,c,f,_,d,l,h,m=r[0],p=r[1],b=r[2];return t===e?(e[12]=t[0]*m+t[4]*p+t[8]*b+t[12],e[13]=t[1]*m+t[5]*p+t[9]*b+t[13],e[14]=t[2]*m+t[6]*p+t[10]*b+t[14],e[15]=t[3]*m+t[7]*p+t[11]*b+t[15]):(n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=t[8],d=t[9],l=t[10],h=t[11],e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=u,e[6]=c,e[7]=f,e[8]=_,e[9]=d,e[10]=l,e[11]=h,e[12]=n*m+s*p+_*b+t[12],e[13]=a*m+u*p+d*b+t[13],e[14]=i*m+c*p+l*b+t[14],e[15]=o*m+f*p+h*b+t[15]),e}function st(e,t,r){var n=r[0],a=r[1],i=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ut(e,t,r,n){var a,i,o,s,u,c,f,_,d,h,m,p,b,v,g,M,y,w,x,E,A,k,T,z,F=n[0],R=n[1],P=n[2],S=Math.hypot(F,R,P);return S<l?null:(F*=S=1/S,R*=S,P*=S,a=Math.sin(r),o=1-(i=Math.cos(r)),s=t[0],u=t[1],c=t[2],f=t[3],_=t[4],d=t[5],h=t[6],m=t[7],p=t[8],b=t[9],v=t[10],g=t[11],M=F*F*o+i,y=R*F*o+P*a,w=P*F*o-R*a,x=F*R*o-P*a,E=R*R*o+i,A=P*R*o+F*a,k=F*P*o+R*a,T=R*P*o-F*a,z=P*P*o+i,e[0]=s*M+_*y+p*w,e[1]=u*M+d*y+b*w,e[2]=c*M+h*y+v*w,e[3]=f*M+m*y+g*w,e[4]=s*x+_*E+p*A,e[5]=u*x+d*E+b*A,e[6]=c*x+h*E+v*A,e[7]=f*x+m*E+g*A,e[8]=s*k+_*T+p*z,e[9]=u*k+d*T+b*z,e[10]=c*k+h*T+v*z,e[11]=f*k+m*T+g*z,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function ct(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[4],o=t[5],s=t[6],u=t[7],c=t[8],f=t[9],_=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+c*n,e[5]=o*a+f*n,e[6]=s*a+_*n,e[7]=u*a+d*n,e[8]=c*a-i*n,e[9]=f*a-o*n,e[10]=_*a-s*n,e[11]=d*a-u*n,e}function ft(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[0],o=t[1],s=t[2],u=t[3],c=t[8],f=t[9],_=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a-c*n,e[1]=o*a-f*n,e[2]=s*a-_*n,e[3]=u*a-d*n,e[8]=i*n+c*a,e[9]=o*n+f*a,e[10]=s*n+_*a,e[11]=u*n+d*a,e}function _t(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[0],o=t[1],s=t[2],u=t[3],c=t[4],f=t[5],_=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+c*n,e[1]=o*a+f*n,e[2]=s*a+_*n,e[3]=u*a+d*n,e[4]=c*a-i*n,e[5]=f*a-o*n,e[6]=_*a-s*n,e[7]=d*a-u*n,e}function dt(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function lt(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ht(e,t,r){var n,a,i,o=r[0],s=r[1],u=r[2],c=Math.hypot(o,s,u);return c<l?null:(o*=c=1/c,s*=c,u*=c,n=Math.sin(t),i=1-(a=Math.cos(t)),e[0]=o*o*i+a,e[1]=s*o*i+u*n,e[2]=u*o*i-s*n,e[3]=0,e[4]=o*s*i-u*n,e[5]=s*s*i+a,e[6]=u*s*i+o*n,e[7]=0,e[8]=o*u*i+s*n,e[9]=s*u*i-o*n,e[10]=u*u*i+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function mt(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function pt(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function bt(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vt(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=n+n,u=a+a,c=i+i,f=n*s,_=n*u,d=n*c,l=a*u,h=a*c,m=i*c,p=o*s,b=o*u,v=o*c;return e[0]=1-(l+m),e[1]=_+v,e[2]=d-b,e[3]=0,e[4]=_-v,e[5]=1-(f+m),e[6]=h+p,e[7]=0,e[8]=d+b,e[9]=h-p,e[10]=1-(f+l),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function gt(e,t){var r=new h(3),n=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=n*n+a*a+i*i+o*o;return _>0?(r[0]=2*(s*o+f*n+u*i-c*a)/_,r[1]=2*(u*o+f*a+c*n-s*i)/_,r[2]=2*(c*o+f*i+s*a-u*n)/_):(r[0]=2*(s*o+f*n+u*i-c*a),r[1]=2*(u*o+f*a+c*n-s*i),r[2]=2*(c*o+f*i+s*a-u*n)),vt(e,t,r),e}function Mt(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function yt(e,t){var r=t[0],n=t[1],a=t[2],i=t[4],o=t[5],s=t[6],u=t[8],c=t[9],f=t[10];return e[0]=Math.hypot(r,n,a),e[1]=Math.hypot(i,o,s),e[2]=Math.hypot(u,c,f),e}function wt(e,t){var r=new h(3);yt(r,t);var n=1/r[0],a=1/r[1],i=1/r[2],o=t[0]*n,s=t[1]*a,u=t[2]*i,c=t[4]*n,f=t[5]*a,_=t[6]*i,d=t[8]*n,l=t[9]*a,m=t[10]*i,p=o+f+m,b=0;return p>0?(b=2*Math.sqrt(p+1),e[3]=.25*b,e[0]=(_-l)/b,e[1]=(d-u)/b,e[2]=(s-c)/b):o>f&&o>m?(b=2*Math.sqrt(1+o-f-m),e[3]=(_-l)/b,e[0]=.25*b,e[1]=(s+c)/b,e[2]=(d+u)/b):f>m?(b=2*Math.sqrt(1+f-o-m),e[3]=(d-u)/b,e[0]=(s+c)/b,e[1]=.25*b,e[2]=(_+l)/b):(b=2*Math.sqrt(1+m-o-f),e[3]=(s-c)/b,e[0]=(d+u)/b,e[1]=(_+l)/b,e[2]=.25*b),e}function xt(e,t,r,n){var a=t[0],i=t[1],o=t[2],s=t[3],u=a+a,c=i+i,f=o+o,_=a*u,d=a*c,l=a*f,h=i*c,m=i*f,p=o*f,b=s*u,v=s*c,g=s*f,M=n[0],y=n[1],w=n[2];return e[0]=(1-(h+p))*M,e[1]=(d+g)*M,e[2]=(l-v)*M,e[3]=0,e[4]=(d-g)*y,e[5]=(1-(_+p))*y,e[6]=(m+b)*y,e[7]=0,e[8]=(l+v)*w,e[9]=(m-b)*w,e[10]=(1-(_+h))*w,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function Et(e,t,r,n,a){var i=t[0],o=t[1],s=t[2],u=t[3],c=i+i,f=o+o,_=s+s,d=i*c,l=i*f,h=i*_,m=o*f,p=o*_,b=s*_,v=u*c,g=u*f,M=u*_,y=n[0],w=n[1],x=n[2],E=a[0],A=a[1],k=a[2],T=(1-(m+b))*y,z=(l+M)*y,F=(h-g)*y,R=(l-M)*w,P=(1-(d+b))*w,S=(p+v)*w,O=(h+g)*x,L=(p-v)*x,D=(1-(d+m))*x;return e[0]=T,e[1]=z,e[2]=F,e[3]=0,e[4]=R,e[5]=P,e[6]=S,e[7]=0,e[8]=O,e[9]=L,e[10]=D,e[11]=0,e[12]=r[0]+E-(T*E+R*A+O*k),e[13]=r[1]+A-(z*E+P*A+L*k),e[14]=r[2]+k-(F*E+S*A+D*k),e[15]=1,e}function At(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r+r,s=n+n,u=a+a,c=r*o,f=n*o,_=n*s,d=a*o,l=a*s,h=a*u,m=i*o,p=i*s,b=i*u;return e[0]=1-_-h,e[1]=f+b,e[2]=d-p,e[3]=0,e[4]=f-b,e[5]=1-c-h,e[6]=l+m,e[7]=0,e[8]=d+p,e[9]=l-m,e[10]=1-c-_,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function kt(e,t,r,n,a,i,o){var s=1/(r-t),u=1/(a-n),c=1/(i-o);return e[0]=2*i*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*u,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(a+n)*u,e[10]=(o+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*c,e[15]=0,e}function Tt(e,t,r,n,a){var i,o=1/Math.tan(t/2);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=a&&a!==1/0?(i=1/(n-a),e[10]=(a+n)*i,e[14]=2*a*n*i):(e[10]=-1,e[14]=-2*n),e}function zt(e,t,r,n){var a=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(o+s),c=2/(a+i);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(o-s)*u*.5,e[9]=(a-i)*c*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function Ft(e,t,r,n,a,i,o){var s=1/(t-r),u=1/(n-a),c=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*s,e[13]=(a+n)*u,e[14]=(o+i)*c,e[15]=1,e}function Rt(e,t,r,n){var a,i,o,s,u,c,f,_,d,h,m=t[0],p=t[1],b=t[2],v=n[0],g=n[1],M=n[2],y=r[0],w=r[1],x=r[2];return Math.abs(m-y)<l&&Math.abs(p-w)<l&&Math.abs(b-x)<l?et(e):(f=m-y,_=p-w,d=b-x,a=g*(d*=h=1/Math.hypot(f,_,d))-M*(_*=h),i=M*(f*=h)-v*d,o=v*_-g*f,(h=Math.hypot(a,i,o))?(a*=h=1/h,i*=h,o*=h):(a=0,i=0,o=0),s=_*o-d*i,u=d*a-f*o,c=f*i-_*a,(h=Math.hypot(s,u,c))?(s*=h=1/h,u*=h,c*=h):(s=0,u=0,c=0),e[0]=a,e[1]=s,e[2]=f,e[3]=0,e[4]=i,e[5]=u,e[6]=_,e[7]=0,e[8]=o,e[9]=c,e[10]=d,e[11]=0,e[12]=-(a*m+i*p+o*b),e[13]=-(s*m+u*p+c*b),e[14]=-(f*m+_*p+d*b),e[15]=1,e)}function Pt(e,t,r,n){var a=t[0],i=t[1],o=t[2],s=n[0],u=n[1],c=n[2],f=a-r[0],_=i-r[1],d=o-r[2],l=f*f+_*_+d*d;l>0&&(f*=l=1/Math.sqrt(l),_*=l,d*=l);var h=u*d-c*_,m=c*f-s*d,p=s*_-u*f;return(l=h*h+m*m+p*p)>0&&(h*=l=1/Math.sqrt(l),m*=l,p*=l),e[0]=h,e[1]=m,e[2]=p,e[3]=0,e[4]=_*p-d*m,e[5]=d*h-f*p,e[6]=f*m-_*h,e[7]=0,e[8]=f,e[9]=_,e[10]=d,e[11]=0,e[12]=a,e[13]=i,e[14]=o,e[15]=1,e}function St(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Ot(e){return Math.hypot(e[0],e[1],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function Lt(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function Dt(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function Ct(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function It(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function Ut(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Bt(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],f=e[8],_=e[9],d=e[10],h=e[11],m=e[12],p=e[13],b=e[14],v=e[15],g=t[0],M=t[1],y=t[2],w=t[3],x=t[4],E=t[5],A=t[6],k=t[7],T=t[8],z=t[9],F=t[10],R=t[11],P=t[12],S=t[13],O=t[14],L=t[15];return Math.abs(r-g)<=l*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(n-M)<=l*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(a-y)<=l*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(i-w)<=l*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-x)<=l*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(s-E)<=l*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-A)<=l*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(c-k)<=l*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(f-T)<=l*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(_-z)<=l*Math.max(1,Math.abs(_),Math.abs(z))&&Math.abs(d-F)<=l*Math.max(1,Math.abs(d),Math.abs(F))&&Math.abs(h-R)<=l*Math.max(1,Math.abs(h),Math.abs(R))&&Math.abs(m-P)<=l*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(p-S)<=l*Math.max(1,Math.abs(p),Math.abs(S))&&Math.abs(b-O)<=l*Math.max(1,Math.abs(b),Math.abs(O))&&Math.abs(v-L)<=l*Math.max(1,Math.abs(v),Math.abs(L))}var qt=it,jt=Dt;function Vt(){var e=new h(3);return h!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Nt(e){var t=new h(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Gt(e){var t=e[0],r=e[1],n=e[2];return Math.hypot(t,r,n)}function Ht(e,t,r){var n=new h(3);return n[0]=e,n[1]=t,n[2]=r,n}function Wt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Yt(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function Xt(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function Zt(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function Qt(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function Jt(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function Kt(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function $t(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function er(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function tr(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function rr(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function nr(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function ar(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function ir(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return Math.hypot(r,n,a)}function or(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return r*r+n*n+a*a}function sr(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function ur(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function cr(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function fr(e,t){var r=t[0],n=t[1],a=t[2],i=r*r+n*n+a*a;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function _r(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function dr(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[0],s=r[1],u=r[2];return e[0]=a*u-i*s,e[1]=i*o-n*u,e[2]=n*s-a*o,e}function lr(e,t,r,n){var a=t[0],i=t[1],o=t[2];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e[2]=o+n*(r[2]-o),e}function hr(e,t,r,n,a,i){var o=i*i,s=o*(2*i-3)+1,u=o*(i-2)+i,c=o*(i-1),f=o*(3-2*i);return e[0]=t[0]*s+r[0]*u+n[0]*c+a[0]*f,e[1]=t[1]*s+r[1]*u+n[1]*c+a[1]*f,e[2]=t[2]*s+r[2]*u+n[2]*c+a[2]*f,e}function mr(e,t,r,n,a,i){var o=1-i,s=o*o,u=i*i,c=s*o,f=3*i*s,_=3*u*o,d=u*i;return e[0]=t[0]*c+r[0]*f+n[0]*_+a[0]*d,e[1]=t[1]*c+r[1]*f+n[1]*_+a[1]*d,e[2]=t[2]*c+r[2]*f+n[2]*_+a[2]*d,e}function pr(e,t){t=t||1;var r=2*m()*Math.PI,n=2*m()-1,a=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*a,e[1]=Math.sin(r)*a,e[2]=n*t,e}function br(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[3]*n+r[7]*a+r[11]*i+r[15];return o=o||1,e[0]=(r[0]*n+r[4]*a+r[8]*i+r[12])/o,e[1]=(r[1]*n+r[5]*a+r[9]*i+r[13])/o,e[2]=(r[2]*n+r[6]*a+r[10]*i+r[14])/o,e}function vr(e,t,r){var n=t[0],a=t[1],i=t[2];return e[0]=n*r[0]+a*r[3]+i*r[6],e[1]=n*r[1]+a*r[4]+i*r[7],e[2]=n*r[2]+a*r[5]+i*r[8],e}function gr(e,t,r){var n=r[0],a=r[1],i=r[2],o=r[3],s=t[0],u=t[1],c=t[2],f=a*c-i*u,_=i*s-n*c,d=n*u-a*s,l=a*d-i*_,h=i*f-n*d,m=n*_-a*f,p=2*o;return f*=p,_*=p,d*=p,l*=2,h*=2,m*=2,e[0]=s+f+l,e[1]=u+_+h,e[2]=c+d+m,e}function Mr(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[0],i[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),i[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e}function yr(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),i[1]=a[1],i[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e}function wr(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),i[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),i[2]=a[2],e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e}function xr(e,t){var r=Ht(e[0],e[1],e[2]),n=Ht(t[0],t[1],t[2]);fr(r,r),fr(n,n);var a=_r(r,n);return a>1?0:a<-1?Math.PI:Math.acos(a)}function Er(e){return e[0]=0,e[1]=0,e[2]=0,e}function Ar(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function kr(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Tr(e,t){var r=e[0],n=e[1],a=e[2],i=t[0],o=t[1],s=t[2];return Math.abs(r-i)<=l*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-o)<=l*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-s)<=l*Math.max(1,Math.abs(a),Math.abs(s))}var zr,Fr=Zt,Rr=Qt,Pr=Jt,Sr=ir,Or=or,Lr=Gt,Dr=sr,Cr=(zr=Vt(),function(e,t,r,n,a,i){var o,s;for(t||(t=3),r||(r=0),s=n?Math.min(n*t+r,e.length):e.length,o=r;o<s;o+=t)zr[0]=e[o],zr[1]=e[o+1],zr[2]=e[o+2],a(zr,zr,i),e[o]=zr[0],e[o+1]=zr[1],e[o+2]=zr[2];return e});function Ir(){var e=new h(4);return h!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Ur(e){var t=new h(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Br(e,t,r,n){var a=new h(4);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a}function qr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function jr(e,t,r,n,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e}function Vr(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function Nr(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function Gr(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function Hr(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function Wr(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Yr(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function Xr(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function Zr(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function Qr(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function Jr(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function Kr(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function $r(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return Math.hypot(r,n,a,i)}function en(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return r*r+n*n+a*a+i*i}function tn(e){var t=e[0],r=e[1],n=e[2],a=e[3];return Math.hypot(t,r,n,a)}function rn(e){var t=e[0],r=e[1],n=e[2],a=e[3];return t*t+r*r+n*n+a*a}function nn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function an(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function on(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*r+n*n+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=r*o,e[1]=n*o,e[2]=a*o,e[3]=i*o,e}function sn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function un(e,t,r,n){var a=r[0]*n[1]-r[1]*n[0],i=r[0]*n[2]-r[2]*n[0],o=r[0]*n[3]-r[3]*n[0],s=r[1]*n[2]-r[2]*n[1],u=r[1]*n[3]-r[3]*n[1],c=r[2]*n[3]-r[3]*n[2],f=t[0],_=t[1],d=t[2],l=t[3];return e[0]=_*c-d*u+l*s,e[1]=-f*c+d*o-l*i,e[2]=f*u-_*o+l*a,e[3]=-f*s+_*i-d*a,e}function cn(e,t,r,n){var a=t[0],i=t[1],o=t[2],s=t[3];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e[2]=o+n*(r[2]-o),e[3]=s+n*(r[3]-s),e}function fn(e,t){var r,n,a,i,o,s;t=t||1;do{o=(r=2*m()-1)*r+(n=2*m()-1)*n}while(o>=1);do{s=(a=2*m()-1)*a+(i=2*m()-1)*i}while(s>=1);var u=Math.sqrt((1-o)/s);return e[0]=t*r,e[1]=t*n,e[2]=t*a*u,e[3]=t*i*u,e}function _n(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3];return e[0]=r[0]*n+r[4]*a+r[8]*i+r[12]*o,e[1]=r[1]*n+r[5]*a+r[9]*i+r[13]*o,e[2]=r[2]*n+r[6]*a+r[10]*i+r[14]*o,e[3]=r[3]*n+r[7]*a+r[11]*i+r[15]*o,e}function dn(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[0],s=r[1],u=r[2],c=r[3],f=c*n+s*i-u*a,_=c*a+u*n-o*i,d=c*i+o*a-s*n,l=-o*n-s*a-u*i;return e[0]=f*c+l*-o+_*-u-d*-s,e[1]=_*c+l*-s+d*-o-f*-u,e[2]=d*c+l*-u+f*-s-_*-o,e[3]=t[3],e}function ln(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function hn(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function mn(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function pn(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=t[0],s=t[1],u=t[2],c=t[3];return Math.abs(r-o)<=l*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=l*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-u)<=l*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-c)<=l*Math.max(1,Math.abs(i),Math.abs(c))}var bn=Nr,vn=Gr,gn=Hr,Mn=$r,yn=en,wn=tn,xn=rn,En=function(){var e=Ir();return function(t,r,n,a,i,o){var s,u;for(r||(r=4),n||(n=0),u=a?Math.min(a*r+n,t.length):t.length,s=n;s<u;s+=r)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}();function An(){var e=new h(4);return h!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function kn(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Tn(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function zn(e,t){var r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>l?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function Fn(e,t){var r=aa(e,t);return Math.acos(2*r*r-1)}function Rn(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],u=r[1],c=r[2],f=r[3];return e[0]=n*f+o*s+a*c-i*u,e[1]=a*f+o*u+i*s-n*c,e[2]=i*f+o*c+n*u-a*s,e[3]=o*f-n*s-a*u-i*c,e}function Pn(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+o*s,e[1]=a*u+i*s,e[2]=i*u-a*s,e[3]=o*u-n*s,e}function Sn(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u-i*s,e[1]=a*u+o*s,e[2]=i*u+n*s,e[3]=o*u-a*s,e}function On(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+a*s,e[1]=a*u-n*s,e[2]=i*u+o*s,e[3]=o*u-i*s,e}function Ln(e,t){var r=t[0],n=t[1],a=t[2];return e[0]=r,e[1]=n,e[2]=a,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-a*a)),e}function Dn(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=Math.sqrt(r*r+n*n+a*a),s=Math.exp(i),u=o>0?s*Math.sin(o)/o:0;return e[0]=r*u,e[1]=n*u,e[2]=a*u,e[3]=s*Math.cos(o),e}function Cn(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=Math.sqrt(r*r+n*n+a*a),s=o>0?Math.atan2(o,i)/o:0;return e[0]=r*s,e[1]=n*s,e[2]=a*s,e[3]=.5*Math.log(r*r+n*n+a*a+i*i),e}function In(e,t,r){return Cn(e,t),na(e,e,r),Dn(e,e),e}function Un(e,t,r,n){var a,i,o,s,u,c=t[0],f=t[1],_=t[2],d=t[3],h=r[0],m=r[1],p=r[2],b=r[3];return(i=c*h+f*m+_*p+d*b)<0&&(i=-i,h=-h,m=-m,p=-p,b=-b),1-i>l?(a=Math.acos(i),o=Math.sin(a),s=Math.sin((1-n)*a)/o,u=Math.sin(n*a)/o):(s=1-n,u=n),e[0]=s*c+u*h,e[1]=s*f+u*m,e[2]=s*_+u*p,e[3]=s*d+u*b,e}function Bn(e){var t=m(),r=m(),n=m(),a=Math.sqrt(1-t),i=Math.sqrt(t);return e[0]=a*Math.sin(2*Math.PI*r),e[1]=a*Math.cos(2*Math.PI*r),e[2]=i*Math.sin(2*Math.PI*n),e[3]=i*Math.cos(2*Math.PI*n),e}function qn(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*r+n*n+a*a+i*i,s=o?1/o:0;return e[0]=-r*s,e[1]=-n*s,e[2]=-a*s,e[3]=i*s,e}function jn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function Vn(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[3*a+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;r=Math.sqrt(t[3*a+a]-t[3*i+i]-t[3*o+o]+1),e[a]=.5*r,r=.5/r,e[3]=(t[3*i+o]-t[3*o+i])*r,e[i]=(t[3*i+a]+t[3*a+i])*r,e[o]=(t[3*o+a]+t[3*a+o])*r}return e}function Nn(e,t,r,n){var a=.5*Math.PI/180;t*=a,r*=a,n*=a;var i=Math.sin(t),o=Math.cos(t),s=Math.sin(r),u=Math.cos(r),c=Math.sin(n),f=Math.cos(n);return e[0]=i*u*f-o*s*c,e[1]=o*s*f+i*u*c,e[2]=o*u*c-i*s*f,e[3]=o*u*f+i*s*c,e}function Gn(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var Hn,Wn,Yn,Xn,Zn,Qn,Jn=Ur,Kn=Br,$n=qr,ea=jr,ta=Vr,ra=Rn,na=Jr,aa=sn,ia=cn,oa=tn,sa=oa,ua=rn,ca=ua,fa=on,_a=mn,da=pn,la=(Hn=Vt(),Wn=Ht(1,0,0),Yn=Ht(0,1,0),function(e,t,r){var n=_r(t,r);return n<-.999999?(dr(Hn,Wn,t),Lr(Hn)<1e-6&&dr(Hn,Yn,t),fr(Hn,Hn),Tn(e,Hn,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(dr(Hn,t,r),e[0]=Hn[0],e[1]=Hn[1],e[2]=Hn[2],e[3]=1+n,fa(e,e))}),ha=(Xn=An(),Zn=An(),function(e,t,r,n,a,i){return Un(Xn,t,a,i),Un(Zn,r,n,i),Un(e,Xn,Zn,2*i*(1-i)),e}),ma=(Qn=be(),function(e,t,r,n){return Qn[0]=r[0],Qn[3]=r[1],Qn[6]=r[2],Qn[1]=n[0],Qn[4]=n[1],Qn[7]=n[2],Qn[2]=-t[0],Qn[5]=-t[1],Qn[8]=-t[2],fa(e,Vn(e,Qn))});function pa(){var e=new h(8);return h!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function ba(e){var t=new h(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function va(e,t,r,n,a,i,o,s){var u=new h(8);return u[0]=e,u[1]=t,u[2]=r,u[3]=n,u[4]=a,u[5]=i,u[6]=o,u[7]=s,u}function ga(e,t,r,n,a,i,o){var s=new h(8);s[0]=e,s[1]=t,s[2]=r,s[3]=n;var u=.5*a,c=.5*i,f=.5*o;return s[4]=u*n+c*r-f*t,s[5]=c*n+f*e-u*r,s[6]=f*n+u*t-c*e,s[7]=-u*e-c*t-f*r,s}function Ma(e,t,r){var n=.5*r[0],a=.5*r[1],i=.5*r[2],o=t[0],s=t[1],u=t[2],c=t[3];return e[0]=o,e[1]=s,e[2]=u,e[3]=c,e[4]=n*c+a*u-i*s,e[5]=a*c+i*o-n*u,e[6]=i*c+n*s-a*o,e[7]=-n*o-a*s-i*u,e}function ya(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function wa(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function xa(e,t){var r=An();wt(r,t);var n=new h(3);return Mt(n,t),Ma(e,r,n),e}function Ea(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function Aa(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function ka(e,t,r,n,a,i,o,s,u){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=u,e}var Ta=$n;function za(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var Fa=$n;function Ra(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function Pa(e,t){var r=t[4],n=t[5],a=t[6],i=t[7],o=-t[0],s=-t[1],u=-t[2],c=t[3];return e[0]=2*(r*c+i*o+n*u-a*s),e[1]=2*(n*c+i*s+a*o-r*u),e[2]=2*(a*c+i*u+r*s-n*o),e}function Sa(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=.5*r[0],u=.5*r[1],c=.5*r[2],f=t[4],_=t[5],d=t[6],l=t[7];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=o*s+a*c-i*u+f,e[5]=o*u+i*s-n*c+_,e[6]=o*c+n*u-a*s+d,e[7]=-n*s-a*u-i*c+l,e}function Oa(e,t,r){var n=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=s*o+f*n+u*i-c*a,d=u*o+f*a+c*n-s*i,l=c*o+f*i+s*a-u*n,h=f*o-s*n-u*a-c*i;return Pn(e,t,r),n=e[0],a=e[1],i=e[2],o=e[3],e[4]=_*o+h*n+d*i-l*a,e[5]=d*o+h*a+l*n-_*i,e[6]=l*o+h*i+_*a-d*n,e[7]=h*o-_*n-d*a-l*i,e}function La(e,t,r){var n=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=s*o+f*n+u*i-c*a,d=u*o+f*a+c*n-s*i,l=c*o+f*i+s*a-u*n,h=f*o-s*n-u*a-c*i;return Sn(e,t,r),n=e[0],a=e[1],i=e[2],o=e[3],e[4]=_*o+h*n+d*i-l*a,e[5]=d*o+h*a+l*n-_*i,e[6]=l*o+h*i+_*a-d*n,e[7]=h*o-_*n-d*a-l*i,e}function Da(e,t,r){var n=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=s*o+f*n+u*i-c*a,d=u*o+f*a+c*n-s*i,l=c*o+f*i+s*a-u*n,h=f*o-s*n-u*a-c*i;return On(e,t,r),n=e[0],a=e[1],i=e[2],o=e[3],e[4]=_*o+h*n+d*i-l*a,e[5]=d*o+h*a+l*n-_*i,e[6]=l*o+h*i+_*a-d*n,e[7]=h*o-_*n-d*a-l*i,e}function Ca(e,t,r){var n=r[0],a=r[1],i=r[2],o=r[3],s=t[0],u=t[1],c=t[2],f=t[3];return e[0]=s*o+f*n+u*i-c*a,e[1]=u*o+f*a+c*n-s*i,e[2]=c*o+f*i+s*a-u*n,e[3]=f*o-s*n-u*a-c*i,s=t[4],u=t[5],c=t[6],f=t[7],e[4]=s*o+f*n+u*i-c*a,e[5]=u*o+f*a+c*n-s*i,e[6]=c*o+f*i+s*a-u*n,e[7]=f*o-s*n-u*a-c*i,e}function Ia(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],u=r[1],c=r[2],f=r[3];return e[0]=n*f+o*s+a*c-i*u,e[1]=a*f+o*u+i*s-n*c,e[2]=i*f+o*c+n*u-a*s,e[3]=o*f-n*s-a*u-i*c,s=r[4],u=r[5],c=r[6],f=r[7],e[4]=n*f+o*s+a*c-i*u,e[5]=a*f+o*u+i*s-n*c,e[6]=i*f+o*c+n*u-a*s,e[7]=o*f-n*s-a*u-i*c,e}function Ua(e,t,r,n){if(Math.abs(n)<l)return Ea(e,t);var a=Math.hypot(r[0],r[1],r[2]);n*=.5;var i=Math.sin(n),o=i*r[0]/a,s=i*r[1]/a,u=i*r[2]/a,c=Math.cos(n),f=t[0],_=t[1],d=t[2],h=t[3];e[0]=f*c+h*o+_*u-d*s,e[1]=_*c+h*s+d*o-f*u,e[2]=d*c+h*u+f*s-_*o,e[3]=h*c-f*o-_*s-d*u;var m=t[4],p=t[5],b=t[6],v=t[7];return e[4]=m*c+v*o+p*u-b*s,e[5]=p*c+v*s+b*o-m*u,e[6]=b*c+v*u+m*s-p*o,e[7]=v*c-m*o-p*s-b*u,e}function Ba(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e}function qa(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[4],u=r[5],c=r[6],f=r[7],_=t[4],d=t[5],l=t[6],h=t[7],m=r[0],p=r[1],b=r[2],v=r[3];return e[0]=n*v+o*m+a*b-i*p,e[1]=a*v+o*p+i*m-n*b,e[2]=i*v+o*b+n*p-a*m,e[3]=o*v-n*m-a*p-i*b,e[4]=n*f+o*s+a*c-i*u+_*v+h*m+d*b-l*p,e[5]=a*f+o*u+i*s-n*c+d*v+h*p+l*m-_*b,e[6]=i*f+o*c+n*u-a*s+l*v+h*b+_*p-d*m,e[7]=o*f-n*s-a*u-i*c+h*v-_*m-d*p-l*b,e}var ja=qa;function Va(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e}var Na=aa;function Ga(e,t,r,n){var a=1-n;return Na(t,r)<0&&(n=-n),e[0]=t[0]*a+r[0]*n,e[1]=t[1]*a+r[1]*n,e[2]=t[2]*a+r[2]*n,e[3]=t[3]*a+r[3]*n,e[4]=t[4]*a+r[4]*n,e[5]=t[5]*a+r[5]*n,e[6]=t[6]*a+r[6]*n,e[7]=t[7]*a+r[7]*n,e}function Ha(e,t){var r=Za(t);return e[0]=-t[0]/r,e[1]=-t[1]/r,e[2]=-t[2]/r,e[3]=t[3]/r,e[4]=-t[4]/r,e[5]=-t[5]/r,e[6]=-t[6]/r,e[7]=t[7]/r,e}function Wa(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var Ya=oa,Xa=Ya,Za=ua,Qa=Za;function Ja(e,t){var r=Za(t);if(r>0){r=Math.sqrt(r);var n=t[0]/r,a=t[1]/r,i=t[2]/r,o=t[3]/r,s=t[4],u=t[5],c=t[6],f=t[7],_=n*s+a*u+i*c+o*f;e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=(s-n*_)/r,e[5]=(u-a*_)/r,e[6]=(c-i*_)/r,e[7]=(f-o*_)/r}return e}function Ka(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function $a(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function ei(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],f=t[0],_=t[1],d=t[2],h=t[3],m=t[4],p=t[5],b=t[6],v=t[7];return Math.abs(r-f)<=l*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-_)<=l*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(a-d)<=l*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(i-h)<=l*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-m)<=l*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(s-p)<=l*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(u-b)<=l*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(c-v)<=l*Math.max(1,Math.abs(c),Math.abs(v))}function ti(){var e=new h(2);return h!=Float32Array&&(e[0]=0,e[1]=0),e}function ri(e){var t=new h(2);return t[0]=e[0],t[1]=e[1],t}function ni(e,t){var r=new h(2);return r[0]=e,r[1]=t,r}function ai(e,t){return e[0]=t[0],e[1]=t[1],e}function ii(e,t,r){return e[0]=t,e[1]=r,e}function oi(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function si(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function ui(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function ci(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function fi(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function _i(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function di(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function li(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function hi(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function mi(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function pi(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function bi(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.hypot(r,n)}function vi(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function gi(e){var t=e[0],r=e[1];return Math.hypot(t,r)}function Mi(e){var t=e[0],r=e[1];return t*t+r*r}function yi(e,t){return e[0]=-t[0],e[1]=-t[1],e}function wi(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function xi(e,t){var r=t[0],n=t[1],a=r*r+n*n;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e}function Ei(e,t){return e[0]*t[0]+e[1]*t[1]}function Ai(e,t,r){var n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function ki(e,t,r,n){var a=t[0],i=t[1];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e}function Ti(e,t){t=t||1;var r=2*m()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function zi(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[2]*a,e[1]=r[1]*n+r[3]*a,e}function Fi(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[2]*a+r[4],e[1]=r[1]*n+r[3]*a+r[5],e}function Ri(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[3]*a+r[6],e[1]=r[1]*n+r[4]*a+r[7],e}function Pi(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[4]*a+r[12],e[1]=r[1]*n+r[5]*a+r[13],e}function Si(e,t,r,n){var a=t[0]-r[0],i=t[1]-r[1],o=Math.sin(n),s=Math.cos(n);return e[0]=a*s-i*o+r[0],e[1]=a*o+i*s+r[1],e}function Oi(e,t){var r=e[0],n=e[1],a=t[0],i=t[1],o=r*r+n*n;o>0&&(o=1/Math.sqrt(o));var s=a*a+i*i;s>0&&(s=1/Math.sqrt(s));var u=(r*a+n*i)*o*s;return u>1?0:u<-1?Math.PI:Math.acos(u)}function Li(e){return e[0]=0,e[1]=0,e}function Di(e){return"vec2("+e[0]+", "+e[1]+")"}function Ci(e,t){return e[0]===t[0]&&e[1]===t[1]}function Ii(e,t){var r=e[0],n=e[1],a=t[0],i=t[1];return Math.abs(r-a)<=l*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-i)<=l*Math.max(1,Math.abs(n),Math.abs(i))}var Ui=gi,Bi=si,qi=ui,ji=ci,Vi=bi,Ni=vi,Gi=Mi,Hi=function(){var e=ti();return function(t,r,n,a,i,o){var s,u;for(r||(r=2),n||(n=0),u=a?Math.min(a*r+n,t.length):t.length,s=n;s<u;s+=r)e[0]=t[s],e[1]=t[s+1],i(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}}()},function(e,t,r){"use strict";e.exports=function(e,t,r,n){try{try{var a;try{a=new window.Blob([e])}catch(t){(a=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),a=a.getBlob()}var i=window.URL||window.webkitURL,o=i.createObjectURL(a),s=new window[t](o,r);return i.revokeObjectURL(o),s}catch(n){return new window[t]("data:application/javascript,".concat(encodeURIComponent(e)),r)}}catch(e){if(!n)throw Error("Inline worker is not supported");return new window[t](n,r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="CI_COMMIT_TAG"},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageTracker=void 0;const a=r(5),i=r(1);t.ImageTracker=class{constructor(e,t){this._pipeline=e,this.onVisible=new a.Event1,this.onNotVisible=new a.Event1,this.onNewAnchor=new a.Event1,this.visible=new Set,this.anchors=new Map,this._visibleLastFrame=new Set,this._frameUpdate=()=>{const e=new Set,t=this.visible;this.visible=this._visibleLastFrame,this._visibleLastFrame=t,this.visible.clear();const r=this._z.image_tracker_anchor_count(this._impl);for(let t=0;t<r;t++){const r=this._z.image_tracker_anchor_id(this._impl,t);let n=this.anchors.get(r),i=!1;n||(n={onVisible:new a.Event,onNotVisible:new a.Event,id:r,poseCameraRelative:e=>this._z.image_tracker_anchor_pose_camera_relative(this._impl,t,!0===e),pose:(e,r)=>this._z.image_tracker_anchor_pose(this._impl,t,e,!0===r),visible:!0},i=!0,this.anchors.set(r,n),e.add(n)),n.visible=!0,this.visible.add(n)}for(const t of e)this.onNewAnchor.emit(t);for(const e of this.visible)this._visibleLastFrame.has(e)?this._visibleLastFrame.delete(e):(this.onVisible.emit(e),e.onVisible.emit());for(const e of this._visibleLastFrame)this.onNotVisible.emit(e),e.onNotVisible.emit()},this._pipeline._onFrameUpdateInternal.bind(this._frameUpdate),this._z=i.z(),this._impl=this._z.image_tracker_create(this._pipeline._getImpl()),t&&this.loadTarget(t)}destroy(){this._pipeline._onFrameUpdateInternal.unbind(this._frameUpdate),this.anchors.clear(),this.visible.clear(),this._z.image_tracker_destroy(this._impl)}loadTarget(e){return n(this,void 0,void 0,(function*(){"string"==typeof e&&(e=yield(yield fetch(e)).arrayBuffer()),this._z.image_tracker_target_load_from_memory(this._impl,e)}))}get enabled(){return this._z.image_tracker_enabled(this._impl)}set enabled(e){this._z.image_tracker_enabled_set(this._impl,e)}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=void 0;const a=r(32),i=r(14),o=r(12),s=r(3),u=r(35),c=r(39),f=r(41),_=r(10),d=r(45),l=r(19),h=r(46),m=r(48),p=r(2),b=r(49);let v;t.initialize=function(){if(v)return v;let e=!1;u.launchWorker().then(()=>{p.zcout("Fully loaded"),e=!0});let t=new a.zappar_client(e=>{u.messageManager.postOutgoingMessage({t:"zappar",d:e},[e])});if(window.location.hostname.toLowerCase().indexOf(".zappar.io")>0){let e=window.location.pathname.split("/");e.length>1&&e[1].length>0&&t.impl.analytics_project_id_set(".wiz"+e[1])}return u.messageManager.onIncomingMessage.bind(e=>{var r,n;switch(e.t){case"zappar":null===(r=_.Pipeline.get(e.p))||void 0===r||r.pendingMessages.push(e.d);break;case"buf":t.serializer.bufferReturn(e.d);break;case"cameraFrameRecycleS2C":let a=e;null===(n=_.Pipeline.get(a.p))||void 0===n||n.cameraTokenReturn(a);break;case"licerr":{let e=document.createElement("div");e.innerHTML="Visit <a href='https://docs.zap.works/universal-ar/licensing/' style='color: white;'>our licensing page</a> to find out about hosting on your own domain.",e.style.position="absolute",e.style.bottom="20px",e.style.width="80%",e.style.backgroundColor="black",e.style.color="white",e.style.borderRadius="10px",e.style.padding="10px",e.style.fontFamily="sans-serif",e.style.textAlign="center",e.style.left="10%",e.style.zIndex=Number.MAX_SAFE_INTEGER.toString();let t=document.createElement("span");t.innerText=" (30)",e.append(t);let r=30;setInterval((function(){r--,r>=0&&(t.innerText=" ("+r.toString()+")")}),1e3),document.body.append(e)}}}),v=Object.assign(Object.assign({},t.impl),{loaded:()=>e,camera_default_device_id:e=>e?d.CameraSource.USER_DEFAULT_DEVICE_ID:d.CameraSource.DEFAULT_DEVICE_ID,camera_source_create:(e,t)=>d.CameraSource.create(e,t),camera_source_destroy:e=>{var t;return null===(t=d.CameraSource.get(e))||void 0===t?void 0:t.destroy()},camera_source_pause:e=>{var t;return null===(t=d.CameraSource.get(e))||void 0===t?void 0:t.pause()},camera_source_start:e=>{var t;return null===(t=d.CameraSource.get(e))||void 0===t?void 0:t.start()},pipeline_create:()=>_.Pipeline.create(t.impl,u.messageManager),pipeline_frame_update:e=>{var r;return null===(r=_.Pipeline.get(e))||void 0===r?void 0:r.frameUpdate(t)},pipeline_camera_frame_draw_gl:(e,t,r,n)=>{var a;null===(a=_.Pipeline.get(e))||void 0===a||a.cameraFrameDrawGL(t,r,n)},draw_plane:(e,t,r,n,a)=>{i.drawPlane(e,t,r,n,a)},pipeline_draw_face:(e,t,r,n,a)=>{var i;let o=f.getFaceMesh(a);if(!o)return p.zcwarn("attempting to call draw_face on a destroyed zappar_face_mesh_t"),new Uint16Array;null===(i=_.Pipeline.get(e))||void 0===i||i.drawFace(t,r,n,o)},pipeline_draw_face_project:(e,t,r,n,a,i,o)=>{var s;null===(s=_.Pipeline.get(e))||void 0===s||s.drawFaceProject(t,r,n,a,i,o)},projection_matrix_from_camera_model:o.projectionMatrix,projection_matrix_from_camera_model_ext:o.projectionMatrix,pipeline_process_gl:e=>{var t;return null===(t=_.Pipeline.get(e))||void 0===t?void 0:t.processGL()},pipeline_gl_context_set:(e,t,r)=>{var n;return null===(n=_.Pipeline.get(e))||void 0===n?void 0:n.glContextSet(t,r)},pipeline_gl_context_lost:e=>{var t;return null===(t=_.Pipeline.get(e))||void 0===t?void 0:t.glContextLost()},pipeline_camera_frame_upload_gl:e=>{var t;return null===(t=_.Pipeline.get(e))||void 0===t?void 0:t.uploadGL()},pipeline_camera_frame_texture_gl:e=>{var t;return null===(t=_.Pipeline.get(e))||void 0===t?void 0:t.cameraFrameTexture()},pipeline_camera_frame_texture_matrix:(e,t,r,n)=>{var a;return(null===(a=_.Pipeline.get(e))||void 0===a?void 0:a.cameraFrameTextureMatrix(t,r,n))||s.mat4.create()},pipeline_camera_frame_user_facing:e=>{var t;return(null===(t=_.Pipeline.get(e))||void 0===t?void 0:t.cameraFrameUserFacing())||!1},pipeline_camera_pose_default:()=>s.mat4.create(),pipeline_camera_pose_with_attitude:(e,t)=>{var r;return(null===(r=_.Pipeline.get(e))||void 0===r?void 0:r.cameraPoseWithAttitude(t))||s.mat4.create()},pipeline_camera_pose_with_origin:(e,t)=>{let r=s.mat4.create();return s.mat4.invert(r,t),r},pipeline_sequence_record_clear:e=>{var t;return null===(t=_.Pipeline.get(e))||void 0===t?void 0:t.sequenceRecordClear()},pipeline_sequence_record_start:(e,t)=>{var r;return null===(r=_.Pipeline.get(e))||void 0===r?void 0:r.sequenceRecordStart(t)},pipeline_sequence_record_stop:e=>{var t;return null===(t=_.Pipeline.get(e))||void 0===t?void 0:t.sequenceRecordStop()},pipeline_sequence_record_device_attitude_matrices_set:(e,t)=>{var r;return null===(r=_.Pipeline.get(e))||void 0===r?void 0:r.sequenceRecordDeviceAttitudeMatrices(t)},pipeline_sequence_record_data:e=>{var t;return(null===(t=_.Pipeline.get(e))||void 0===t?void 0:t.sequenceRecordData())||new Uint8Array(0)},pipeline_sequence_record_data_size:e=>{var t;return(null===(t=_.Pipeline.get(e))||void 0===t?void 0:t.sequenceRecordData().byteLength)||0},instant_world_tracker_anchor_pose_camera_relative:(e,r)=>{let n=_.applyScreenCounterRotation(void 0,t.impl.instant_world_tracker_anchor_pose_raw(e));if(r){let e=s.mat4.create();s.mat4.fromScaling(e,[-1,1,1]),s.mat4.multiply(n,e,n),s.mat4.multiply(n,n,e)}return n},instant_world_tracker_anchor_pose:(e,r,n)=>{let a=_.applyScreenCounterRotation(void 0,t.impl.instant_world_tracker_anchor_pose_raw(e));if(n){let e=s.mat4.create();s.mat4.fromScaling(e,[-1,1,1]),s.mat4.multiply(a,e,a),s.mat4.multiply(a,a,e)}return s.mat4.multiply(a,r,a),a},instant_world_tracker_anchor_pose_set_from_camera_offset:(e,r,n,a,i)=>{let u=o.cameraRotationForScreenOrientation(!1)*Math.PI/180,c=s.mat4.create();s.mat4.fromRotation(c,-u,[0,0,1]);let f=s.vec3.create();s.vec3.transformMat4(f,[r,n,a],c),t.impl.instant_world_tracker_anchor_pose_set_from_camera_offset_raw(e,f[0],f[1],f[2],i)},image_tracker_anchor_pose_camera_relative:(e,r,n)=>{let a=_.applyScreenCounterRotation(void 0,t.impl.image_tracker_anchor_pose_raw(e,r));if(n){let e=s.mat4.create();s.mat4.fromScaling(e,[-1,1,1]),s.mat4.multiply(a,e,a),s.mat4.multiply(a,a,e)}return a},image_tracker_anchor_pose:(e,r,n,a)=>{let i=_.applyScreenCounterRotation(void 0,t.impl.image_tracker_anchor_pose_raw(e,r));if(a){let e=s.mat4.create();s.mat4.fromScaling(e,[-1,1,1]),s.mat4.multiply(i,e,i),s.mat4.multiply(i,i,e)}return s.mat4.multiply(i,n,i),i},face_tracker_anchor_pose_camera_relative:(e,r,n)=>{let a=_.applyScreenCounterRotation(void 0,t.impl.face_tracker_anchor_pose_raw(e,r));if(n){let e=s.mat4.create();s.mat4.fromScaling(e,[-1,1,1]),s.mat4.multiply(a,e,a),s.mat4.multiply(a,a,e)}return a},face_tracker_anchor_pose:(e,r,n,a)=>{let i=_.applyScreenCounterRotation(void 0,t.impl.face_tracker_anchor_pose_raw(e,r));if(a){let e=s.mat4.create();s.mat4.fromScaling(e,[-1,1,1]),s.mat4.multiply(i,e,i),s.mat4.multiply(i,i,e)}return s.mat4.multiply(i,n,i),i},face_tracker_model_load_default:e=>n(this,void 0,void 0,(function*(){yield function(e){return n(this,void 0,void 0,(function*(){let t=r(51);void 0!==t.default&&(t=t.default);let n=yield fetch(t),a=yield n.arrayBuffer();null==v||v.face_tracker_model_load_from_memory(e,a)}))}(e)})),face_mesh_create:()=>f.createFaceMesh(),face_mesh_destroy:e=>{f.destroyFaceMesh(e)},face_mesh_indices:e=>{let t=f.getFaceMesh(e);return t?t.getIndices():(p.zcwarn("attempting to call face_mesh_indices on a destroyed zappar_face_mesh_t"),new Uint16Array)},face_mesh_indices_size:e=>{let t=f.getFaceMesh(e);return t?t.getIndices().length:(p.zcwarn("attempting to call face_mesh_indices_size on a destroyed zappar_face_mesh_t"),0)},face_mesh_uvs:e=>{let t=f.getFaceMesh(e);return t?t.getUVs():(p.zcwarn("attempting to call face_mesh_uvs on a destroyed zappar_face_mesh_t"),new Float32Array)},face_mesh_uvs_size:e=>{let t=f.getFaceMesh(e);return t?t.getUVs().length:(p.zcwarn("attempting to call face_mesh_uvs_size on a destroyed zappar_face_mesh_t"),0)},face_mesh_vertices:e=>{let t=f.getFaceMesh(e);return t?t.getVertices():(p.zcwarn("attempting to call face_mesh_vertices on a destroyed zappar_face_mesh_t"),new Float32Array)},face_mesh_vertices_size:e=>{let t=f.getFaceMesh(e);return t?t.getVertices().length:(p.zcwarn("attempting to call face_mesh_vertices_size on a destroyed zappar_face_mesh_t"),0)},face_mesh_normals:e=>{let t=f.getFaceMesh(e);return t?t.getNormals():(p.zcwarn("attempting to call face_mesh_normals on a destroyed zappar_face_mesh_t"),new Float32Array)},face_mesh_normals_size:e=>{let t=f.getFaceMesh(e);return t?t.getNormals().length:(p.zcwarn("attempting to call face_mesh_normals_size on a destroyed zappar_face_mesh_t"),0)},face_mesh_load_from_memory:(e,t,r,n,a,i)=>{let o=f.getFaceMesh(e);o?o.loadFromMemory(t,r,n,a,i):p.zcwarn("attempting to call face_mesh_load_from_memory on a destroyed zappar_face_mesh_t")},face_mesh_update:(e,t,r,n)=>{let a=f.getFaceMesh(e);a?a.update(t,r,n):p.zcwarn("attempting to call face_mesh_update on a destroyed zappar_face_mesh_t")},face_mesh_load_default:e=>n(this,void 0,void 0,(function*(){let t=f.getFaceMesh(e);if(!t)return void p.zcwarn("attempting to call face_mesh_load_default on a destroyed zappar_face_mesh_t");let n=r(22);void 0!==n.default&&(n=n.default);let a=yield fetch(n);t.loadFromMemory(yield a.arrayBuffer(),!1,!1,!1,!1)})),face_mesh_load_default_face:(e,t,a,i)=>n(this,void 0,void 0,(function*(){let n=f.getFaceMesh(e);if(!n)return void p.zcwarn("attempting to call face_mesh_load_default_face on a destroyed zappar_face_mesh_t");let o=r(22);void 0!==o.default&&(o=o.default);let s=yield fetch(o);n.loadFromMemory(yield s.arrayBuffer(),t,a,i,!1)})),face_mesh_load_default_full_head_simplified:(e,t,a,i,o)=>n(this,void 0,void 0,(function*(){let n=f.getFaceMesh(e);if(!n)return void p.zcwarn("attempting to call face_mesh_load_default_full_head_simplified on a destroyed zappar_face_mesh_t");let s=r(50);void 0!==s.default&&(s=s.default);let u=yield fetch(s);n.loadFromMemory(yield u.arrayBuffer(),t,a,i,o)})),face_mesh_loaded_version:e=>{let t=f.getFaceMesh(e);return t?t.getModelVersion():(p.zcwarn("attempting to call face_mesh_load_default on a destroyed zappar_face_mesh_t"),-1)},face_landmark_create:e=>h.createFaceLandmark(e),face_landmark_destroy:e=>{h.destroyFaceLandmark(e)},face_landmark_update:(e,t,r,n)=>{let a=h.getFaceLandmark(e);a?a.update(t,r,n):p.zcwarn("attempting to call face_landmark_update on a destroyed zappar_face_landmark_t")},face_landmark_anchor_pose:e=>{let t=h.getFaceLandmark(e);return t?t.anchor_pose:(p.zcwarn("attempting to call face_landmark_anchor_pose on a destroyed zappar_face_landmark_t"),s.mat4.create())},html_element_source_create:(e,t)=>l.HTMLElementSource.createVideoElementSource(e,t),html_element_source_start:e=>{var t;return null===(t=l.HTMLElementSource.getVideoElementSource(e))||void 0===t?void 0:t.start()},html_element_source_pause:e=>{var t;return null===(t=l.HTMLElementSource.getVideoElementSource(e))||void 0===t?void 0:t.pause()},html_element_source_destroy:e=>{var t;return null===(t=l.HTMLElementSource.getVideoElementSource(e))||void 0===t?void 0:t.destroy()},sequence_source_create:e=>b.SequenceSource.create(e),sequence_source_load_from_memory:(e,t)=>{var r;return null===(r=b.SequenceSource.get(e))||void 0===r?void 0:r.loadFromMemory(t)},sequence_source_pause:e=>{var t;return null===(t=b.SequenceSource.get(e))||void 0===t?void 0:t.pause()},sequence_source_start:e=>{var t;return null===(t=b.SequenceSource.get(e))||void 0===t?void 0:t.start()},sequence_source_max_playback_fps_set:(e,t)=>{var r;return null===(r=b.SequenceSource.get(e))||void 0===r?void 0:r.maxPlaybackFpsSet(t)},sequence_source_destroy:e=>{var t;return null===(t=b.SequenceSource.get(e))||void 0===t?void 0:t.destroy()},permission_granted_all:c.permissionGrantedAll,permission_granted_camera:c.permissionGrantedCamera,permission_granted_motion:c.permissionGrantedMotion,permission_denied_any:c.permissionDeniedAny,permission_denied_camera:c.permissionDeniedCamera,permission_denied_motion:c.permissionDeniedMotion,permission_request_motion:c.permissionRequestMotion,permission_request_camera:c.permissionRequestCamera,permission_request_all:c.permissionRequestAll,permission_request_ui:c.permissionRequestUI,permission_request_ui_promise:c.permissionRequestUI,permission_denied_ui:c.permissionDeniedUI,browser_incompatible:m.default.incompatible,browser_incompatible_ui:m.default.incompatible_ui,log_level_set:e=>{p.setLogLevel(e),t.impl.log_level_set(e)}}),v}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zappar_client=void 0;const n=r(33),a=r(34);t.zappar_client=class{constructor(e){this._messageSender=e,this._globalState={log_level:1},this.serializer=new n.MessageSerializer(e=>{this._messageSender(e)}),this.deserializer=new a.MessageDeserializer,this._latestId=1,this._pipeline_state_by_instance=new Map,this._camera_source_state_by_instance=new Map,this._sequence_source_state_by_instance=new Map,this._image_tracker_state_by_instance=new Map,this._face_tracker_state_by_instance=new Map,this._face_mesh_state_by_instance=new Map,this._face_landmark_state_by_instance=new Map,this._barcode_finder_state_by_instance=new Map,this._instant_world_tracker_state_by_instance=new Map,this.impl={log_level:()=>this._globalState.log_level,log_level_set:e=>{this.serializer.sendMessage(34,t=>{t.logLevel(e)})},analytics_project_id_set:e=>{this.serializer.sendMessage(31,t=>{t.string(e)})},pipeline_create:()=>{let e=this._latestId++,t={current_frame_user_data:0,camera_model:new Float32Array([300,300,160,120,0,0]),camera_pose:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),camera_frame_camera_attitude:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),camera_frame_device_attitude:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),frame_number:0};return this._pipeline_state_by_instance.set(e,t),this.serializer.sendMessage(27,t=>{t.type(e)}),e},pipeline_destroy:e=>{if(!this._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");this._pipeline_state_by_instance.delete(e),this.serializer.sendMessage(28,t=>{t.type(e)})},pipeline_frame_update:e=>{if(!this._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");this.serializer.sendMessage(9,t=>{t.type(e)})},pipeline_frame_number:e=>{let t=this._pipeline_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.frame_number},pipeline_camera_model:e=>{let t=this._pipeline_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.camera_model},pipeline_camera_frame_user_data:e=>{let t=this._pipeline_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.current_frame_user_data},pipeline_camera_frame_submit:(e,t,r,n,a,i,o,s)=>{if(!this._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");this.serializer.sendMessage(8,u=>{u.type(e),u.dataWithLength(t),u.int(r),u.int(n),u.int(a),u.matrix4x4(i),u.cameraModel(o),u.bool(s)})},pipeline_camera_frame_camera_attitude:e=>{let t=this._pipeline_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.camera_frame_camera_attitude},pipeline_camera_frame_device_attitude:e=>{let t=this._pipeline_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.camera_frame_device_attitude},pipeline_motion_accelerometer_submit:(e,t,r,n,a)=>{if(!this._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");this.serializer.sendMessage(10,i=>{i.type(e),i.timestamp(t),i.float(r),i.float(n),i.float(a)})},pipeline_motion_rotation_rate_submit:(e,t,r,n,a)=>{if(!this._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");this.serializer.sendMessage(11,i=>{i.type(e),i.timestamp(t),i.float(r),i.float(n),i.float(a)})},pipeline_motion_attitude_submit:(e,t,r,n,a)=>{if(!this._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");this.serializer.sendMessage(12,i=>{i.type(e),i.timestamp(t),i.float(r),i.float(n),i.float(a)})},pipeline_motion_attitude_matrix_submit:(e,t)=>{if(!this._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");this.serializer.sendMessage(13,r=>{r.type(e),r.matrix4x4(t)})},camera_source_create:(e,t)=>{let r=this._latestId++;return this._camera_source_state_by_instance.set(r,{}),this.serializer.sendMessage(29,n=>{n.type(r),n.type(e),n.string(t)}),r},camera_source_destroy:e=>{if(!this._camera_source_state_by_instance.get(e))throw new Error("This object has been destroyed");this._camera_source_state_by_instance.delete(e),this.serializer.sendMessage(30,t=>{t.type(e)})},sequence_source_create:e=>{let t=this._latestId++;return this._sequence_source_state_by_instance.set(t,{}),this.serializer.sendMessage(35,r=>{r.type(t),r.type(e)}),t},sequence_source_destroy:e=>{if(!this._sequence_source_state_by_instance.get(e))throw new Error("This object has been destroyed");this._sequence_source_state_by_instance.delete(e),this.serializer.sendMessage(36,t=>{t.type(e)})},image_tracker_create:e=>{let t=this._latestId++;return this._image_tracker_state_by_instance.set(t,{enabled:!0,target_loaded_version:-1,target_count:0,anchor_count:0,anchor_id:[],anchor_pose:[]}),this.serializer.sendMessage(2,r=>{r.type(t),r.type(e)}),t},image_tracker_destroy:e=>{if(!this._image_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");this._image_tracker_state_by_instance.delete(e),this.serializer.sendMessage(14,t=>{t.type(e)})},image_tracker_target_load_from_memory:(e,t)=>{if(!this._image_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");this.serializer.sendMessage(4,r=>{r.type(e),r.dataWithLength(t)})},image_tracker_target_loaded_version:e=>{let t=this._image_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.target_loaded_version},image_tracker_target_count:e=>{let t=this._image_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.target_count},image_tracker_enabled:e=>{let t=this._image_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.enabled},image_tracker_enabled_set:(e,t)=>{if(!this._image_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");this.serializer.sendMessage(3,r=>{r.type(e),r.bool(t)})},image_tracker_anchor_count:e=>{let t=this._image_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.anchor_count},image_tracker_anchor_id:(e,t)=>{let r=this._image_tracker_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.anchor_id[t]},image_tracker_anchor_pose_raw:(e,t)=>{let r=this._image_tracker_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.anchor_pose[t]},face_tracker_create:e=>{let t=this._latestId++;return this._face_tracker_state_by_instance.set(t,{enabled:!0,model_loaded:-1,max_faces:1,anchor_count:0,anchor_id:[],anchor_pose:[],anchor_identity_coefficients:[],anchor_expression_coefficients:[]}),this.serializer.sendMessage(20,r=>{r.type(t),r.type(e)}),t},face_tracker_destroy:e=>{if(!this._face_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");this._face_tracker_state_by_instance.delete(e),this.serializer.sendMessage(21,t=>{t.type(e)})},face_tracker_model_load_from_memory:(e,t)=>{if(!this._face_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");this.serializer.sendMessage(22,r=>{r.type(e),r.dataWithLength(t)})},face_tracker_model_loaded_version:e=>{let t=this._face_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.model_loaded},face_tracker_enabled_set:(e,t)=>{if(!this._face_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");this.serializer.sendMessage(23,r=>{r.type(e),r.bool(t)})},face_tracker_enabled:e=>{let t=this._face_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.enabled},face_tracker_max_faces_set:(e,t)=>{if(!this._face_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");this.serializer.sendMessage(24,r=>{r.type(e),r.int(t)})},face_tracker_max_faces:e=>{let t=this._face_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.max_faces},face_tracker_anchor_count:e=>{let t=this._face_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.anchor_count},face_tracker_anchor_id:(e,t)=>{let r=this._face_tracker_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.anchor_id[t]},face_tracker_anchor_pose_raw:(e,t)=>{let r=this._face_tracker_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.anchor_pose[t]},face_tracker_anchor_identity_coefficients:(e,t)=>{let r=this._face_tracker_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.anchor_identity_coefficients[t]},face_tracker_anchor_expression_coefficients:(e,t)=>{let r=this._face_tracker_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.anchor_expression_coefficients[t]},face_mesh_create:()=>{let e=this._latestId++;return this._face_mesh_state_by_instance.set(e,{}),this.serializer.sendMessage(25,t=>{t.type(e)}),e},face_mesh_destroy:e=>{if(!this._face_mesh_state_by_instance.get(e))throw new Error("This object has been destroyed");this._face_mesh_state_by_instance.delete(e),this.serializer.sendMessage(26,t=>{t.type(e)})},face_landmark_create:e=>{let t=this._latestId++;return this._face_landmark_state_by_instance.set(t,{}),this.serializer.sendMessage(32,r=>{r.type(t),r.faceLandmarkName(e)}),t},face_landmark_destroy:e=>{if(!this._face_landmark_state_by_instance.get(e))throw new Error("This object has been destroyed");this._face_landmark_state_by_instance.delete(e),this.serializer.sendMessage(33,t=>{t.type(e)})},barcode_finder_create:e=>{let t=this._latestId++;return this._barcode_finder_state_by_instance.set(t,{enabled:!0,number_found:0,found_text:[],found_format:[],formats:131071}),this.serializer.sendMessage(16,r=>{r.type(t),r.type(e)}),t},barcode_finder_destroy:e=>{if(!this._barcode_finder_state_by_instance.get(e))throw new Error("This object has been destroyed");this._barcode_finder_state_by_instance.delete(e),this.serializer.sendMessage(17,t=>{t.type(e)})},barcode_finder_enabled_set:(e,t)=>{if(!this._barcode_finder_state_by_instance.get(e))throw new Error("This object has been destroyed");this.serializer.sendMessage(18,r=>{r.type(e),r.bool(t)})},barcode_finder_enabled:e=>{let t=this._barcode_finder_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.enabled},barcode_finder_found_number:e=>{let t=this._barcode_finder_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.number_found},barcode_finder_found_text:(e,t)=>{let r=this._barcode_finder_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.found_text[t]},barcode_finder_found_format:(e,t)=>{let r=this._barcode_finder_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.found_format[t]},barcode_finder_formats:e=>{let t=this._barcode_finder_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.formats},barcode_finder_formats_set:(e,t)=>{if(!this._barcode_finder_state_by_instance.get(e))throw new Error("This object has been destroyed");this.serializer.sendMessage(19,r=>{r.type(e),r.barcodeFormat(t)})},instant_world_tracker_create:e=>{let t=this._latestId++,r={enabled:!0,pose:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};return this._instant_world_tracker_state_by_instance.set(t,r),this.serializer.sendMessage(5,r=>{r.type(t),r.type(e)}),t},instant_world_tracker_destroy:e=>{if(!this._instant_world_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");this._instant_world_tracker_state_by_instance.delete(e),this.serializer.sendMessage(15,t=>{t.type(e)})},instant_world_tracker_enabled_set:(e,t)=>{if(!this._instant_world_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");this.serializer.sendMessage(6,r=>{r.type(e),r.bool(t)})},instant_world_tracker_enabled:e=>{let t=this._instant_world_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.enabled},instant_world_tracker_anchor_pose_raw:e=>{let t=this._instant_world_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.pose},instant_world_tracker_anchor_pose_set_from_camera_offset_raw:(e,t,r,n,a)=>{if(!this._instant_world_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");this.serializer.sendMessage(7,i=>{i.type(e),i.float(t),i.float(r),i.float(n),i.instantTrackerTransformOrientation(a)})}}}processMessages(e){this.deserializer.setData(e),this.deserializer.forMessages((e,t)=>{switch(e){case 7:{let e=t.type(),r=this._pipeline_state_by_instance.get(e);if(!r)return;r.frame_number=t.int();break}case 6:{let e=t.type(),r=this._pipeline_state_by_instance.get(e);if(!r)return;r.camera_model=t.cameraModel();break}case 5:{let e=t.type(),r=this._pipeline_state_by_instance.get(e);if(!r)return;r.current_frame_user_data=t.int();break}case 11:{let e=t.type(),r=this._pipeline_state_by_instance.get(e);if(!r)return;r.camera_frame_camera_attitude=t.matrix4x4();break}case 12:{let e=t.type(),r=this._pipeline_state_by_instance.get(e);if(!r)return;r.camera_frame_device_attitude=t.matrix4x4();break}case 19:{let e=t.type(),r=this._image_tracker_state_by_instance.get(e);if(!r)return;r.target_loaded_version=t.int();break}case 21:{let e=t.type(),r=this._image_tracker_state_by_instance.get(e);if(!r)return;r.target_count=t.int();break}case 1:{let e=t.type(),r=this._image_tracker_state_by_instance.get(e);if(!r)return;r.anchor_count=t.int();break}case 2:{let e=t.type(),r=this._image_tracker_state_by_instance.get(e);if(!r)return;let n=t.int();r.anchor_id[n]=t.string();break}case 3:{let e=t.type(),r=this._image_tracker_state_by_instance.get(e);if(!r)return;let n=t.int();r.anchor_pose[n]=t.matrix4x4();break}case 18:{let e=t.type(),r=this._face_tracker_state_by_instance.get(e);if(!r)return;r.model_loaded=t.int();break}case 13:{let e=t.type(),r=this._face_tracker_state_by_instance.get(e);if(!r)return;r.anchor_count=t.int();break}case 14:{let e=t.type(),r=this._face_tracker_state_by_instance.get(e);if(!r)return;let n=t.int();r.anchor_id[n]=t.string();break}case 15:{let e=t.type(),r=this._face_tracker_state_by_instance.get(e);if(!r)return;let n=t.int();r.anchor_pose[n]=t.matrix4x4();break}case 16:{let e=t.type(),r=this._face_tracker_state_by_instance.get(e);if(!r)return;let n=t.int();r.anchor_identity_coefficients[n]=t.identityCoefficients();break}case 17:{let e=t.type(),r=this._face_tracker_state_by_instance.get(e);if(!r)return;let n=t.int();r.anchor_expression_coefficients[n]=t.expressionCoefficients();break}case 8:{let e=t.type(),r=this._barcode_finder_state_by_instance.get(e);if(!r)return;r.number_found=t.int();break}case 9:{let e=t.type(),r=this._barcode_finder_state_by_instance.get(e);if(!r)return;let n=t.int();r.found_text[n]=t.string();break}case 10:{let e=t.type(),r=this._barcode_finder_state_by_instance.get(e);if(!r)return;let n=t.int();r.found_format[n]=t.barcodeFormat();break}case 4:{let e=t.type(),r=this._instant_world_tracker_state_by_instance.get(e);if(!r)return;r.pose=t.matrix4x4();break}}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageSerializer=void 0;t.MessageSerializer=class{constructor(e){this._messageSender=e,this._freeBufferPool=[],this._buffer=new ArrayBuffer(16),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1,this._timeoutSet=!1,this._appender={int:e=>this.int(e),bool:e=>this.int(e?1:0),float:e=>this.float(e),string:e=>this.string(e),dataWithLength:e=>this.arrayBuffer(e),type:e=>this.int(e),matrix4x4:e=>this.float32ArrayBuffer(e),matrix3x3:e=>this.float32ArrayBuffer(e),identityCoefficients:e=>this.float32ArrayBuffer(e),expressionCoefficients:e=>this.float32ArrayBuffer(e),cameraModel:e=>this.float32ArrayBuffer(e),timestamp:e=>this.double(e),barcodeFormat:e=>this.int(e),faceLandmarkName:e=>this.int(e),instantTrackerTransformOrientation:e=>this.int(e),logLevel:e=>this.int(e)},this._freeBufferPool.push(new ArrayBuffer(16)),this._freeBufferPool.push(new ArrayBuffer(16))}bufferReturn(e){this._freeBufferPool.push(e)}_ensureArrayBuffer(e){let t=4*(this._offset+e+8);if(this._buffer&&this._buffer.byteLength>=t)return;let r=void 0;if(!r){let e=t;e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,r=new ArrayBuffer(e)}let n=this._buffer?this._i32View:void 0;this._buffer=r,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),n&&this._i32View.set(n.subarray(0,this._offset))}sendMessage(e,t){this._ensureArrayBuffer(4),this._startOffset=this._offset,this._i32View[this._offset+1]=e,this._offset+=2,t(this._appender),this._i32View[this._startOffset]=this._offset-this._startOffset,this._startOffset=-1,this._sendOneTime()}_sendOneTime(){!1===this._timeoutSet&&(this._timeoutSet=!0,setTimeout(()=>{this._timeoutSet=!1,this._send()},0))}_send(){0!==this._freeBufferPool.length?(this._i32View[0]=this._offset,this._messageSender(this._buffer),this._buffer=void 0,this._buffer=this._freeBufferPool.pop(),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1):this._sendOneTime()}int(e){this._ensureArrayBuffer(1),this._i32View[this._offset]=e,this._offset++}double(e){this._ensureArrayBuffer(2),this._offset%2==1&&this._offset++,this._f64View[this._offset/2]=e,this._offset+=2}float(e){this._ensureArrayBuffer(1),this._f32View[this._offset]=e,this._offset++}int32Array(e){this._ensureArrayBuffer(e.length);for(let t=0;t<e.length;++t)this._i32View[this._offset+t]=e[t];this._offset+=e.length}float32Array(e){this._ensureArrayBuffer(e.length);for(let t=0;t<e.length;++t)this._f32View[this._offset+t]=e[t];this._offset+=e.length}booleanArray(e){this._ensureArrayBuffer(e.length);for(let t=0;t<e.length;++t)this._i32View[this._offset+t]=e[t]?1:0;this._offset+=e.length}uint8ArrayBuffer(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.byteLength,this._offset++,this._u8View.set(e,4*this._offset),this._offset+=e.byteLength>>2,0!=(3&e.byteLength)&&this._offset++}arrayBuffer(e){let t=new Uint8Array(e);this.uint8ArrayBuffer(t)}uint8ClampedArrayBuffer(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.byteLength,this._offset++,this._u8cView.set(e,4*this._offset),this._offset+=e.byteLength>>2,0!=(3&e.byteLength)&&this._offset++}float32ArrayBuffer(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._f32View.set(e,this._offset),this._offset+=e.length}uint16ArrayBuffer(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++;let t=2*this._offset;this._u16View.set(e,t),this._offset+=e.length>>1,0!=(1&e.length)&&this._offset++}int32ArrayBuffer(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._i32View.set(e,this._offset),this._offset+=e.length}uint32ArrayBuffer(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._u32View.set(e,this._offset),this._offset+=e.length}string(e){let t=(new TextEncoder).encode(e);this._ensureArrayBuffer(t.byteLength/4),this._i32View[this._offset]=t.byteLength,this._offset++,this._u8View.set(t,4*this._offset),this._offset+=t.byteLength>>2,0!=(3&t.byteLength)&&this._offset++}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageDeserializer=void 0;t.MessageDeserializer=class{constructor(){this._buffer=new ArrayBuffer(0),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,this._startOffset=-1,this._processor={int:()=>this._i32View[this._startOffset++],bool:()=>1===this._i32View[this._startOffset++],type:()=>this._i32View[this._startOffset++],float:()=>this._f32View[this._startOffset++],timestamp:()=>{this._startOffset%2==1&&this._startOffset++;let e=this._f64View[this._startOffset/2];return this._startOffset+=2,e},string:()=>{let e=this._i32View[this._startOffset++],t=(new TextDecoder).decode(new Uint8Array(this._buffer,4*this._startOffset,e));return this._startOffset+=e>>2,0!=(3&e)&&this._startOffset++,t},dataWithLength:()=>{let e=this._i32View[this._startOffset++],t=new Uint8Array(e);return t.set(this._u8View.subarray(4*this._startOffset,4*this._startOffset+e)),this._startOffset+=t.byteLength>>2,0!=(3&t.byteLength)&&this._startOffset++,t.buffer},matrix4x4:()=>{let e=this._i32View[this._startOffset++],t=new Float32Array(e);return t.set(this._f32View.subarray(this._startOffset,this._startOffset+16)),this._startOffset+=e,t},matrix3x3:()=>{let e=this._i32View[this._startOffset++],t=new Float32Array(e);return t.set(this._f32View.subarray(this._startOffset,this._startOffset+9)),this._startOffset+=e,t},identityCoefficients:()=>{let e=this._i32View[this._startOffset++],t=new Float32Array(e);return t.set(this._f32View.subarray(this._startOffset,this._startOffset+50)),this._startOffset+=e,t},expressionCoefficients:()=>{let e=this._i32View[this._startOffset++],t=new Float32Array(e);return t.set(this._f32View.subarray(this._startOffset,this._startOffset+29)),this._startOffset+=e,t},cameraModel:()=>{let e=this._i32View[this._startOffset++],t=new Float32Array(e);return t.set(this._f32View.subarray(this._startOffset,this._startOffset+6)),this._startOffset+=e,t},barcodeFormat:()=>this._i32View[this._startOffset++],faceLandmarkName:()=>this._i32View[this._startOffset++],instantTrackerTransformOrientation:()=>this._i32View[this._startOffset++],logLevel:()=>this._i32View[this._startOffset++]}}setData(e){this._buffer=e,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,e.byteLength>=4&&(this._offset=1,this._length=this._i32View[0]),this._startOffset=-1}hasMessage(){return this._offset+1<this._length}forMessages(e){for(;this.hasMessage();){let t=this._i32View[this._offset],r=this._i32View[this._offset+1];this._startOffset=this._offset+2,this._offset+=t,e(r,this._processor)}}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.launchWorker=t.messageManager=void 0;const a=r(36);let i;t.messageManager=new a.MsgManager,i=r(37),i.default&&(i=i.default),t.launchWorker=function(){return n(this,void 0,void 0,(function*(){let e=new i;var n;function a(){let r=t.messageManager.getOutgoingMessages();for(let t of r)e.postMessage(t.msg,t.transferables)}e.postMessage({t:"wasm",url:r(38).default}),yield(n=e,new Promise(e=>{let t=r=>{"loaded"===r.data&&(n.removeEventListener("message",t),e())};n.addEventListener("message",t)})),t.messageManager.onOutgoingMessage.bind(a),a(),e.addEventListener("message",e=>{t.messageManager.postIncomingMessage(e.data)})}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MsgManager=void 0;const n=r(15);t.MsgManager=class{constructor(){this.onOutgoingMessage=new n.Event,this.onIncomingMessage=new n.Event1,this._outgoingMessages=[]}postIncomingMessage(e){this.onIncomingMessage.emit(e)}postOutgoingMessage(e,t){this._outgoingMessages.push({msg:e,transferables:t}),this.onOutgoingMessage.emit()}getOutgoingMessages(){let e=this._outgoingMessages;return this._outgoingMessages=[],e}}},function(e,t,r){"use strict";r.r(t);var n=r(28),a=r.n(n);t.default=function(){return a()('!function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(2),n=self;a.messageManager.onOutgoingMessage.bind(()=>{let e=a.messageManager.getOutgoingMessages();for(let t of e)n.postMessage(t.msg,t.transferables)});let i=e=>{if(e&&e.data&&"wasm"===e.data.t){let t=location.href.startsWith("blob")?e.data.url:r(13);t.default&&(t=t.default),a.launchWorkerServer(t),n.removeEventListener("message",i)}};n.addEventListener("message",i),n.addEventListener("message",e=>{a.messageManager.postIncomingMessage(e.data)})},function(e,t,r){"use strict";var a=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))((function(n,i){function s(e){try{o(a.next(e))}catch(e){i(e)}}function _(e){try{o(a.throw(e))}catch(e){i(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,_)}o((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.launchWorkerServer=t.messageManager=void 0;const n=r(3),i=r(7),s=r(8),_=r(11);t.messageManager=new _.MsgManager,t.launchWorkerServer=function(e){return a(this,void 0,void 0,(function*(){let r=n.default({locateFile:(t,r)=>t.endsWith("zcv.wasm")?e:r+t,onRuntimeInitialized:()=>{let e=i.getRuntimeObject(r),a=new s.zappar_server(e,(e,r)=>{t.messageManager.postOutgoingMessage({p:e,t:"zappar",d:r},[r])});t.messageManager.postOutgoingMessage("loaded",[]),t.messageManager.onIncomingMessage.bind(r=>{var n;switch(r.t){case"zappar":a.processBuffer(r.d),t.messageManager.postOutgoingMessage({t:"buf",d:r.d},[r.d]);break;case"buf":null===(n=a.serializersByPipelineId.get(r.p))||void 0===n||n.bufferReturn(r.d);break;case"cameraFrameC2S":let i,s=r,_=a._pipeline_by_instance.get(s.p);_&&(e.pipeline_camera_frame_submit(_,s.d,s.width,s.height,s.token,s.c2d,s.cm,s.userFacing),e.pipeline_frame_update(_),i=e.pipeline_camera_frame_device_attitude(_),a.exploreState());let o={token:s.token,d:s.d,p:s.p,t:"cameraFrameRecycleS2C",att:i};t.messageManager.postOutgoingMessage(o,[s.d])}})}})}))}},function(e,t,r){"use strict";r.r(t),function(e){var r,a=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t){var a,n,i;t=t||{},a||(a=void 0!==t?t:{}),a.ready=new Promise((function(e,t){n=e,i=t}));var s,_={};for(s in a)a.hasOwnProperty(s)&&(_[s]=a[s]);var o="./this.program";function c(e,t){throw t}var u,f="";f=self.location.href,r&&(f=r),f=0!==f.indexOf("blob:")?f.substr(0,f.lastIndexOf("/")+1):"",u=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)};var p,l,d,m=a.print||console.log.bind(console),h=a.printErr||console.warn.bind(console);for(s in _)_.hasOwnProperty(s)&&(a[s]=_[s]);_=null,a.thisProgram&&(o=a.thisProgram),a.quit&&(c=a.quit),a.wasmBinary&&(l=a.wasmBinary),a.noExitRuntime&&(d=a.noExitRuntime),"object"!=typeof WebAssembly&&J("no native wasm support detected");var b,g=!1;function w(e,t){e||J("Assertion failed: "+t)}function y(e){var t=a["_"+e];return w(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function v(e,t,r,a){var n,i={string:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);t=yr(r),D(e,M,t,r)}return t},array:function(e){var t=yr(e.length);return k.set(e,t),t}},s=y(e),_=[];if(e=0,a)for(var o=0;o<a.length;o++){var c=i[r[o]];c?(0===e&&(e=gr()),_[o]=c(a[o])):_[o]=a[o]}return r=s.apply(null,_),n=r,r="string"===t?T(n):"boolean"===t?!!n:n,0!==e&&wr(e),r}var z,k,M,A,x,O,P,E,L,F="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function S(e,t,r){var a=t+r;for(r=t;e[r]&&!(r>=a);)++r;if(16<r-t&&e.subarray&&F)return F.decode(e.subarray(t,r));for(a="";t<r;){var n=e[t++];if(128&n){var i=63&e[t++];if(192==(224&n))a+=String.fromCharCode((31&n)<<6|i);else{var s=63&e[t++];65536>(n=224==(240&n)?(15&n)<<12|i<<6|s:(7&n)<<18|i<<12|s<<6|63&e[t++])?a+=String.fromCharCode(n):(n-=65536,a+=String.fromCharCode(55296|n>>10,56320|1023&n))}}else a+=String.fromCharCode(n)}return a}function T(e,t){return e?S(M,e,t):""}function D(e,t,r,a){if(!(0<a))return 0;var n=r;a=r+a-1;for(var i=0;i<e.length;++i){var s=e.charCodeAt(i);if(55296<=s&&57343>=s&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),127>=s){if(r>=a)break;t[r++]=s}else{if(2047>=s){if(r+1>=a)break;t[r++]=192|s>>6}else{if(65535>=s){if(r+2>=a)break;t[r++]=224|s>>12}else{if(r+3>=a)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63}t[r++]=128|s>>6&63}t[r++]=128|63&s}}return t[r]=0,r-n}function I(e){for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++r)),127>=a?++t:t=2047>=a?t+2:65535>=a?t+3:t+4}return t}function V(e){var t=I(e)+1,r=pr(t);return r&&D(e,k,r,t),r}function j(e,t){for(var r=0;r<e.length;++r)k[t++>>0]=e.charCodeAt(r);k[t>>0]=0}function B(){var e=b.buffer;z=e,a.HEAP8=k=new Int8Array(e),a.HEAP16=A=new Int16Array(e),a.HEAP32=O=new Int32Array(e),a.HEAPU8=M=new Uint8Array(e),a.HEAPU16=x=new Uint16Array(e),a.HEAPU32=P=new Uint32Array(e),a.HEAPF32=E=new Float32Array(e),a.HEAPF64=L=new Float64Array(e)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var R,C=[],U=[],q=[],Z=[];function H(){var e=a.preRun.shift();C.unshift(e)}var W=0,N=null,Y=null;function K(){W++,a.monitorRunDependencies&&a.monitorRunDependencies(W)}function G(){if(W--,a.monitorRunDependencies&&a.monitorRunDependencies(W),0==W&&(null!==N&&(clearInterval(N),N=null),Y)){var e=Y;Y=null,e()}}function J(e){throw a.onAbort&&a.onAbort(e),h(e),g=!0,e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info."),i(e),e}a.preloadedImages={},a.preloadedAudios={};var X="zcv.wasm";if(String.prototype.startsWith?!X.startsWith("data:application/octet-stream;base64,"):0!==X.indexOf("data:application/octet-stream;base64,")){var $=X;X=a.locateFile?a.locateFile($,f):f+$}var Q,ee,te,re={26531:function(){if(self.crypto&&self.crypto.getRandomValues){var e=new Uint32Array(1);return self.crypto.getRandomValues(e),e[0]}return 9007199254740991*Math.random()},301674:function(e,t){self.send_ba_request(M.subarray(e,e+t))}};function ae(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t(a);else{var r=t.da;"number"==typeof r?void 0===t.L?R.get(r)():R.get(r)(t.L):r(void 0===t.L?null:t.L)}}}function ne(e,t){if(0===e)e=Date.now();else{if(1!==e&&4!==e)return O[lr()>>2]=28,-1;e=te()}return O[t>>2]=e/1e3|0,O[t+4>>2]=e%1e3*1e6|0,0}function ie(e){this.D=e-16,this.Ia=function(e){O[this.D+8>>2]=e},this.Fa=function(e){O[this.D+0>>2]=e},this.Ga=function(){O[this.D+4>>2]=0},this.Ea=function(){k[this.D+12>>0]=0},this.Ha=function(){k[this.D+13>>0]=0},this.ua=function(e,t){this.Ia(e),this.Fa(t),this.Ga(),this.Ea(),this.Ha()}}function se(e,t){for(var r=0,a=e.length-1;0<=a;a--){var n=e[a];"."===n?e.splice(a,1):".."===n?(e.splice(a,1),r++):r&&(e.splice(a,1),r--)}if(t)for(;r;r--)e.unshift("..");return e}function _e(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return(e=se(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e}function oe(e){var t=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],e||t?(t&&(t=t.substr(0,t.length-1)),e+t):"."}function ce(e){if("/"===e)return"/";var t=(e=(e=_e(e)).replace(/\\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)}function ue(){for(var e="",t=!1,r=arguments.length-1;-1<=r&&!t;r--){if("string"!=typeof(t=0<=r?arguments[r]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t="/"===t.charAt(0)}return(t?"/":"")+(e=se(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."}te=function(){return performance.now()};var fe=[];function pe(e,t){fe[e]={input:[],j:[],C:t},Be(e,le)}var le={open:function(e){var t=fe[e.node.I];if(!t)throw new Me(43);e.h=t,e.seekable=!1},close:function(e){e.h.C.flush(e.h)},flush:function(e){e.h.C.flush(e.h)},read:function(e,t,r,a){if(!e.h||!e.h.C.ea)throw new Me(60);for(var n=0,i=0;i<a;i++){try{var s=e.h.C.ea(e.h)}catch(e){throw new Me(29)}if(void 0===s&&0===n)throw new Me(6);if(null==s)break;n++,t[r+i]=s}return n&&(e.node.timestamp=Date.now()),n},write:function(e,t,r,a){if(!e.h||!e.h.C.Y)throw new Me(60);try{for(var n=0;n<a;n++)e.h.C.Y(e.h,t[r+n])}catch(e){throw new Me(29)}return a&&(e.node.timestamp=Date.now()),n}},de={ea:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\\n"),!t)return null;e.input=_r(t,!0)}return e.input.shift()},Y:function(e,t){null===t||10===t?(m(S(e.j,0)),e.j=[]):0!=t&&e.j.push(t)},flush:function(e){e.j&&0<e.j.length&&(m(S(e.j,0)),e.j=[])}},me={Y:function(e,t){null===t||10===t?(h(S(e.j,0)),e.j=[]):0!=t&&e.j.push(t)},flush:function(e){e.j&&0<e.j.length&&(h(S(e.j,0)),e.j=[])}},he={o:null,u:function(){return he.createNode(null,"/",16895,0)},createNode:function(e,t,r,a){if(24576==(61440&r)||4096==(61440&r))throw new Me(63);return he.o||(he.o={dir:{node:{m:he.c.m,s:he.c.s,G:he.c.G,M:he.c.M,ka:he.c.ka,S:he.c.S,la:he.c.la,ja:he.c.ja,N:he.c.N},stream:{A:he.f.A}},file:{node:{m:he.c.m,s:he.c.s},stream:{A:he.f.A,read:he.f.read,write:he.f.write,$:he.f.$,fa:he.f.fa,ha:he.f.ha}},link:{node:{m:he.c.m,s:he.c.s,J:he.c.J},stream:{}},aa:{node:{m:he.c.m,s:he.c.s},stream:je}}),16384==(61440&(r=Le(e,t,r,a)).mode)?(r.c=he.o.dir.node,r.f=he.o.dir.stream,r.b={}):32768==(61440&r.mode)?(r.c=he.o.file.node,r.f=he.o.file.stream,r.g=0,r.b=null):40960==(61440&r.mode)?(r.c=he.o.link.node,r.f=he.o.link.stream):8192==(61440&r.mode)&&(r.c=he.o.aa.node,r.f=he.o.aa.stream),r.timestamp=Date.now(),e&&(e.b[t]=r),r},Va:function(e){if(e.b&&e.b.subarray){for(var t=[],r=0;r<e.g;++r)t.push(e.b[r]);return t}return e.b},Wa:function(e){return e.b?e.b.subarray?e.b.subarray(0,e.g):new Uint8Array(e.b):new Uint8Array(0)},ba:function(e,t){var r=e.b?e.b.length:0;r>=t||(t=Math.max(t,r*(1048576>r?2:1.125)>>>0),0!=r&&(t=Math.max(t,256)),r=e.b,e.b=new Uint8Array(t),0<e.g&&e.b.set(r.subarray(0,e.g),0))},Ca:function(e,t){if(e.g!=t)if(0==t)e.b=null,e.g=0;else{if(!e.b||e.b.subarray){var r=e.b;e.b=new Uint8Array(t),r&&e.b.set(r.subarray(0,Math.min(t,e.g)))}else if(e.b||(e.b=[]),e.b.length>t)e.b.length=t;else for(;e.b.length<t;)e.b.push(0);e.g=t}},c:{m:function(e){var t={};return t.qa=8192==(61440&e.mode)?e.id:1,t.X=e.id,t.mode=e.mode,t.Aa=1,t.uid=0,t.sa=0,t.I=e.I,16384==(61440&e.mode)?t.size=4096:32768==(61440&e.mode)?t.size=e.g:40960==(61440&e.mode)?t.size=e.link.length:t.size=0,t.ma=new Date(e.timestamp),t.za=new Date(e.timestamp),t.pa=new Date(e.timestamp),t.na=4096,t.oa=Math.ceil(t.size/t.na),t},s:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&he.Ca(e,t.size)},G:function(){throw Ae[44]},M:function(e,t,r,a){return he.createNode(e,t,r,a)},ka:function(e,t,r){if(16384==(61440&e.mode)){try{var a=Ee(t,r)}catch(e){}if(a)for(var n in a.b)throw new Me(55)}delete e.parent.b[e.name],e.name=r,t.b[r]=e,e.parent=t},S:function(e,t){delete e.b[t]},la:function(e,t){var r,a=Ee(e,t);for(r in a.b)throw new Me(55);delete e.b[t]},ja:function(e){var t,r=[".",".."];for(t in e.b)e.b.hasOwnProperty(t)&&r.push(t);return r},N:function(e,t,r){return(e=he.createNode(e,t,41471,0)).link=r,e},J:function(e){if(40960!=(61440&e.mode))throw new Me(28);return e.link}},f:{read:function(e,t,r,a,n){var i=e.node.b;if(n>=e.node.g)return 0;if(8<(e=Math.min(e.node.g-n,a))&&i.subarray)t.set(i.subarray(n,n+e),r);else for(a=0;a<e;a++)t[r+a]=i[n+a];return e},write:function(e,t,r,a,n,i){if(t.buffer===k.buffer&&(i=!1),!a)return 0;if((e=e.node).timestamp=Date.now(),t.subarray&&(!e.b||e.b.subarray)){if(i)return e.b=t.subarray(r,r+a),e.g=a;if(0===e.g&&0===n)return e.b=t.slice(r,r+a),e.g=a;if(n+a<=e.g)return e.b.set(t.subarray(r,r+a),n),a}if(he.ba(e,n+a),e.b.subarray&&t.subarray)e.b.set(t.subarray(r,r+a),n);else for(i=0;i<a;i++)e.b[n+i]=t[r+i];return e.g=Math.max(e.g,n+a),a},A:function(e,t,r){if(1===r?t+=e.position:2===r&&32768==(61440&e.node.mode)&&(t+=e.node.g),0>t)throw new Me(28);return t},$:function(e,t,r){he.ba(e.node,t+r),e.node.g=Math.max(e.node.g,t+r)},fa:function(e,t,r,a,n,i){if(w(0===t),32768!=(61440&e.node.mode))throw new Me(43);if(e=e.node.b,2&i||e.buffer!==z){for((0<a||a+r<e.length)&&(e=e.subarray?e.subarray(a,a+r):Array.prototype.slice.call(e,a,a+r)),a=!0,i=16384*Math.ceil(r/16384),t=pr(i);r<i;)k[t+r++]=0;if(!(r=t))throw new Me(48);k.set(e,r)}else a=!1,r=e.byteOffset;return{D:r,Qa:a}},ha:function(e,t,r,a,n){if(32768!=(61440&e.node.mode))throw new Me(43);return 2&n||he.f.write(e,t,0,a,r,!1),0}}},be=null,ge={},we=[],ye=1,ve=null,ze=!0,ke={},Me=null,Ae={};function xe(e,t){if(t=t||{},!(e=ue("/",e)))return{path:"",node:null};var r,a={ca:!0,Z:0};for(r in a)void 0===t[r]&&(t[r]=a[r]);if(8<t.Z)throw new Me(32);e=se(e.split("/").filter((function(e){return!!e})),!1);var n=be;for(a="/",r=0;r<e.length;r++){var i=r===e.length-1;if(i&&t.parent)break;if(n=Ee(n,e[r]),a=_e(a+"/"+e[r]),n.H&&(!i||i&&t.ca)&&(n=n.H.root),!i||t.V)for(i=0;40960==(61440&n.mode);)if(n=He(a),n=xe(a=ue(oe(a),n),{Z:t.Z}).node,40<i++)throw new Me(32)}return{path:a,node:n}}function Oe(e){for(var t;;){if(e===e.parent)return e=e.u.ga,t?"/"!==e[e.length-1]?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}}function Pe(e,t){for(var r=0,a=0;a<t.length;a++)r=(r<<5)-r+t.charCodeAt(a)|0;return(e+r>>>0)%ve.length}function Ee(e,t){var r;if(r=(r=Te(e,"x"))?r:e.c.G?0:2)throw new Me(r,e);for(r=ve[Pe(e.id,t)];r;r=r.B){var a=r.name;if(r.parent.id===e.id&&a===t)return r}return e.c.G(e,t)}function Le(e,t,r,a){return t=Pe((e=new sr(e,t,r,a)).parent.id,e.name),e.B=ve[t],ve[t]=e}var Fe={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090};function Se(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t}function Te(e,t){return ze||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2}function De(e,t){try{return Ee(e,t),20}catch(e){}return Te(e,"wx")}function Ie(e,t){$e||(($e=function(){}).prototype={});var r,a=new $e;for(r in e)a[r]=e[r];return e=a,t=function(e){for(e=e||0;e<=4096;e++)if(!we[e])return e;throw new Me(33)}(t),e.v=t,we[t]=e}var Ve,je={open:function(e){e.f=ge[e.node.I].f,e.f.open&&e.f.open(e)},A:function(){throw new Me(70)}};function Be(e,t){ge[e]={f:t}}function Re(e,t){var r="/"===t,a=!t;if(r&&be)throw new Me(10);if(!r&&!a){var n=xe(t,{ca:!1});if(t=n.path,(n=n.node).H)throw new Me(10);if(16384!=(61440&n.mode))throw new Me(54)}t={type:e,$a:{},ga:t,ya:[]},(e=e.u(t)).u=t,t.root=e,r?be=e:n&&(n.H=t,n.u&&n.u.ya.push(t))}function Ce(e,t,r){var a=xe(e,{parent:!0}).node;if(!(e=ce(e))||"."===e||".."===e)throw new Me(28);var n=De(a,e);if(n)throw new Me(n);if(!a.c.M)throw new Me(63);return a.c.M(a,e,t,r)}function Ue(e){Ce(e,16895,0)}function qe(e,t,r){void 0===r&&(r=t,t=438),Ce(e,8192|t,r)}function Ze(e,t){if(!ue(e))throw new Me(44);var r=xe(t,{parent:!0}).node;if(!r)throw new Me(44);var a=De(r,t=ce(t));if(a)throw new Me(a);if(!r.c.N)throw new Me(63);r.c.N(r,t,e)}function He(e){if(!(e=xe(e).node))throw new Me(44);if(!e.c.J)throw new Me(28);return ue(Oe(e.parent),e.c.J(e))}function We(e,t){if(!(e=xe(e,{V:!t}).node))throw new Me(44);if(!e.c.m)throw new Me(63);return e.c.m(e)}function Ne(e){return We(e,!0)}function Ye(e,t,r,n){if(""===e)throw new Me(44);if("string"==typeof t){var i=Fe[t];if(void 0===i)throw Error("Unknown file open mode: "+t);t=i}if(r=64&t?4095&(void 0===r?438:r)|32768:0,"object"==typeof e)var s=e;else{e=_e(e);try{s=xe(e,{V:!(131072&t)}).node}catch(e){}}if(i=!1,64&t)if(s){if(128&t)throw new Me(20)}else s=Ce(e,r,0),i=!0;if(!s)throw new Me(44);if(8192==(61440&s.mode)&&(t&=-513),65536&t&&16384!=(61440&s.mode))throw new Me(54);if(!i&&(r=s?40960==(61440&s.mode)?32:16384==(61440&s.mode)&&("r"!==Se(t)||512&t)?31:Te(s,Se(t)):44))throw new Me(r);if(512&t){var _;if(!(_="string"==typeof(r=s)?xe(r,{V:!0}).node:r).c.s)throw new Me(63);if(16384==(61440&_.mode))throw new Me(31);if(32768!=(61440&_.mode))throw new Me(28);if(r=Te(_,"w"))throw new Me(r);_.c.s(_,{size:0,timestamp:Date.now()})}t&=-131713,(n=Ie({node:s,path:Oe(s),flags:t,seekable:!0,position:0,f:s.f,Na:[],error:!1},n)).f.open&&n.f.open(n),!a.logReadFiles||1&t||(Qe||(Qe={}),e in Qe||(Qe[e]=1,h("FS.trackingDelegate error on read file: "+e)));try{ke.onOpenFile&&(s=0,1!=(2097155&t)&&(s|=1),0!=(2097155&t)&&(s|=2),ke.onOpenFile(e,s))}catch(t){h("FS.trackingDelegate[\'onOpenFile\'](\'"+e+"\', flags) threw an exception: "+t.message)}return n}function Ke(e,t,r){if(null===e.v)throw new Me(8);if(!e.seekable||!e.f.A)throw new Me(70);if(0!=r&&1!=r&&2!=r)throw new Me(28);e.position=e.f.A(e,t,r),e.Na=[]}function Ge(){Me||((Me=function(e,t){this.node=t,this.Da=function(e){this.i=e},this.Da(e),this.message="FS error"}).prototype=Error(),Me.prototype.constructor=Me,[44].forEach((function(e){Ae[e]=new Me(e),Ae[e].stack="<generic error, no stack>"})))}function Je(e,t,r){e=_e("/dev/"+e);var a=function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r}(!!t,!!r);Xe||(Xe=64);var n=Xe++<<8|0;Be(n,{open:function(e){e.seekable=!1},close:function(){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,r,a,n){for(var i=0,s=0;s<n;s++){try{var _=t()}catch(e){throw new Me(29)}if(void 0===_&&0===i)throw new Me(6);if(null==_)break;i++,r[a+s]=_}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,a,n){for(var i=0;i<n;i++)try{r(t[a+i])}catch(e){throw new Me(29)}return n&&(e.node.timestamp=Date.now()),i}}),qe(e,a,n)}var Xe,$e,Qe,et={};function tt(e,t,r){try{var a=e(t)}catch(e){if(e&&e.node&&_e(t)!==_e(Oe(e.node)))return-54;throw e}return O[r>>2]=a.qa,O[r+4>>2]=0,O[r+8>>2]=a.X,O[r+12>>2]=a.mode,O[r+16>>2]=a.Aa,O[r+20>>2]=a.uid,O[r+24>>2]=a.sa,O[r+28>>2]=a.I,O[r+32>>2]=0,ee=[a.size>>>0,(Q=a.size,1<=+Math.abs(Q)?0<Q?(0|Math.min(+Math.floor(Q/4294967296),4294967295))>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],O[r+40>>2]=ee[0],O[r+44>>2]=ee[1],O[r+48>>2]=4096,O[r+52>>2]=a.oa,O[r+56>>2]=a.ma.getTime()/1e3|0,O[r+60>>2]=0,O[r+64>>2]=a.za.getTime()/1e3|0,O[r+68>>2]=0,O[r+72>>2]=a.pa.getTime()/1e3|0,O[r+76>>2]=0,ee=[a.X>>>0,(Q=a.X,1<=+Math.abs(Q)?0<Q?(0|Math.min(+Math.floor(Q/4294967296),4294967295))>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],O[r+80>>2]=ee[0],O[r+84>>2]=ee[1],0}var rt=void 0;function at(){return O[(rt+=4)-4>>2]}function nt(e){if(!(e=we[e]))throw new Me(8);return e}var it,st,_t,ot=null,ct=0,ut=null,ft=0,pt=0,lt=0,dt=[],mt={},ht=!1,bt=!1,gt=[];function wt(){function e(){bt=document.pointerLockElement===a.canvas||document.mozPointerLockElement===a.canvas||document.webkitPointerLockElement===a.canvas||document.msPointerLockElement===a.canvas}if(a.preloadPlugins||(a.preloadPlugins=[]),!Et){Et=!0;try{Lt=!0}catch(e){Lt=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Ft="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:Lt?null:console.log("warning: no BlobBuilder"),St="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,a.ia||void 0!==St||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),a.ia=!0),a.preloadPlugins.push({canHandle:function(e){return!a.ia&&/\\.(jpg|jpeg|png|bmp)$/i.test(e)},handle:function(e,t,r,n){var i=null;if(Lt)try{(i=new Blob([e],{type:Pt(t)})).size!==e.length&&(i=new Blob([new Uint8Array(e).buffer],{type:Pt(t)}))}catch(e){!function(e){p||(p={}),p[e]||(p[e]=1,h(e))}("Blob constructor present but fails: "+e+"; falling back to blob builder")}i||((i=new Ft).append(new Uint8Array(e).buffer),i=i.getBlob());var s=St.createObjectURL(i),_=new Image;_.onload=function(){w(_.complete,"Image "+t+" could not be decoded");var n=document.createElement("canvas");n.width=_.width,n.height=_.height,n.getContext("2d").drawImage(_,0,0),a.preloadedImages[t]=n,St.revokeObjectURL(s),r&&r(e)},_.onerror=function(){console.log("Image "+s+" could not be decoded"),n&&n()},_.src=s}}),a.preloadPlugins.push({canHandle:function(e){return!a.Za&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,t,r,n){function i(n){_||(_=!0,a.preloadedAudios[t]=n,r&&r(e))}function s(){_||(_=!0,a.preloadedAudios[t]=new Audio,n&&n())}var _=!1;if(!Lt)return s();try{var o=new Blob([e],{type:Pt(t)})}catch(e){return s()}o=St.createObjectURL(o);var c=new Audio;c.addEventListener("canplaythrough",(function(){i(c)}),!1),c.onerror=function(){if(!_){console.log("warning: browser could not fully decode audio "+t+", trying slower base64 approach");for(var r="",a=0,n=0,s=0;s<e.length;s++)for(a=a<<8|e[s],n+=8;6<=n;){var o=a>>n-6&63;n-=6,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[o]}2==n?(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(3&a)<<4],r+="=="):4==n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(15&a)<<2],r+="="),c.src="data:audio/x-"+t.substr(-3)+";base64,"+r,i(c)}},c.src=o,Ot((function(){i(c)}),1e4)}});var t=a.canvas;t&&(t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock||t.msRequestPointerLock||function(){},t.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},t.exitPointerLock=t.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",e,!1),document.addEventListener("mozpointerlockchange",e,!1),document.addEventListener("webkitpointerlockchange",e,!1),document.addEventListener("mspointerlockchange",e,!1),a.elementPointerLock&&t.addEventListener("click",(function(e){!bt&&a.canvas.requestPointerLock&&(a.canvas.requestPointerLock(),e.preventDefault())}),!1))}}function yt(e,t,r,n){if(t&&a.U&&e==a.canvas)return a.U;var i;if(t){var s={antialias:!1,alpha:!1,xa:1};if(n)for(var _ in n)s[_]=n[_];if(void 0!==$t&&(i=function(e,t){if(e=e.getContext("webgl",t)){var r=Kt(Yt),a={Xa:r,attributes:t,version:t.xa,T:e};e.canvas&&(e.canvas.Pa=a),Yt[r]=a,(void 0===t.ra||t.ra)&&function(e){if(e||(e=Jt),!e.va){e.va=!0;var t=e.T;!function(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(e,r){t.vertexAttribDivisorANGLE(e,r)},e.drawArraysInstanced=function(e,r,a,n){t.drawArraysInstancedANGLE(e,r,a,n)},e.drawElementsInstanced=function(e,r,a,n,i){t.drawElementsInstancedANGLE(e,r,a,n,i)})}(t),function(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)})}(t),function(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(e,r){t.drawBuffersWEBGL(e,r)})}(t),t.Ta=t.getExtension("EXT_disjoint_timer_query"),t.Ya=t.getExtension("WEBGL_multi_draw"),(t.getSupportedExtensions()||[]).forEach((function(e){0>e.indexOf("lose_context")&&0>e.indexOf("debug")&&t.getExtension(e)}))}}(a),t=r}else t=0;return t}(e,s)))var o=Yt[i].T}else o=e.getContext("2d");return o?(r&&(t||w(void 0===nr,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),a.U=o,t&&(Jt=Yt[i],a.U=nr=Jt&&Jt.T),a.bb=t,gt.forEach((function(e){e()})),wt()),o):null}var vt=!1,zt=void 0,kt=void 0;function Mt(){return!!ht&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){}).apply(document,[]),!0)}var At=0;function xt(e){if("function"==typeof requestAnimationFrame)requestAnimationFrame(e);else{var t=Date.now();if(0===At)At=t+1e3/60;else for(;t+2>=At;)At+=1e3/60;setTimeout(e,Math.max(At-t,0))}}function Ot(e,t){d=!0,setTimeout((function(){g||e()}),t)}function Pt(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]}var Et,Lt,Ft,St,Tt=[];function Dt(){var e=a.canvas;Tt.forEach((function(t){t(e.width,e.height)}))}function It(e,t,r){t&&r?(e.Oa=t,e.ta=r):(t=e.Oa,r=e.ta);var n=t,i=r;if(a.forcedAspectRatio&&0<a.forcedAspectRatio&&(n/i<a.forcedAspectRatio?n=Math.round(i*a.forcedAspectRatio):i=Math.round(n/a.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var s=Math.min(screen.width/n,screen.height/i);n=Math.round(n*s),i=Math.round(i*s)}kt?(e.width!=n&&(e.width=n),e.height!=i&&(e.height=i),void 0!==e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=r&&(e.height=r),void 0!==e.style&&(n!=t||i!=r?(e.style.setProperty("width",n+"px","important"),e.style.setProperty("height",i+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}function Vt(){return!1}a._emscripten_is_main_browser_thread=Vt;var jt,Bt=[];function Rt(e,t){P[e>>2]=t,P[e+4>>2]=t/4294967296|0}function Ct(e,t,r,a,n){function i(t){var r=0,a=0;t&&(a=y.response?y.response.byteLength:0,r=pr(a),M.set(new Uint8Array(y.response),r)),P[e+12>>2]=r,Rt(e+16,a)}var s=P[e+8>>2];if(s){var _=T(s),o=e+112,c=T(o);c||(c="GET");var u=P[o+52>>2],f=P[o+56>>2],p=!!P[o+60>>2],l=P[o+68>>2],d=P[o+72>>2];s=P[o+76>>2];var m=P[o+80>>2],h=P[o+84>>2];o=P[o+88>>2];var b=!!(1&u),g=!!(2&u);u=!!(64&u),l=l?T(l):void 0,d=d?T(d):void 0;var w=m?T(m):void 0,y=new XMLHttpRequest;if(y.withCredentials=p,y.open(c,_,!u,l,d),u||(y.timeout=f),y.Ra=_,y.responseType="arraybuffer",m&&y.overrideMimeType(w),s)for(;(c=P[s>>2])&&(_=P[s+4>>2]);)s+=8,c=T(c),_=T(_),y.setRequestHeader(c,_);Bt.push(y),P[e+0>>2]=Bt.length,s=h&&o?M.slice(h,h+o):null,y.onload=function(a){i(b&&!g);var n=y.response?y.response.byteLength:0;Rt(e+24,0),n&&Rt(e+32,n),x[e+40>>1]=y.readyState,x[e+42>>1]=y.status,y.statusText&&D(y.statusText,M,e+44,64),200<=y.status&&300>y.status?t&&t(e,y,a):r&&r(e,y,a)},y.onerror=function(t){i(b);var a=y.status;Rt(e+24,0),Rt(e+32,y.response?y.response.byteLength:0),x[e+40>>1]=y.readyState,x[e+42>>1]=a,r&&r(e,y,t)},y.ontimeout=function(t){r&&r(e,y,t)},y.onprogress=function(t){var r=b&&g&&y.response?y.response.byteLength:0,n=0;b&&g&&(n=pr(r),M.set(new Uint8Array(y.response),n)),P[e+12>>2]=n,Rt(e+16,r),Rt(e+24,t.loaded-r),Rt(e+32,t.total),x[e+40>>1]=y.readyState,3<=y.readyState&&0===y.status&&0<t.loaded&&(y.status=200),x[e+42>>1]=y.status,y.statusText&&D(y.statusText,M,e+44,64),a&&a(e,y,t),n&&fr(n)},y.onreadystatechange=function(t){x[e+40>>1]=y.readyState,2<=y.readyState&&(x[e+42>>1]=y.status),n&&n(e,y,t)};try{y.send(s)}catch(t){r&&r(e,y,t)}}else r(e,0,"no url specified!")}function Ut(e,t,r,a){var n=jt;if(n){var i=P[e+112+64>>2];i||(i=P[e+8>>2]);var s=T(i);try{var _=n.transaction(["FILES"],"readwrite").objectStore("FILES").put(t,s);_.onsuccess=function(){x[e+40>>1]=4,x[e+42>>1]=200,D("OK",M,e+44,64),r(e,0,s)},_.onerror=function(t){x[e+40>>1]=4,x[e+42>>1]=413,D("Payload Too Large",M,e+44,64),a(e,0,t)}}catch(t){a(e,0,t)}}else a(e,0,"IndexedDB not available!")}var qt,Zt={};function Ht(){if(!qt){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:o||"./this.program"};for(e in Zt)t[e]=Zt[e];var r=[];for(e in t)r.push(e+"="+t[e]);qt=r}return qt}var Wt=1,Nt=[],Yt=[];function Kt(e){for(var t=Wt++,r=e.length;r<t;r++)e[r]=null;return t}var Gt,Jt,Xt,$t={};function Qt(e){return 0==e%4&&(0!=e%100||0==e%400)}function er(e,t){for(var r=0,a=0;a<=t;r+=e[a++]);return r}var tr=[31,29,31,30,31,30,31,31,30,31,30,31],rr=[31,28,31,30,31,30,31,31,30,31,30,31];function ar(e,t){for(e=new Date(e.getTime());0<t;){var r=e.getMonth(),a=(Qt(e.getFullYear())?tr:rr)[r];if(!(t>a-e.getDate())){e.setDate(e.getDate()+t);break}t-=a-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return e}var nr,ir=[];function sr(e,t,r,a){e||(e=this),this.parent=e,this.u=e.u,this.H=null,this.id=ye++,this.name=t,this.mode=r,this.c={},this.f={},this.I=a}function _r(e,t){var r=Array(I(e)+1);return e=D(e,r,0,r.length),t&&(r.length=e),r}Object.defineProperties(sr.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}}}),Ge(),ve=Array(4096),Re(he,"/"),Ue("/tmp"),Ue("/home"),Ue("/home/web_user"),function(){Ue("/dev"),Be(259,{read:function(){return 0},write:function(e,t,r,a){return a}}),qe("/dev/null",259),pe(1280,de),pe(1536,me),qe("/dev/tty",1280),qe("/dev/tty1",1536);var e=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){J("randomDevice")}}();Je("random",e),Je("urandom",e),Ue("/dev/shm"),Ue("/dev/shm/tmp")}(),Ue("/proc"),Ue("/proc/self"),Ue("/proc/self/fd"),Re({u:function(){var e=Le("/proc/self","fd",16895,73);return e.c={G:function(e,t){var r=we[+t];if(!r)throw new Me(8);return(e={parent:null,u:{ga:"fake"},c:{J:function(){return r.path}}}).parent=e}},e}},"/proc/self/fd"),a.requestFullscreen=function(e,t){!function(e,t){function r(){ht=!1;var e=n.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(n.exitFullscreen=Mt,zt&&n.requestPointerLock(),ht=!0,kt?("undefined"!=typeof SDL&&(O[SDL.screen>>2]=8388608|P[SDL.screen>>2]),It(a.canvas),Dt()):It(n)):(e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e),kt?("undefined"!=typeof SDL&&(O[SDL.screen>>2]=-8388609&P[SDL.screen>>2]),It(a.canvas),Dt()):It(n)),a.onFullScreen&&a.onFullScreen(ht),a.onFullscreen&&a.onFullscreen(ht)}void 0===(zt=e)&&(zt=!0),void 0===(kt=t)&&(kt=!1);var n=a.canvas;vt||(vt=!0,document.addEventListener("fullscreenchange",r,!1),document.addEventListener("mozfullscreenchange",r,!1),document.addEventListener("webkitfullscreenchange",r,!1),document.addEventListener("MSFullscreenChange",r,!1));var i=document.createElement("div");n.parentNode.insertBefore(i,n),i.appendChild(n),i.requestFullscreen=i.requestFullscreen||i.mozRequestFullScreen||i.msRequestFullscreen||(i.webkitRequestFullscreen?function(){i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(i.webkitRequestFullScreen?function(){i.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),i.requestFullscreen()}(e,t)},a.requestAnimationFrame=function(e){xt(e)},a.setCanvasSize=function(e,t,r){It(a.canvas,e,t),r||Dt()},a.pauseMainLoop=function(){ot=null,ct++},a.resumeMainLoop=function(){ct++;var t=ft,r=pt,n=ut;ut=null,function(e){d=!0,w(!ut,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),ut=e;var t=ct;st=function(){if(!g)if(0<dt.length){var r=Date.now(),n=dt.shift();if(n.da(n.L),_t){var i=_t,s=0==i%1?i-1:Math.floor(i);_t=n.Sa?s:(8*i+(s+.5))/9}console.log(\'main loop blocker "\'+n.name+\'" took \'+(Date.now()-r)+" ms"),a.setStatus&&(r=a.statusMessage||"Please wait...",n=_t,i=mt.Ua,n?n<i?a.setStatus(r+" ("+(i-n)+"/"+i+")"):a.setStatus(r):a.setStatus("")),t<ct||setTimeout(st,0)}else if(!(t<ct))if(lt=lt+1|0,1==ft&&1<pt&&0!=lt%pt)ot();else{0==ft&&(it=te());e:if(!(g||a.preMainLoop&&!1===a.preMainLoop())){try{e()}catch(e){if(e instanceof vr||"unwind"==e)break e;throw e&&"object"==typeof e&&e.stack&&h("exception thrown: "+[e,e.stack]),e}a.postMainLoop&&a.postMainLoop()}t<ct||("object"==typeof SDL&&SDL.audio&&SDL.audio.Ba&&SDL.audio.Ba(),ot())}}}(n),function(t,r){if(ft=t,pt=r,ut)if(0==t)ot=function(){var e=0|Math.max(0,it+r-te());setTimeout(st,e)};else if(1==t)ot=function(){xt(st)};else if(2==t){if(void 0===e){var n=[];addEventListener("message",(function(e){"setimmediate"!==e.data&&"setimmediate"!==e.data.target||(e.stopPropagation(),n.shift()())}),!0),e=function(e){n.push(e),void 0===a.setImmediates&&(a.setImmediates=[]),a.setImmediates.push(e),postMessage({target:"setimmediate"})}}ot=function(){e(st)}}}(t,r),ot()},a.getUserMedia=function(){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(void 0)},a.createContext=function(e,t,r,a){return yt(e,t,r,a)},function(e,t){try{var r=indexedDB.open("emscripten_filesystem",1)}catch(e){return void t()}r.onupgradeneeded=function(e){(e=e.target.result).objectStoreNames.contains("FILES")&&e.deleteObjectStore("FILES"),e.createObjectStore("FILES")},r.onsuccess=function(e){!function(e){jt=e,G()}(e.target.result)},r.onerror=function(e){t()}}(0,(function(){jt=!1,G()})),"undefined"!=typeof ENVIRONMENT_IS_FETCH_WORKER&&ENVIRONMENT_IS_FETCH_WORKER||K(),U.push({da:function(){ur()}});var or={__clock_gettime:function(e,t){return ne(e,t)},__cxa_allocate_exception:function(e){return pr(e+16)+16},__cxa_atexit:function(){},__cxa_throw:function(e,t,r){throw new ie(e).ua(t,r),e},__sys_fcntl64:function(e,t,r){rt=r;try{var a=nt(e);switch(t){case 0:var n=at();return 0>n?-28:Ye(a.path,a.flags,0,n).v;case 1:case 2:return 0;case 3:return a.flags;case 4:return n=at(),a.flags|=n,0;case 12:return n=at(),A[n+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return O[lr()>>2]=28,-1;default:return-28}}catch(e){return void 0!==et&&e instanceof Me||J(e),-e.i}},__sys_getpid:function(){return 42},__sys_ioctl:function(e,t,r){rt=r;try{var a=nt(e);switch(t){case 21509:case 21505:return a.h?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return a.h?0:-59;case 21519:if(!a.h)return-59;var n=at();return O[n>>2]=0;case 21520:return a.h?-28:-59;case 21531:if(e=n=at(),!a.f.wa)throw new Me(59);return a.f.wa(a,t,e);case 21523:case 21524:return a.h?0:-59;default:J("bad ioctl syscall "+t)}}catch(e){return void 0!==et&&e instanceof Me||J(e),-e.i}},__sys_lstat64:function(e,t){try{return tt(Ne,e=T(e),t)}catch(e){return void 0!==et&&e instanceof Me||J(e),-e.i}},__sys_open:function(e,t,r){rt=r;try{return Ye(T(e),t,r?at():0).v}catch(e){return void 0!==et&&e instanceof Me||J(e),-e.i}},__sys_stat64:function(e,t){try{return tt(We,e=T(e),t)}catch(e){return void 0!==et&&e instanceof Me||J(e),-e.i}},__sys_symlink:function(e,t){try{return Ze(e=T(e),t=T(t)),0}catch(e){return void 0!==et&&e instanceof Me||J(e),-e.i}},__sys_uname:function(e){try{if(!e)return-21;var t={__size__:390,domainname:325,machine:260,nodename:65,release:130,sysname:0,version:195};return j("Emscripten",e+t.sysname),j("emscripten",e+t.nodename),j("1.0",e+t.release),j("#1",e+t.version),j("x86-JS",e+t.machine),0}catch(e){return void 0!==et&&e instanceof Me||J(e),-e.i}},__sys_unlink:function(e){try{var t=xe(e=T(e),{parent:!0}).node,r=ce(e),a=Ee(t,r);e:{try{var n=Ee(t,r)}catch(e){var i=e.i;break e}var s=Te(t,"wx");i=s||(16384==(61440&n.mode)?31:0)}if(i)throw new Me(i);if(!t.c.S)throw new Me(63);if(a.H)throw new Me(10);try{ke.willDeletePath&&ke.willDeletePath(e)}catch(t){h("FS.trackingDelegate[\'willDeletePath\'](\'"+e+"\') threw an exception: "+t.message)}t.c.S(t,r);var _=Pe(a.parent.id,a.name);if(ve[_]===a)ve[_]=a.B;else for(var o=ve[_];o;){if(o.B===a){o.B=a.B;break}o=o.B}try{ke.onDeletePath&&ke.onDeletePath(e)}catch(t){h("FS.trackingDelegate[\'onDeletePath\'](\'"+e+"\') threw an exception: "+t.message)}return 0}catch(e){return void 0!==et&&e instanceof Me||J(e),-e.i}},_emscripten_fetch_free:function(e){delete Bt[e-1]},abort:function(){J()},clock_gettime:ne,emidentity:function(){var e=new URL(location.origin).hostname;if(0===e.length&&(e=new URL(location.href.replace("blob:","")).hostname),/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e))0===e.indexOf("10.")&&(e="10.*"),0===e.indexOf("192.168.")&&(e="192.168.*"),0===e.indexOf("172.")&&(e="172.*"),0===e.indexOf("127.")&&(e="127.*");else{var t=new RegExp("("+String.fromCharCode(92)+".ngrok"+String.fromCharCode(92)+".io)$","i");t.test(e)&&(e="*.ngrok.io"),(t=new RegExp("("+String.fromCharCode(92)+".arweb"+String.fromCharCode(92)+".app)$","i")).test(e)&&(e="*.arweb.app")}t=I(e)+1;var r=pr(t);return D(e,M,r,t+1),r},emlicerr:function(){self.postMessage({t:"licerr"})},emscripten_asm_const_int:function(e,t,r){var a;for(ir.length=0,r>>=2;a=M[t++];)(a=105>a)&&1&r&&r++,ir.push(a?L[r++>>1]:O[r]),++r;return re[e].apply(null,ir)},emscripten_async_call:function(e,t,r){function a(){R.get(e)(t)}d=!0,0<=r?Ot(a,r):function(e){xt((function(){g||e()}))}(a)},emscripten_is_main_browser_thread:Vt,emscripten_memcpy_big:function(e,t,r){M.copyWithin(e,t,t+r)},emscripten_resize_heap:function(e){e>>>=0;var t=M.length;if(2147483648<e)return!1;for(var r=1;4>=r;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296),0<(a=Math.max(16777216,e,a))%65536&&(a+=65536-a%65536);e:{try{b.grow(Math.min(2147483648,a)-z.byteLength+65535>>>16),B();var n=1;break e}catch(e){}n=void 0}if(n)return!0}return!1},emscripten_start_fetch:function(e,t,r,a,n){function i(e,r){Ut(e,r.response,(function(e){p?R.get(p)(e):t&&t(e)}),(function(e){p?R.get(p)(e):t&&t(e)}))}function s(e){h?R.get(h)(e):n&&n(e)}function _(e){l?R.get(l)(e):r&&r(e)}function o(e){m?R.get(m)(e):a&&a(e)}function c(e){p?R.get(p)(e):t&&t(e)}void 0!==d&&(d=!0);var u=e+112,f=T(u),p=P[u+36>>2],l=P[u+40>>2],m=P[u+44>>2],h=P[u+48>>2],b=P[u+52>>2],g=!!(4&b),w=!!(32&b);if(b=!!(16&b),"EM_IDB_STORE"===f)f=P[u+84>>2],Ut(e,M.slice(f,f+P[u+88>>2]),c,_);else if("EM_IDB_DELETE"===f)!function(e,t,r){var a=jt;if(a){var n=P[e+112+64>>2];n||(n=P[e+8>>2]),n=T(n);try{var i=a.transaction(["FILES"],"readwrite").objectStore("FILES").delete(n);i.onsuccess=function(r){r=r.target.result,P[e+12>>2]=0,Rt(e+16,0),Rt(e+24,0),Rt(e+32,0),x[e+40>>1]=4,x[e+42>>1]=200,D("OK",M,e+44,64),t(e,0,r)},i.onerror=function(t){x[e+40>>1]=4,x[e+42>>1]=404,D("Not Found",M,e+44,64),r(e,0,t)}}catch(t){r(e,0,t)}}else r(e,0,"IndexedDB not available!")}(e,c,_);else if(b){if(w)return 0;Ct(e,g?i:c,_,o,s)}else!function(e,t,r){var a=jt;if(a){var n=P[e+112+64>>2];n||(n=P[e+8>>2]),n=T(n);try{var i=a.transaction(["FILES"],"readonly").objectStore("FILES").get(n);i.onsuccess=function(a){if(a.target.result){var n=(a=a.target.result).byteLength||a.length,i=pr(n);M.set(new Uint8Array(a),i),P[e+12>>2]=i,Rt(e+16,n),Rt(e+24,0),Rt(e+32,n),x[e+40>>1]=4,x[e+42>>1]=200,D("OK",M,e+44,64),t(e,0,a)}else x[e+40>>1]=4,x[e+42>>1]=404,D("Not Found",M,e+44,64),r(e,0,"no data")},i.onerror=function(t){x[e+40>>1]=4,x[e+42>>1]=404,D("Not Found",M,e+44,64),r(e,0,t)}}catch(t){r(e,0,t)}}else r(e,0,"IndexedDB not available!")}(e,c,w?_:g?function(e){Ct(e,i,_,o,s)}:function(e){Ct(e,c,_,o,s)});return e},emscripten_thread_sleep:function(e){for(var t=te();te()-t<e;);},environ_get:function(e,t){try{var r=0;return Ht().forEach((function(a,n){var i=t+r;O[e+4*n>>2]=i,j(a,i),r+=a.length+1})),0}catch(e){return void 0!==et&&e instanceof Me||J(e),e.i}},environ_sizes_get:function(e,t){try{var r=Ht();O[e>>2]=r.length;var a=0;return r.forEach((function(e){a+=e.length+1})),O[t>>2]=a,0}catch(e){return void 0!==et&&e instanceof Me||J(e),e.i}},exit:function(e){d||(a.onExit&&a.onExit(e),g=!0),c(e,new vr(e))},fd_close:function(e){try{var t=nt(e);if(null===t.v)throw new Me(8);t.W&&(t.W=null);try{t.f.close&&t.f.close(t)}catch(e){throw e}finally{we[t.v]=null}return t.v=null,0}catch(e){return void 0!==et&&e instanceof Me||J(e),e.i}},fd_read:function(e,t,r,a){try{e:{for(var n=nt(e),i=e=0;i<r;i++){var s=O[t+(8*i+4)>>2],_=n,o=O[t+8*i>>2],c=s,u=void 0,f=k;if(0>c||0>u)throw new Me(28);if(null===_.v)throw new Me(8);if(1==(2097155&_.flags))throw new Me(8);if(16384==(61440&_.node.mode))throw new Me(31);if(!_.f.read)throw new Me(28);var p=void 0!==u;if(p){if(!_.seekable)throw new Me(70)}else u=_.position;var l=_.f.read(_,f,o,c,u);p||(_.position+=l);var d=l;if(0>d){var m=-1;break e}if(e+=d,d<s)break}m=e}return O[a>>2]=m,0}catch(e){return void 0!==et&&e instanceof Me||J(e),e.i}},fd_seek:function(e,t,r,a,n){try{var i=nt(e);return-9007199254740992>=(e=4294967296*r+(t>>>0))||9007199254740992<=e?-61:(Ke(i,e,a),ee=[i.position>>>0,(Q=i.position,1<=+Math.abs(Q)?0<Q?(0|Math.min(+Math.floor(Q/4294967296),4294967295))>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],O[n>>2]=ee[0],O[n+4>>2]=ee[1],i.W&&0===e&&0===a&&(i.W=null),0)}catch(e){return void 0!==et&&e instanceof Me||J(e),e.i}},fd_write:function(e,t,r,a){try{e:{for(var n=nt(e),i=e=0;i<r;i++){var s=n,_=O[t+8*i>>2],o=O[t+(8*i+4)>>2],c=void 0,u=k;if(0>o||0>c)throw new Me(28);if(null===s.v)throw new Me(8);if(0==(2097155&s.flags))throw new Me(8);if(16384==(61440&s.node.mode))throw new Me(31);if(!s.f.write)throw new Me(28);s.seekable&&1024&s.flags&&Ke(s,0,2);var f=void 0!==c;if(f){if(!s.seekable)throw new Me(70)}else c=s.position;var p=s.f.write(s,u,_,o,c,void 0);f||(s.position+=p);try{s.path&&ke.onWriteToFile&&ke.onWriteToFile(s.path)}catch(e){h("FS.trackingDelegate[\'onWriteToFile\'](\'"+s.path+"\') threw an exception: "+e.message)}var l=p;if(0>l){var d=-1;break e}e+=l}d=e}return O[a>>2]=d,0}catch(e){return void 0!==et&&e instanceof Me||J(e),e.i}},gettimeofday:function(e){var t=Date.now();return O[e>>2]=t/1e3|0,O[e+4>>2]=t%1e3*1e3|0,0},glBindTexture:function(e,t){nr.bindTexture(e,Nt[t])},glGenTextures:function(e,t){for(var r=0;r<e;r++){var a=nr.createTexture(),n=a&&Kt(Nt);a?(a.name=n,Nt[n]=a):Gt||(Gt=1282),O[t+4*r>>2]=n}},glTexImage2D:function(e,t,r,a,n,i,s,_,o){nr.texImage2D(e,t,r,a,n,i,s,_,o?function(e,t,r,a,n){e=1==(e-=5120)?M:4==e?O:6==e?E:5==e||28922==e?P:x;var i=31-Math.clz32(e.BYTES_PER_ELEMENT);return e.subarray(n>>i,n+a*(r*({5:3,6:4,8:2,29502:3,29504:4}[t-6402]||1)*(1<<i)+4-1&-4)>>i)}(_,s,a,n,o):null)},glTexParameteri:function(e,t,r){nr.texParameteri(e,t,r)},localtime_r:function(e,t){!function(){function e(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}if(!Xt){Xt=!0;var t=(new Date).getFullYear(),r=new Date(t,0,1),a=new Date(t,6,1);t=r.getTimezoneOffset();var n=a.getTimezoneOffset(),i=Math.max(t,n);O[hr()>>2]=60*i,O[mr()>>2]=Number(t!=n),r=e(r),a=e(a),r=V(r),a=V(a),n<t?(O[dr()>>2]=r,O[dr()+4>>2]=a):(O[dr()>>2]=a,O[dr()+4>>2]=r)}}(),e=new Date(1e3*O[e>>2]),O[t>>2]=e.getSeconds(),O[t+4>>2]=e.getMinutes(),O[t+8>>2]=e.getHours(),O[t+12>>2]=e.getDate(),O[t+16>>2]=e.getMonth(),O[t+20>>2]=e.getFullYear()-1900,O[t+24>>2]=e.getDay();var r=new Date(e.getFullYear(),0,1);O[t+28>>2]=(e.getTime()-r.getTime())/864e5|0,O[t+36>>2]=-60*e.getTimezoneOffset();var a=new Date(e.getFullYear(),6,1).getTimezoneOffset();return e=0|(a!=(r=r.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(r,a)),O[t+32>>2]=e,e=O[dr()+(e?4:0)>>2],O[t+40>>2]=e,t},pthread_create:function(){return 6},pthread_join:function(){return 28},setTempRet0:function(){},strftime_l:function(e,t,r,a){return function(e,t,r,a){function n(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function i(e,t){return n(e,t,"0")}function s(e,t){function r(e){return 0>e?-1:0<e?1:0}var a;return 0===(a=r(e.getFullYear()-t.getFullYear()))&&0===(a=r(e.getMonth()-t.getMonth()))&&(a=r(e.getDate()-t.getDate())),a}function _(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function o(e){e=ar(new Date(e.l+1900,0,1),e.R);var t=new Date(e.getFullYear()+1,0,4),r=_(new Date(e.getFullYear(),0,4));return t=_(t),0>=s(r,e)?0>=s(t,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=O[a+40>>2];for(var u in a={La:O[a>>2],Ka:O[a+4>>2],O:O[a+8>>2],K:O[a+12>>2],F:O[a+16>>2],l:O[a+20>>2],P:O[a+24>>2],R:O[a+28>>2],ab:O[a+32>>2],Ja:O[a+36>>2],Ma:c?T(c):""},r=T(r),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(u,"g"),c[u]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(u in c={"%a":function(e){return f[e.P].substring(0,3)},"%A":function(e){return f[e.P]},"%b":function(e){return p[e.F].substring(0,3)},"%B":function(e){return p[e.F]},"%C":function(e){return i((e.l+1900)/100|0,2)},"%d":function(e){return i(e.K,2)},"%e":function(e){return n(e.K,2," ")},"%g":function(e){return o(e).toString().substring(2)},"%G":function(e){return o(e)},"%H":function(e){return i(e.O,2)},"%I":function(e){return 0==(e=e.O)?e=12:12<e&&(e-=12),i(e,2)},"%j":function(e){return i(e.K+er(Qt(e.l+1900)?tr:rr,e.F-1),3)},"%m":function(e){return i(e.F+1,2)},"%M":function(e){return i(e.Ka,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.O&&12>e.O?"AM":"PM"},"%S":function(e){return i(e.La,2)},"%t":function(){return"\\t"},"%u":function(e){return e.P||7},"%U":function(e){var t=new Date(e.l+1900,0,1),r=0===t.getDay()?t:ar(t,7-t.getDay());return 0>s(r,e=new Date(e.l+1900,e.F,e.K))?i(Math.ceil((31-r.getDate()+(er(Qt(e.getFullYear())?tr:rr,e.getMonth()-1)-31)+e.getDate())/7),2):0===s(r,t)?"01":"00"},"%V":function(e){var t=new Date(e.l+1901,0,4),r=_(new Date(e.l+1900,0,4));t=_(t);var a=ar(new Date(e.l+1900,0,1),e.R);return 0>s(a,r)?"53":0>=s(t,a)?"01":i(Math.ceil((r.getFullYear()<e.l+1900?e.R+32-r.getDate():e.R+1-r.getDate())/7),2)},"%w":function(e){return e.P},"%W":function(e){var t=new Date(e.l,0,1),r=1===t.getDay()?t:ar(t,0===t.getDay()?1:7-t.getDay()+1);return 0>s(r,e=new Date(e.l+1900,e.F,e.K))?i(Math.ceil((31-r.getDate()+(er(Qt(e.getFullYear())?tr:rr,e.getMonth()-1)-31)+e.getDate())/7),2):0===s(r,t)?"01":"00"},"%y":function(e){return(e.l+1900).toString().substring(2)},"%Y":function(e){return e.l+1900},"%z":function(e){var t=0<=(e=e.Ja);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Ma},"%%":function(){return"%"}})0<=r.indexOf(u)&&(r=r.replace(new RegExp(u,"g"),c[u](a)));return(u=_r(r,!1)).length>t?0:(k.set(u,e),u.length-1)}(e,t,r,a)},sysconf:function(e){switch(e){case 30:return 16384;case 85:return 131072;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:case 79:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return O[lr()>>2]=28,-1},time:function(e){var t=Date.now()/1e3|0;return e&&(O[e>>2]=t),t}},cr=function(){function e(e){a.asm=e.exports,b=a.asm.memory,B(),R=a.asm.__indirect_function_table,G()}var t={env:or,wasi_snapshot_preview1:or};if(K(),a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(e){return h("Module.instantiateWasm callback failed with error: "+e),!1}return t=function(e){var t=X;try{e:{try{if(t==X&&l){var r=new Uint8Array(l);break e}if(u){r=u(t);break e}throw"sync fetching of the wasm failed: you can preload it to Module[\'wasmBinary\'] manually, or emcc.py will do that for you when generating HTML (but not JS)"}catch(e){J(e)}r=void 0}var a=new WebAssembly.Module(r),n=new WebAssembly.Instance(a,e)}catch(t){throw e=t.toString(),h("failed to compile wasm module: "+e),(0<=e.indexOf("imported Memory")||0<=e.indexOf("memory import"))&&h("Memory size incompatibility issues may be due to changing INITIAL_MEMORY at runtime to something too large. Use ALLOW_MEMORY_GROWTH to allow any size memory (and also make sure not to set INITIAL_MEMORY at runtime to something smaller than it was at compile time)."),t}return[n,a]}(t),e(t[0],t[1]),a.asm}(),ur=a.___wasm_call_ctors=cr.__wasm_call_ctors;a._zappar_has_initialized=cr.zappar_has_initialized,a._zappar_invert=cr.zappar_invert,a._zappar_loaded=cr.zappar_loaded,a._zappar_pipeline_create=cr.zappar_pipeline_create,a._zappar_pipeline_destroy=cr.zappar_pipeline_destroy,a._zappar_pipeline_camera_frame_submit=cr.zappar_pipeline_camera_frame_submit,a._zappar_pipeline_frame_update=cr.zappar_pipeline_frame_update,a._zappar_pipeline_camera_frame_user_data=cr.zappar_pipeline_camera_frame_user_data,a._zappar_pipeline_camera_model=cr.zappar_pipeline_camera_model,a._zappar_pipeline_frame_number=cr.zappar_pipeline_frame_number,a._zappar_pipeline_motion_accelerometer_submit=cr.zappar_pipeline_motion_accelerometer_submit,a._zappar_pipeline_motion_rotation_rate_submit=cr.zappar_pipeline_motion_rotation_rate_submit,a._zappar_pipeline_motion_attitude_submit=cr.zappar_pipeline_motion_attitude_submit,a._zappar_pipeline_motion_attitude_matrix_submit=cr.zappar_pipeline_motion_attitude_matrix_submit,a._zappar_pipeline_camera_frame_user_facing=cr.zappar_pipeline_camera_frame_user_facing,a._zappar_pipeline_camera_frame_texture_matrix=cr.zappar_pipeline_camera_frame_texture_matrix,a._zappar_pipeline_camera_pose_with_attitude=cr.zappar_pipeline_camera_pose_with_attitude,a._zappar_pipeline_camera_pose_with_origin=cr.zappar_pipeline_camera_pose_with_origin,a._zappar_pipeline_camera_frame_camera_attitude=cr.zappar_pipeline_camera_frame_camera_attitude,a._zappar_pipeline_camera_frame_device_attitude=cr.zappar_pipeline_camera_frame_device_attitude,a._zappar_pipeline_camera_frame_texture_gl=cr.zappar_pipeline_camera_frame_texture_gl,a._zappar_pipeline_camera_frame_upload_gl=cr.zappar_pipeline_camera_frame_upload_gl,a._zappar_pipeline_sequence_record_start=cr.zappar_pipeline_sequence_record_start,a._zappar_pipeline_sequence_record_stop=cr.zappar_pipeline_sequence_record_stop,a._zappar_pipeline_sequence_record_clear=cr.zappar_pipeline_sequence_record_clear,a._zappar_pipeline_sequence_record_device_attitude_matrices_set=cr.zappar_pipeline_sequence_record_device_attitude_matrices_set,a._zappar_pipeline_sequence_record_data_size=cr.zappar_pipeline_sequence_record_data_size,a._zappar_pipeline_sequence_record_data=cr.zappar_pipeline_sequence_record_data,a._zappar_pipeline_process_gl=cr.zappar_pipeline_process_gl,a._zappar_pipeline_camera_pose_default=cr.zappar_pipeline_camera_pose_default,a._zappar_instant_world_tracker_create=cr.zappar_instant_world_tracker_create,a._zappar_instant_world_tracker_destroy=cr.zappar_instant_world_tracker_destroy,a._zappar_instant_world_tracker_anchor_pose_set_from_camera_offset_raw=cr.zappar_instant_world_tracker_anchor_pose_set_from_camera_offset_raw,a._zappar_instant_world_tracker_anchor_pose_raw=cr.zappar_instant_world_tracker_anchor_pose_raw,a._zappar_instant_world_tracker_enabled_set=cr.zappar_instant_world_tracker_enabled_set,a._zappar_instant_world_tracker_enabled=cr.zappar_instant_world_tracker_enabled,a._zappar_image_tracker_create=cr.zappar_image_tracker_create,a._zappar_image_tracker_destroy=cr.zappar_image_tracker_destroy,a._zappar_image_tracker_target_load_from_memory=cr.zappar_image_tracker_target_load_from_memory,a.__Z42zappar_image_tracker_target_load_from_fileP23zappar_image_tracker_tiPKc=cr._Z42zappar_image_tracker_target_load_from_fileP23zappar_image_tracker_tiPKc;var fr=a._free=cr.free;a._zappar_image_tracker_anchor_count=cr.zappar_image_tracker_anchor_count,a._zappar_image_tracker_anchor_id=cr.zappar_image_tracker_anchor_id,a._zappar_image_tracker_anchor_pose_raw=cr.zappar_image_tracker_anchor_pose_raw,a._zappar_image_tracker_enabled_set=cr.zappar_image_tracker_enabled_set,a._zappar_image_tracker_enabled=cr.zappar_image_tracker_enabled,a._zappar_image_tracker_target_loaded_version=cr.zappar_image_tracker_target_loaded_version,a._zappar_image_tracker_target_count=cr.zappar_image_tracker_target_count,a.__Z46zappar_image_tracker_target_preview_compressedP23zappar_image_tracker_tii=cr._Z46zappar_image_tracker_target_preview_compressedP23zappar_image_tracker_tii,a.__Z51zappar_image_tracker_target_preview_compressed_sizeP23zappar_image_tracker_tii=cr._Z51zappar_image_tracker_target_preview_compressed_sizeP23zappar_image_tracker_tii,a.__Z55zappar_image_tracker_target_preview_compressed_mimetypeP23zappar_image_tracker_tii=cr._Z55zappar_image_tracker_target_preview_compressed_mimetypeP23zappar_image_tracker_tii,a.__Z40zappar_image_tracker_target_preview_rgbaP23zappar_image_tracker_tii=cr._Z40zappar_image_tracker_target_preview_rgbaP23zappar_image_tracker_tii,a.__Z45zappar_image_tracker_target_preview_rgba_sizeP23zappar_image_tracker_tii=cr._Z45zappar_image_tracker_target_preview_rgba_sizeP23zappar_image_tracker_tii,a.__Z46zappar_image_tracker_target_preview_rgba_widthP23zappar_image_tracker_tii=cr._Z46zappar_image_tracker_target_preview_rgba_widthP23zappar_image_tracker_tii,a.__Z47zappar_image_tracker_target_preview_rgba_heightP23zappar_image_tracker_tii=cr._Z47zappar_image_tracker_target_preview_rgba_heightP23zappar_image_tracker_tii,a._zappar_face_tracker_create=cr.zappar_face_tracker_create,a._zappar_face_tracker_destroy=cr.zappar_face_tracker_destroy,a._zappar_face_tracker_model_load_from_memory=cr.zappar_face_tracker_model_load_from_memory,a._zappar_face_tracker_anchor_count=cr.zappar_face_tracker_anchor_count,a._zappar_face_tracker_anchor_id=cr.zappar_face_tracker_anchor_id,a._zappar_face_tracker_anchor_pose_raw=cr.zappar_face_tracker_anchor_pose_raw,a._zappar_face_tracker_anchor_identity_coefficients=cr.zappar_face_tracker_anchor_identity_coefficients,a._zappar_face_tracker_anchor_expression_coefficients=cr.zappar_face_tracker_anchor_expression_coefficients,a._zappar_face_tracker_enabled_set=cr.zappar_face_tracker_enabled_set,a._zappar_face_tracker_enabled=cr.zappar_face_tracker_enabled,a._zappar_face_tracker_max_faces_set=cr.zappar_face_tracker_max_faces_set,a._zappar_face_tracker_max_faces=cr.zappar_face_tracker_max_faces,a._zappar_face_tracker_model_loaded_version=cr.zappar_face_tracker_model_loaded_version,a._zappar_face_landmark_create=cr.zappar_face_landmark_create,a._zappar_face_landmark_destroy=cr.zappar_face_landmark_destroy,a.__Z27zappar_face_landmark_updateP23zappar_face_landmark_tiPKfS2_i=cr._Z27zappar_face_landmark_updateP23zappar_face_landmark_tiPKfS2_i,a._zappar_face_landmark_anchor_pose=cr.zappar_face_landmark_anchor_pose,a._zappar_barcode_finder_create=cr.zappar_barcode_finder_create,a._zappar_barcode_finder_destroy=cr.zappar_barcode_finder_destroy,a._zappar_barcode_finder_found_number=cr.zappar_barcode_finder_found_number,a._zappar_barcode_finder_found_text=cr.zappar_barcode_finder_found_text,a._zappar_barcode_finder_enabled_set=cr.zappar_barcode_finder_enabled_set,a._zappar_barcode_finder_enabled=cr.zappar_barcode_finder_enabled,a._zappar_barcode_finder_found_format=cr.zappar_barcode_finder_found_format,a._zappar_barcode_finder_formats=cr.zappar_barcode_finder_formats,a._zappar_barcode_finder_formats_set=cr.zappar_barcode_finder_formats_set;var pr=a._malloc=cr.malloc;a._zappar_face_mesh_create=cr.zappar_face_mesh_create,a._zappar_face_mesh_destroy=cr.zappar_face_mesh_destroy,a.__Z33zappar_face_mesh_load_from_memoryP19zappar_face_mesh_tiPKciiiii=cr._Z33zappar_face_mesh_load_from_memoryP19zappar_face_mesh_tiPKciiiii,a.__Z29zappar_face_mesh_indices_sizeP19zappar_face_mesh_ti=cr._Z29zappar_face_mesh_indices_sizeP19zappar_face_mesh_ti,a.__Z25zappar_face_mesh_uvs_sizeP19zappar_face_mesh_ti=cr._Z25zappar_face_mesh_uvs_sizeP19zappar_face_mesh_ti,a.__Z30zappar_face_mesh_vertices_sizeP19zappar_face_mesh_ti=cr._Z30zappar_face_mesh_vertices_sizeP19zappar_face_mesh_ti,a.__Z31zappar_face_mesh_loaded_versionP19zappar_face_mesh_ti=cr._Z31zappar_face_mesh_loaded_versionP19zappar_face_mesh_ti,a.__Z25zappar_face_mesh_verticesP19zappar_face_mesh_ti=cr._Z25zappar_face_mesh_verticesP19zappar_face_mesh_ti,a.__Z20zappar_face_mesh_uvsP19zappar_face_mesh_ti=cr._Z20zappar_face_mesh_uvsP19zappar_face_mesh_ti,a.__Z24zappar_face_mesh_indicesP19zappar_face_mesh_ti=cr._Z24zappar_face_mesh_indicesP19zappar_face_mesh_ti,a.__Z23zappar_face_mesh_updateP19zappar_face_mesh_tiPKfS2_i=cr._Z23zappar_face_mesh_updateP19zappar_face_mesh_tiPKfS2_i,a.__Z29zappar_face_mesh_normals_sizeP19zappar_face_mesh_ti=cr._Z29zappar_face_mesh_normals_sizeP19zappar_face_mesh_ti,a.__Z24zappar_face_mesh_normalsP19zappar_face_mesh_ti=cr._Z24zappar_face_mesh_normalsP19zappar_face_mesh_ti,a._zappar_camera_source_create=cr.zappar_camera_source_create,a._zappar_camera_source_destroy=cr.zappar_camera_source_destroy,a._zappar_camera_source_start=cr.zappar_camera_source_start,a._zappar_camera_source_pause=cr.zappar_camera_source_pause,a._zappar_camera_default_device_id=cr.zappar_camera_default_device_id,a._zappar_sequence_source_create=cr.zappar_sequence_source_create,a.__Z28zappar_sequence_source_startP25zappar_sequence_source_ti=cr._Z28zappar_sequence_source_startP25zappar_sequence_source_ti,a.__Z39zappar_sequence_source_load_from_memoryP25zappar_sequence_source_tiPKci=cr._Z39zappar_sequence_source_load_from_memoryP25zappar_sequence_source_tiPKci,a.__Z28zappar_sequence_source_pauseP25zappar_sequence_source_ti=cr._Z28zappar_sequence_source_pauseP25zappar_sequence_source_ti,a._zappar_sequence_source_destroy=cr.zappar_sequence_source_destroy,a._zappar_log_level_set=cr.zappar_log_level_set,a._zappar_log_level=cr.zappar_log_level,a.___em_js__emidentity=cr.__em_js__emidentity,a._zappar_analytics_project_id_set=cr.zappar_analytics_project_id_set,a.___em_js__emlicerr=cr.__em_js__emlicerr;var lr=a.___errno_location=cr.__errno_location;a._htonl=cr.htonl,a._htons=cr.htons,a._ntohs=cr.ntohs,a._usleep=cr.usleep;var dr=a.__get_tzname=cr._get_tzname,mr=a.__get_daylight=cr._get_daylight,hr=a.__get_timezone=cr._get_timezone;a._emscripten_main_thread_process_queued_calls=cr.emscripten_main_thread_process_queued_calls;var br,gr=a.stackSave=cr.stackSave,wr=a.stackRestore=cr.stackRestore,yr=a.stackAlloc=cr.stackAlloc;function vr(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function zr(){function e(){if(!br&&(br=!0,a.calledRun=!0,!g)){if(a.noFSInit||Ve||(Ve=!0,Ge(),a.stdin=a.stdin,a.stdout=a.stdout,a.stderr=a.stderr,a.stdin?Je("stdin",a.stdin):Ze("/dev/tty","/dev/stdin"),a.stdout?Je("stdout",null,a.stdout):Ze("/dev/tty","/dev/stdout"),a.stderr?Je("stderr",null,a.stderr):Ze("/dev/tty1","/dev/stderr"),Ye("/dev/stdin",0),Ye("/dev/stdout",1),Ye("/dev/stderr",1)),ae(U),ze=!1,ae(q),n(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;){var e=a.postRun.shift();Z.unshift(e)}ae(Z)}}if(!(0<W)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)H();ae(C),0<W||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),e()}),1)):e())}}if(a._setThrew=cr.setThrew,a.dynCall_viijii=cr.dynCall_viijii,a.dynCall_vij=cr.dynCall_vij,a.dynCall_iiji=cr.dynCall_iiji,a.dynCall_viji=cr.dynCall_viji,a.dynCall_vijii=cr.dynCall_vijii,a.dynCall_ji=cr.dynCall_ji,a.dynCall_jiji=cr.dynCall_jiji,a.dynCall_iiiiij=cr.dynCall_iiiiij,a.dynCall_iiiiijj=cr.dynCall_iiiiijj,a.dynCall_iiiiiijj=cr.dynCall_iiiiiijj,a.cwrap=function(e,t,r,a){var n=(r=r||[]).every((function(e){return"number"===e}));return"string"!==t&&n&&!a?y(e):function(){return v(e,t,r,arguments)}},a.setValue=function(e,t,r){switch("*"===(r=r||"i8").charAt(r.length-1)&&(r="i32"),r){case"i1":case"i8":k[e>>0]=t;break;case"i16":A[e>>1]=t;break;case"i32":O[e>>2]=t;break;case"i64":ee=[t>>>0,(Q=t,1<=+Math.abs(Q)?0<Q?(0|Math.min(+Math.floor(Q/4294967296),4294967295))>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],O[e>>2]=ee[0],O[e+4>>2]=ee[1];break;case"float":E[e>>2]=t;break;case"double":L[e>>3]=t;break;default:J("invalid type for setValue: "+r)}},a.getValue=function(e,t){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return k[e>>0];case"i16":return A[e>>1];case"i32":case"i64":return O[e>>2];case"float":return E[e>>2];case"double":return L[e>>3];default:J("invalid type for getValue: "+t)}return null},a.UTF8ToString=T,Y=function e(){br||zr(),br||(Y=e)},a.run=zr,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return d=!0,zr(),t});t.default=a}.call(this,r(4).setImmediate)},function(e,t,r){(function(e){var a=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(n.call(setTimeout,a,arguments),clearTimeout)},t.setInterval=function(){return new i(n.call(setInterval,a,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(a,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(5),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(0))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var a,n,i,s,_,o=1,c={},u=!1,f=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?a=function(e){t.nextTick((function(){d(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){d(e.data)},a=function(e){i.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(n=f.documentElement,a=function(e){var t=f.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):a=function(e){setTimeout(d,0,e)}:(s="setImmediate$"+Math.random()+"$",_=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&d(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",_,!1):e.attachEvent("onmessage",_),a=function(t){e.postMessage(s+t,"*")}),p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return c[o]=n,a(o),o++},p.clearImmediate=l}function l(e){delete c[e]}function d(e){if(u)setTimeout(d,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{l(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(0),r(6))},function(e,t){var r,a,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function _(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{a="function"==typeof clearTimeout?clearTimeout:s}catch(e){a=s}}();var o,c=[],u=!1,f=-1;function p(){u&&o&&(u=!1,o.length?c=o.concat(c):f=-1,c.length&&l())}function l(){if(!u){var e=_(p);u=!0;for(var t=c.length;t;){for(o=c,c=[];++f<t;)o&&o[f].run();f=-1,t=c.length}o=null,u=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===s||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||u||_(l)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeObject=void 0,t.getRuntimeObject=function(e){let t=e.cwrap("zappar_log_level","number",[]),r=e.cwrap("zappar_log_level_set",null,["number"]),a=e.cwrap("zappar_analytics_project_id_set",null,["string"]),n=e.cwrap("zappar_pipeline_create","number",[]),i=e.cwrap("zappar_pipeline_destroy",null,["number"]),s=e.cwrap("zappar_pipeline_frame_update",null,["number"]),_=e.cwrap("zappar_pipeline_frame_number","number",["number"]),o=e.cwrap("zappar_pipeline_camera_model","number",["number"]),c=e.cwrap("zappar_pipeline_camera_frame_user_data","number",["number"]),u=e.cwrap("zappar_pipeline_camera_frame_submit",null,["number","number","number","number","number","number","number","number","number"]),f=e.cwrap("zappar_pipeline_camera_frame_camera_attitude","number",["number"]),p=e.cwrap("zappar_pipeline_camera_frame_device_attitude","number",["number"]),l=e.cwrap("zappar_pipeline_motion_accelerometer_submit",null,["number","number","number","number","number"]),d=e.cwrap("zappar_pipeline_motion_rotation_rate_submit",null,["number","number","number","number","number"]),m=e.cwrap("zappar_pipeline_motion_attitude_submit",null,["number","number","number","number","number"]),h=e.cwrap("zappar_pipeline_motion_attitude_matrix_submit",null,["number","number"]),b=e.cwrap("zappar_camera_source_create","number",["number","string"]),g=e.cwrap("zappar_camera_source_destroy",null,["number"]),w=e.cwrap("zappar_sequence_source_create","number",["number"]),y=e.cwrap("zappar_sequence_source_destroy",null,["number"]),v=e.cwrap("zappar_image_tracker_create","number",["number"]),z=e.cwrap("zappar_image_tracker_destroy",null,["number"]),k=e.cwrap("zappar_image_tracker_target_load_from_memory",null,["number","number","number"]),M=e.cwrap("zappar_image_tracker_target_loaded_version","number",["number"]),A=e.cwrap("zappar_image_tracker_target_count","number",["number"]),x=e.cwrap("zappar_image_tracker_enabled","number",["number"]),O=e.cwrap("zappar_image_tracker_enabled_set",null,["number","number"]),P=e.cwrap("zappar_image_tracker_anchor_count","number",["number"]),E=e.cwrap("zappar_image_tracker_anchor_id","string",["number","number"]),L=e.cwrap("zappar_image_tracker_anchor_pose_raw","number",["number","number"]),F=e.cwrap("zappar_face_tracker_create","number",["number"]),S=e.cwrap("zappar_face_tracker_destroy",null,["number"]),T=e.cwrap("zappar_face_tracker_model_load_from_memory",null,["number","number","number"]),D=e.cwrap("zappar_face_tracker_model_loaded_version","number",["number"]),I=e.cwrap("zappar_face_tracker_enabled_set",null,["number","number"]),V=e.cwrap("zappar_face_tracker_enabled","number",["number"]),j=e.cwrap("zappar_face_tracker_max_faces_set",null,["number","number"]),B=e.cwrap("zappar_face_tracker_max_faces","number",["number"]),R=e.cwrap("zappar_face_tracker_anchor_count","number",["number"]),C=e.cwrap("zappar_face_tracker_anchor_id","string",["number","number"]),U=e.cwrap("zappar_face_tracker_anchor_pose_raw","number",["number","number"]),q=e.cwrap("zappar_face_tracker_anchor_identity_coefficients","number",["number","number"]),Z=e.cwrap("zappar_face_tracker_anchor_expression_coefficients","number",["number","number"]),H=e.cwrap("zappar_face_mesh_create","number",[]),W=e.cwrap("zappar_face_mesh_destroy",null,["number"]),N=e.cwrap("zappar_face_landmark_create","number",["number"]),Y=e.cwrap("zappar_face_landmark_destroy",null,["number"]),K=e.cwrap("zappar_barcode_finder_create","number",["number"]),G=e.cwrap("zappar_barcode_finder_destroy",null,["number"]),J=e.cwrap("zappar_barcode_finder_enabled_set",null,["number","number"]),X=e.cwrap("zappar_barcode_finder_enabled","number",["number"]),$=e.cwrap("zappar_barcode_finder_found_number","number",["number"]),Q=e.cwrap("zappar_barcode_finder_found_text","string",["number","number"]),ee=e.cwrap("zappar_barcode_finder_found_format","number",["number","number"]),te=e.cwrap("zappar_barcode_finder_formats","number",["number"]),re=e.cwrap("zappar_barcode_finder_formats_set",null,["number","number"]),ae=e.cwrap("zappar_instant_world_tracker_create","number",["number"]),ne=e.cwrap("zappar_instant_world_tracker_destroy",null,["number"]),ie=e.cwrap("zappar_instant_world_tracker_enabled_set",null,["number","number"]),se=e.cwrap("zappar_instant_world_tracker_enabled","number",["number"]),_e=e.cwrap("zappar_instant_world_tracker_anchor_pose_raw","number",["number"]),oe=e.cwrap("zappar_instant_world_tracker_anchor_pose_set_from_camera_offset_raw",null,["number","number","number","number","number"]),ce=32,ue=e._malloc(ce),fe=(e._malloc(64),new Map),pe=(t,r)=>{let a=fe.get(t);return(!a||a[0]<r)&&(a&&e._free(a[1]),a=[r,e._malloc(r)],fe.set(t,a)),a[1]};return{log_level:()=>t(),log_level_set:e=>r(e),analytics_project_id_set:e=>a(e),pipeline_create:()=>n(),pipeline_destroy:()=>{i()},pipeline_frame_update:e=>s(e),pipeline_frame_number:e=>_(e),pipeline_camera_model:t=>{let r=o(t),a=new Float32Array(6);return a.set(e.HEAPF32.subarray(r/4,6+r/4)),r=a,r},pipeline_camera_frame_user_data:e=>c(e),pipeline_camera_frame_submit:(t,r,a,n,i,s,_,o)=>{ce<r.byteLength&&(e._free(ue),ce=r.byteLength,ue=e._malloc(ce));let c=ue,f=r.byteLength;e.HEAPU8.set(new Uint8Array(r),ue);let p=a,l=n,d=i,m=pe(4,s.byteLength);e.HEAPF32.set(s,m/4);let h=pe(5,_.byteLength);return e.HEAPF32.set(_,h/4),u(t,c,f,p,l,d,m,h,o?1:0)},pipeline_camera_frame_camera_attitude:t=>{let r=f(t),a=new Float32Array(16);return a.set(e.HEAPF32.subarray(r/4,16+r/4)),r=a,r},pipeline_camera_frame_device_attitude:t=>{let r=p(t),a=new Float32Array(16);return a.set(e.HEAPF32.subarray(r/4,16+r/4)),r=a,r},pipeline_motion_accelerometer_submit:(e,t,r,a,n)=>l(e,t,r,a,n),pipeline_motion_rotation_rate_submit:(e,t,r,a,n)=>d(e,t,r,a,n),pipeline_motion_attitude_submit:(e,t,r,a,n)=>m(e,t,r,a,n),pipeline_motion_attitude_matrix_submit:(t,r)=>{let a=pe(0,r.byteLength);return e.HEAPF32.set(r,a/4),h(t,a)},camera_source_create:(e,t)=>b(e,t),camera_source_destroy:()=>{g()},sequence_source_create:e=>w(e),sequence_source_destroy:()=>{y()},image_tracker_create:e=>v(e),image_tracker_destroy:()=>{z()},image_tracker_target_load_from_memory:(t,r)=>{ce<r.byteLength&&(e._free(ue),ce=r.byteLength,ue=e._malloc(ce));let a=ue,n=r.byteLength;return e.HEAPU8.set(new Uint8Array(r),ue),k(t,a,n)},image_tracker_target_loaded_version:e=>M(e),image_tracker_target_count:e=>A(e),image_tracker_enabled:e=>{let t=x(e);return t=1===t,t},image_tracker_enabled_set:(e,t)=>O(e,t?1:0),image_tracker_anchor_count:e=>P(e),image_tracker_anchor_id:(e,t)=>E(e,t),image_tracker_anchor_pose_raw:(t,r)=>{let a=L(t,r),n=new Float32Array(16);return n.set(e.HEAPF32.subarray(a/4,16+a/4)),a=n,a},face_tracker_create:e=>F(e),face_tracker_destroy:()=>{S()},face_tracker_model_load_from_memory:(t,r)=>{ce<r.byteLength&&(e._free(ue),ce=r.byteLength,ue=e._malloc(ce));let a=ue,n=r.byteLength;return e.HEAPU8.set(new Uint8Array(r),ue),T(t,a,n)},face_tracker_model_loaded_version:e=>D(e),face_tracker_enabled_set:(e,t)=>I(e,t?1:0),face_tracker_enabled:e=>{let t=V(e);return t=1===t,t},face_tracker_max_faces_set:(e,t)=>j(e,t),face_tracker_max_faces:e=>B(e),face_tracker_anchor_count:e=>R(e),face_tracker_anchor_id:(e,t)=>C(e,t),face_tracker_anchor_pose_raw:(t,r)=>{let a=U(t,r),n=new Float32Array(16);return n.set(e.HEAPF32.subarray(a/4,16+a/4)),a=n,a},face_tracker_anchor_identity_coefficients:(t,r)=>{let a=q(t,r),n=new Float32Array(50);return n.set(e.HEAPF32.subarray(a/4,50+a/4)),a=n,a},face_tracker_anchor_expression_coefficients:(t,r)=>{let a=Z(t,r),n=new Float32Array(29);return n.set(e.HEAPF32.subarray(a/4,29+a/4)),a=n,a},face_mesh_create:()=>H(),face_mesh_destroy:()=>{W()},face_landmark_create:e=>N(e),face_landmark_destroy:()=>{Y()},barcode_finder_create:e=>K(e),barcode_finder_destroy:()=>{G()},barcode_finder_enabled_set:(e,t)=>J(e,t?1:0),barcode_finder_enabled:e=>{let t=X(e);return t=1===t,t},barcode_finder_found_number:e=>$(e),barcode_finder_found_text:(e,t)=>Q(e,t),barcode_finder_found_format:(e,t)=>ee(e,t),barcode_finder_formats:e=>te(e),barcode_finder_formats_set:(e,t)=>re(e,t),instant_world_tracker_create:e=>ae(e),instant_world_tracker_destroy:()=>{ne()},instant_world_tracker_enabled_set:(e,t)=>ie(e,t?1:0),instant_world_tracker_enabled:e=>{let t=se(e);return t=1===t,t},instant_world_tracker_anchor_pose_raw:t=>{let r=_e(t),a=new Float32Array(16);return a.set(e.HEAPF32.subarray(r/4,16+r/4)),r=a,r},instant_world_tracker_anchor_pose_set_from_camera_offset_raw:(e,t,r,a,n)=>oe(e,t,r,a,n)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zappar_server=void 0;const a=r(9),n=r(10);t.zappar_server=class{constructor(e,t){this._impl=e,this._sender=t,this._deserializer=new n.MessageDeserializer,this.serializersByPipelineId=new Map,this._pipeline_id_by_pipeline_id=new Map,this._pipeline_by_instance=new Map,this._pipeline_id_by_camera_source_id=new Map,this._camera_source_by_instance=new Map,this._pipeline_id_by_sequence_source_id=new Map,this._sequence_source_by_instance=new Map,this._pipeline_id_by_image_tracker_id=new Map,this._image_tracker_by_instance=new Map,this._pipeline_id_by_face_tracker_id=new Map,this._face_tracker_by_instance=new Map,this._pipeline_id_by_face_mesh_id=new Map,this._face_mesh_by_instance=new Map,this._pipeline_id_by_face_landmark_id=new Map,this._face_landmark_by_instance=new Map,this._pipeline_id_by_barcode_finder_id=new Map,this._barcode_finder_by_instance=new Map,this._pipeline_id_by_instant_world_tracker_id=new Map,this._instant_world_tracker_by_instance=new Map}processBuffer(e){this._deserializer.setData(e),this._deserializer.forMessages((e,t)=>{switch(e){case 34:this._impl.log_level_set(t.logLevel());break;case 31:this._impl.analytics_project_id_set(t.string());break;case 27:{let e=t.type(),r=this._impl.pipeline_create();this._pipeline_by_instance.set(e,r),this._pipeline_id_by_pipeline_id.set(e,e),this.serializersByPipelineId.set(e,new a.MessageSerializer(t=>{this._sender(e,t)}));break}case 28:{let e=t.type(),r=this._pipeline_by_instance.get(e);if(void 0===r)return;this._impl.pipeline_destroy(r),this._pipeline_by_instance.delete(e);break}case 9:{let e=t.type(),r=this._pipeline_by_instance.get(e);if(void 0===r)return;this._impl.pipeline_frame_update(r);break}case 8:{let e=t.type(),r=this._pipeline_by_instance.get(e);if(void 0===r)return;this._impl.pipeline_camera_frame_submit(r,t.dataWithLength(),t.int(),t.int(),t.int(),t.matrix4x4(),t.cameraModel(),t.bool());break}case 10:{let e=t.type(),r=this._pipeline_by_instance.get(e);if(void 0===r)return;this._impl.pipeline_motion_accelerometer_submit(r,t.timestamp(),t.float(),t.float(),t.float());break}case 11:{let e=t.type(),r=this._pipeline_by_instance.get(e);if(void 0===r)return;this._impl.pipeline_motion_rotation_rate_submit(r,t.timestamp(),t.float(),t.float(),t.float());break}case 12:{let e=t.type(),r=this._pipeline_by_instance.get(e);if(void 0===r)return;this._impl.pipeline_motion_attitude_submit(r,t.timestamp(),t.float(),t.float(),t.float());break}case 13:{let e=t.type(),r=this._pipeline_by_instance.get(e);if(void 0===r)return;this._impl.pipeline_motion_attitude_matrix_submit(r,t.matrix4x4());break}case 29:{let e=t.type(),r=t.type(),a=this._pipeline_by_instance.get(r),n=t.string(),i=this._impl.camera_source_create(a,n);this._camera_source_by_instance.set(e,i),this._pipeline_id_by_camera_source_id.set(e,r);break}case 30:{let e=t.type(),r=this._camera_source_by_instance.get(e);if(void 0===r)return;this._impl.camera_source_destroy(r),this._camera_source_by_instance.delete(e);break}case 35:{let e=t.type(),r=t.type(),a=this._pipeline_by_instance.get(r),n=this._impl.sequence_source_create(a);this._sequence_source_by_instance.set(e,n),this._pipeline_id_by_sequence_source_id.set(e,r);break}case 36:{let e=t.type(),r=this._sequence_source_by_instance.get(e);if(void 0===r)return;this._impl.sequence_source_destroy(r),this._sequence_source_by_instance.delete(e);break}case 2:{let e=t.type(),r=t.type(),a=this._pipeline_by_instance.get(r),n=this._impl.image_tracker_create(a);this._image_tracker_by_instance.set(e,n),this._pipeline_id_by_image_tracker_id.set(e,r);break}case 14:{let e=t.type(),r=this._image_tracker_by_instance.get(e);if(void 0===r)return;this._impl.image_tracker_destroy(r),this._image_tracker_by_instance.delete(e);break}case 4:{let e=t.type(),r=this._image_tracker_by_instance.get(e);if(void 0===r)return;this._impl.image_tracker_target_load_from_memory(r,t.dataWithLength());break}case 3:{let e=t.type(),r=this._image_tracker_by_instance.get(e);if(void 0===r)return;this._impl.image_tracker_enabled_set(r,t.bool());break}case 20:{let e=t.type(),r=t.type(),a=this._pipeline_by_instance.get(r),n=this._impl.face_tracker_create(a);this._face_tracker_by_instance.set(e,n),this._pipeline_id_by_face_tracker_id.set(e,r);break}case 21:{let e=t.type(),r=this._face_tracker_by_instance.get(e);if(void 0===r)return;this._impl.face_tracker_destroy(r),this._face_tracker_by_instance.delete(e);break}case 22:{let e=t.type(),r=this._face_tracker_by_instance.get(e);if(void 0===r)return;this._impl.face_tracker_model_load_from_memory(r,t.dataWithLength());break}case 23:{let e=t.type(),r=this._face_tracker_by_instance.get(e);if(void 0===r)return;this._impl.face_tracker_enabled_set(r,t.bool());break}case 24:{let e=t.type(),r=this._face_tracker_by_instance.get(e);if(void 0===r)return;this._impl.face_tracker_max_faces_set(r,t.int());break}case 25:{let e=t.type(),r=this._impl.face_mesh_create();this._face_mesh_by_instance.set(e,r);break}case 26:{let e=t.type(),r=this._face_mesh_by_instance.get(e);if(void 0===r)return;this._impl.face_mesh_destroy(r),this._face_mesh_by_instance.delete(e);break}case 32:{let e=t.type(),r=t.faceLandmarkName(),a=this._impl.face_landmark_create(r);this._face_landmark_by_instance.set(e,a);break}case 33:{let e=t.type(),r=this._face_landmark_by_instance.get(e);if(void 0===r)return;this._impl.face_landmark_destroy(r),this._face_landmark_by_instance.delete(e);break}case 16:{let e=t.type(),r=t.type(),a=this._pipeline_by_instance.get(r),n=this._impl.barcode_finder_create(a);this._barcode_finder_by_instance.set(e,n),this._pipeline_id_by_barcode_finder_id.set(e,r);break}case 17:{let e=t.type(),r=this._barcode_finder_by_instance.get(e);if(void 0===r)return;this._impl.barcode_finder_destroy(r),this._barcode_finder_by_instance.delete(e);break}case 18:{let e=t.type(),r=this._barcode_finder_by_instance.get(e);if(void 0===r)return;this._impl.barcode_finder_enabled_set(r,t.bool());break}case 19:{let e=t.type(),r=this._barcode_finder_by_instance.get(e);if(void 0===r)return;this._impl.barcode_finder_formats_set(r,t.barcodeFormat());break}case 5:{let e=t.type(),r=t.type(),a=this._pipeline_by_instance.get(r),n=this._impl.instant_world_tracker_create(a);this._instant_world_tracker_by_instance.set(e,n),this._pipeline_id_by_instant_world_tracker_id.set(e,r);break}case 15:{let e=t.type(),r=this._instant_world_tracker_by_instance.get(e);if(void 0===r)return;this._impl.instant_world_tracker_destroy(r),this._instant_world_tracker_by_instance.delete(e);break}case 6:{let e=t.type(),r=this._instant_world_tracker_by_instance.get(e);if(void 0===r)return;this._impl.instant_world_tracker_enabled_set(r,t.bool());break}case 7:{let e=t.type(),r=this._instant_world_tracker_by_instance.get(e);if(void 0===r)return;this._impl.instant_world_tracker_anchor_pose_set_from_camera_offset_raw(r,t.float(),t.float(),t.float(),t.instantTrackerTransformOrientation());break}}})}exploreState(){for(let[e,t]of this._pipeline_by_instance){let r=this._pipeline_id_by_pipeline_id.get(e);if(!r)continue;let a=this.serializersByPipelineId.get(r);a&&(a.sendMessage(7,r=>{r.type(e),r.int(this._impl.pipeline_frame_number(t))}),a.sendMessage(6,r=>{r.type(e),r.cameraModel(this._impl.pipeline_camera_model(t))}),a.sendMessage(5,r=>{r.type(e),r.int(this._impl.pipeline_camera_frame_user_data(t))}),a.sendMessage(11,r=>{r.type(e),r.matrix4x4(this._impl.pipeline_camera_frame_camera_attitude(t))}),a.sendMessage(12,r=>{r.type(e),r.matrix4x4(this._impl.pipeline_camera_frame_device_attitude(t))}))}for(let[e,t]of this._camera_source_by_instance){let t=this._pipeline_id_by_camera_source_id.get(e);if(!t)continue;this.serializersByPipelineId.get(t)}for(let[e,t]of this._sequence_source_by_instance){let t=this._pipeline_id_by_sequence_source_id.get(e);if(!t)continue;this.serializersByPipelineId.get(t)}for(let[e,t]of this._image_tracker_by_instance){let r=this._pipeline_id_by_image_tracker_id.get(e);if(!r)continue;let a=this.serializersByPipelineId.get(r);if(a){a.sendMessage(19,r=>{r.type(e),r.int(this._impl.image_tracker_target_loaded_version(t))}),a.sendMessage(21,r=>{r.type(e),r.int(this._impl.image_tracker_target_count(t))}),a.sendMessage(1,r=>{r.type(e),r.int(this._impl.image_tracker_anchor_count(t))});for(let r=0;r<this._impl.image_tracker_anchor_count(t);r++)a.sendMessage(2,a=>{a.type(e),a.int(r),a.string(this._impl.image_tracker_anchor_id(t,r))});for(let r=0;r<this._impl.image_tracker_anchor_count(t);r++)a.sendMessage(3,a=>{a.type(e),a.int(r),a.matrix4x4(this._impl.image_tracker_anchor_pose_raw(t,r))})}}for(let[e,t]of this._face_tracker_by_instance){let r=this._pipeline_id_by_face_tracker_id.get(e);if(!r)continue;let a=this.serializersByPipelineId.get(r);if(a){a.sendMessage(18,r=>{r.type(e),r.int(this._impl.face_tracker_model_loaded_version(t))}),a.sendMessage(13,r=>{r.type(e),r.int(this._impl.face_tracker_anchor_count(t))});for(let r=0;r<this._impl.face_tracker_anchor_count(t);r++)a.sendMessage(14,a=>{a.type(e),a.int(r),a.string(this._impl.face_tracker_anchor_id(t,r))});for(let r=0;r<this._impl.face_tracker_anchor_count(t);r++)a.sendMessage(15,a=>{a.type(e),a.int(r),a.matrix4x4(this._impl.face_tracker_anchor_pose_raw(t,r))});for(let r=0;r<this._impl.face_tracker_anchor_count(t);r++)a.sendMessage(16,a=>{a.type(e),a.int(r),a.identityCoefficients(this._impl.face_tracker_anchor_identity_coefficients(t,r))});for(let r=0;r<this._impl.face_tracker_anchor_count(t);r++)a.sendMessage(17,a=>{a.type(e),a.int(r),a.expressionCoefficients(this._impl.face_tracker_anchor_expression_coefficients(t,r))})}}for(let[e,t]of this._face_mesh_by_instance){let t=this._pipeline_id_by_face_mesh_id.get(e);if(!t)continue;this.serializersByPipelineId.get(t)}for(let[e,t]of this._face_landmark_by_instance){let t=this._pipeline_id_by_face_landmark_id.get(e);if(!t)continue;this.serializersByPipelineId.get(t)}for(let[e,t]of this._barcode_finder_by_instance){let r=this._pipeline_id_by_barcode_finder_id.get(e);if(!r)continue;let a=this.serializersByPipelineId.get(r);if(a){a.sendMessage(8,r=>{r.type(e),r.int(this._impl.barcode_finder_found_number(t))});for(let r=0;r<this._impl.barcode_finder_found_number(t);r++)a.sendMessage(9,a=>{a.type(e),a.int(r),a.string(this._impl.barcode_finder_found_text(t,r))});for(let r=0;r<this._impl.barcode_finder_found_number(t);r++)a.sendMessage(10,a=>{a.type(e),a.int(r),a.barcodeFormat(this._impl.barcode_finder_found_format(t,r))})}}for(let[e,t]of this._instant_world_tracker_by_instance){let r=this._pipeline_id_by_instant_world_tracker_id.get(e);if(!r)continue;let a=this.serializersByPipelineId.get(r);a&&a.sendMessage(4,r=>{r.type(e),r.matrix4x4(this._impl.instant_world_tracker_anchor_pose_raw(t))})}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageSerializer=void 0;t.MessageSerializer=class{constructor(e){this._messageSender=e,this._freeBufferPool=[],this._buffer=new ArrayBuffer(16),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1,this._timeoutSet=!1,this._appender={int:e=>this.int(e),bool:e=>this.int(e?1:0),float:e=>this.float(e),string:e=>this.string(e),dataWithLength:e=>this.arrayBuffer(e),type:e=>this.int(e),matrix4x4:e=>this.float32ArrayBuffer(e),matrix3x3:e=>this.float32ArrayBuffer(e),identityCoefficients:e=>this.float32ArrayBuffer(e),expressionCoefficients:e=>this.float32ArrayBuffer(e),cameraModel:e=>this.float32ArrayBuffer(e),timestamp:e=>this.double(e),barcodeFormat:e=>this.int(e),faceLandmarkName:e=>this.int(e),instantTrackerTransformOrientation:e=>this.int(e),logLevel:e=>this.int(e)},this._freeBufferPool.push(new ArrayBuffer(16)),this._freeBufferPool.push(new ArrayBuffer(16))}bufferReturn(e){this._freeBufferPool.push(e)}_ensureArrayBuffer(e){let t=4*(this._offset+e+8);if(this._buffer&&this._buffer.byteLength>=t)return;let r=void 0;if(!r){let e=t;e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,r=new ArrayBuffer(e)}let a=this._buffer?this._i32View:void 0;this._buffer=r,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),a&&this._i32View.set(a.subarray(0,this._offset))}sendMessage(e,t){this._ensureArrayBuffer(4),this._startOffset=this._offset,this._i32View[this._offset+1]=e,this._offset+=2,t(this._appender),this._i32View[this._startOffset]=this._offset-this._startOffset,this._startOffset=-1,this._sendOneTime()}_sendOneTime(){!1===this._timeoutSet&&(this._timeoutSet=!0,setTimeout(()=>{this._timeoutSet=!1,this._send()},0))}_send(){0!==this._freeBufferPool.length?(this._i32View[0]=this._offset,this._messageSender(this._buffer),this._buffer=void 0,this._buffer=this._freeBufferPool.pop(),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1):this._sendOneTime()}int(e){this._ensureArrayBuffer(1),this._i32View[this._offset]=e,this._offset++}double(e){this._ensureArrayBuffer(2),this._offset%2==1&&this._offset++,this._f64View[this._offset/2]=e,this._offset+=2}float(e){this._ensureArrayBuffer(1),this._f32View[this._offset]=e,this._offset++}int32Array(e){this._ensureArrayBuffer(e.length);for(let t=0;t<e.length;++t)this._i32View[this._offset+t]=e[t];this._offset+=e.length}float32Array(e){this._ensureArrayBuffer(e.length);for(let t=0;t<e.length;++t)this._f32View[this._offset+t]=e[t];this._offset+=e.length}booleanArray(e){this._ensureArrayBuffer(e.length);for(let t=0;t<e.length;++t)this._i32View[this._offset+t]=e[t]?1:0;this._offset+=e.length}uint8ArrayBuffer(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.byteLength,this._offset++,this._u8View.set(e,4*this._offset),this._offset+=e.byteLength>>2,0!=(3&e.byteLength)&&this._offset++}arrayBuffer(e){let t=new Uint8Array(e);this.uint8ArrayBuffer(t)}uint8ClampedArrayBuffer(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.byteLength,this._offset++,this._u8cView.set(e,4*this._offset),this._offset+=e.byteLength>>2,0!=(3&e.byteLength)&&this._offset++}float32ArrayBuffer(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._f32View.set(e,this._offset),this._offset+=e.length}uint16ArrayBuffer(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++;let t=2*this._offset;this._u16View.set(e,t),this._offset+=e.length>>1,0!=(1&e.length)&&this._offset++}int32ArrayBuffer(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._i32View.set(e,this._offset),this._offset+=e.length}uint32ArrayBuffer(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._u32View.set(e,this._offset),this._offset+=e.length}string(e){let t=(new TextEncoder).encode(e);this._ensureArrayBuffer(t.byteLength/4),this._i32View[this._offset]=t.byteLength,this._offset++,this._u8View.set(t,4*this._offset),this._offset+=t.byteLength>>2,0!=(3&t.byteLength)&&this._offset++}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageDeserializer=void 0;t.MessageDeserializer=class{constructor(){this._buffer=new ArrayBuffer(0),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,this._startOffset=-1,this._processor={int:()=>this._i32View[this._startOffset++],bool:()=>1===this._i32View[this._startOffset++],type:()=>this._i32View[this._startOffset++],float:()=>this._f32View[this._startOffset++],timestamp:()=>{this._startOffset%2==1&&this._startOffset++;let e=this._f64View[this._startOffset/2];return this._startOffset+=2,e},string:()=>{let e=this._i32View[this._startOffset++],t=(new TextDecoder).decode(new Uint8Array(this._buffer,4*this._startOffset,e));return this._startOffset+=e>>2,0!=(3&e)&&this._startOffset++,t},dataWithLength:()=>{let e=this._i32View[this._startOffset++],t=new Uint8Array(e);return t.set(this._u8View.subarray(4*this._startOffset,4*this._startOffset+e)),this._startOffset+=t.byteLength>>2,0!=(3&t.byteLength)&&this._startOffset++,t.buffer},matrix4x4:()=>{let e=this._i32View[this._startOffset++],t=new Float32Array(e);return t.set(this._f32View.subarray(this._startOffset,this._startOffset+16)),this._startOffset+=e,t},matrix3x3:()=>{let e=this._i32View[this._startOffset++],t=new Float32Array(e);return t.set(this._f32View.subarray(this._startOffset,this._startOffset+9)),this._startOffset+=e,t},identityCoefficients:()=>{let e=this._i32View[this._startOffset++],t=new Float32Array(e);return t.set(this._f32View.subarray(this._startOffset,this._startOffset+50)),this._startOffset+=e,t},expressionCoefficients:()=>{let e=this._i32View[this._startOffset++],t=new Float32Array(e);return t.set(this._f32View.subarray(this._startOffset,this._startOffset+29)),this._startOffset+=e,t},cameraModel:()=>{let e=this._i32View[this._startOffset++],t=new Float32Array(e);return t.set(this._f32View.subarray(this._startOffset,this._startOffset+6)),this._startOffset+=e,t},barcodeFormat:()=>this._i32View[this._startOffset++],faceLandmarkName:()=>this._i32View[this._startOffset++],instantTrackerTransformOrientation:()=>this._i32View[this._startOffset++],logLevel:()=>this._i32View[this._startOffset++]}}setData(e){this._buffer=e,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,e.byteLength>=4&&(this._offset=1,this._length=this._i32View[0]),this._startOffset=-1}hasMessage(){return this._offset+1<this._length}forMessages(e){for(;this.hasMessage();){let t=this._i32View[this._offset],r=this._i32View[this._offset+1];this._startOffset=this._offset+2,this._offset+=t,e(r,this._processor)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MsgManager=void 0;const a=r(12);t.MsgManager=class{constructor(){this.onOutgoingMessage=new a.Event,this.onIncomingMessage=new a.Event1,this._outgoingMessages=[]}postIncomingMessage(e){this.onIncomingMessage.emit(e)}postOutgoingMessage(e,t){this._outgoingMessages.push({msg:e,transferables:t}),this.onOutgoingMessage.emit()}getOutgoingMessages(){let e=this._outgoingMessages;return this._outgoingMessages=[],e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event5=t.Event3=t.Event2=t.Event1=t.Event=void 0;t.Event=class{constructor(){this._funcs=[]}bind(e){this._funcs.push(e)}unbind(e){let t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}emit(){for(var e=0,t=this._funcs.length;e<t;e++)this._funcs[e]()}};t.Event1=class{constructor(){this._funcs=[]}bind(e){this._funcs.push(e)}unbind(e){let t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}emit(e){for(var t=0,r=this._funcs.length;t<r;t++)this._funcs[t](e)}};t.Event2=class{constructor(){this._funcs=[]}bind(e){this._funcs.push(e)}unbind(e){let t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}emit(e,t){for(var r=0,a=this._funcs.length;r<a;r++)this._funcs[r](e,t)}};t.Event3=class{constructor(){this._funcs=[]}bind(e){this._funcs.push(e)}unbind(e){let t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}emit(e,t,r){for(var a=0,n=this._funcs.length;a<n;a++)this._funcs[a](e,t,r)}};t.Event5=class{constructor(){this._funcs=[]}bind(e){this._funcs.push(e)}unbind(e){let t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}emit(e,t,r,a,n){for(var i=0,s=this._funcs.length;i<s;i++)this._funcs[i](e,t,r,a,n)}}},function(e,t,r){"use strict";r.r(t),t.default=r.p+"81740ced6a827d86676dfc29357757fd.wasm"}]);',"Worker",void 0,r.p+"zappar-threejs.worker.js")}},function(e,t,r){"use strict";r.r(t),t.default=r.p+"81740ced6a827d86676dfc29357757fd.wasm"},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.permissionDeniedUI=t.permissionRequestUI=t.permissionRequestMotion=t.permissionRequestCamera=t.permissionRequestAll=t.permissionGrantedAll=t.permissionDeniedAny=t.permissionDeniedMotion=t.permissionDeniedCamera=t.permissionGrantedMotion=t.permissionGrantedCamera=void 0;let a=new(r(16).UAParser),i=!1,o=!1,s=!1,u=!1;function c(){return n(this,void 0,void 0,(function*(){if(navigator.permissions&&navigator.permissions.query)try{let e=yield navigator.permissions.query({name:"camera"});s="denied"===e.state,i="granted"===e.state}catch(e){}}))}function f(){return s||u}function _(){return i&&o}function d(){return n(this,void 0,void 0,(function*(){yield h(),yield l()}))}function l(){return n(this,void 0,void 0,(function*(){try{(yield navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(e=>e.stop()),i=!0,s=!1}catch(e){i=!1,s=!0}}))}function h(){return n(this,void 0,void 0,(function*(){if(window.DeviceOrientationEvent&&window.DeviceOrientationEvent.requestPermission){if("granted"!==(yield window.DeviceOrientationEvent.requestPermission()))return o=!1,u=!0,!1}o=!0,u=!1}))}window.DeviceOrientationEvent&&window.DeviceOrientationEvent.requestPermission||(o=!0),c(),t.permissionGrantedCamera=function(){return i},t.permissionGrantedMotion=function(){return o},t.permissionDeniedCamera=function(){return s},t.permissionDeniedMotion=function(){return u},t.permissionDeniedAny=f,t.permissionGrantedAll=_,t.permissionRequestAll=d,t.permissionRequestCamera=l,t.permissionRequestMotion=h,t.permissionRequestUI=function(){return n(this,void 0,void 0,(function*(){if(yield c(),_())return!0;let e=document.createElement("div");e.classList.add("zappar-permission-request"),e.innerHTML='\n    <style>\n        .zappar-permission-request {\n            position: fixed;\n            width: 100%;\n            height: 100%;\n            top: 0px;\n            left: 0px;\n            z-index: 1000;\n            background-color: rgba(0, 0, 0, 0.9);\n            font-family: sans-serif;\n            color: white;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n        .zappar-inner {\n            max-width: 400px;\n            text-align: center;\n        }\n        .zappar-title {\n            font-size: 20px;\n        }\n        .zappar-text {\n            font-size: 14px;\n            padding: 15px;\n        }\n        .zappar-inner > button {\n            background: none;\n            outline: none;\n            border: 2px solid white;\n            border-radius: 10px;\n            color: white;\n            padding: 10px 40px;\n            text-transform: uppercase;\n        }\n    </style>\n    <div class="zappar-inner">\n        <div class="zappar-title">Almost there...</div>\n        <div class="zappar-text">In order to provide this augmented reality experience, we need access to your device\'s camera and motion sensors.</div>\n        <button id="zappar-permission-request-button">Grant Access</button>\n    </div>\n',document.body.append(e);let t=e.querySelector("#zappar-permission-request-button");return yield new Promise(r=>{null==t||t.addEventListener("click",()=>n(this,void 0,void 0,(function*(){for(yield d(),e.remove();;){if(yield new Promise(e=>requestAnimationFrame(()=>e())),f())return void r(!1);if(_())return void r(!0)}})))})}))},t.permissionDeniedUI=function(){switch(a.getBrowser().name){case"Chrome":!function(){let e=document.createElement("div");e.classList.add("zappar-permission-request"),e.innerHTML='\n    <style>\n        .zappar-permission-request {\n            position: fixed;\n            width: 100%;\n            height: 100%;\n            top: 0px;\n            left: 0px;\n            z-index: 1000;\n            background-color: rgba(0, 0, 0, 0.9);\n            font-family: sans-serif;\n            color: white;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n        .zappar-inner {\n            width: 400px;\n            text-align: center;\n        }\n        .zappar-title {\n            font-size: 20px;\n        }\n        .zappar-text {\n            font-size: 14px;\n            padding: 15px;\n        }\n        .zappar-inner > button {\n            background: none;\n            outline: none;\n            border: 2px solid white;\n            border-radius: 10px;\n            color: white;\n            padding: 10px 40px;\n            text-transform: uppercase;\n        }\n    </style>\n    <div class="zappar-inner">\n        <div class="zappar-title">Permission is Needed</div>\n        <div class="zappar-text">Permission to access your device\'s camera and motion sensors is necessary for this experience.<br/><br/>To grant access, please tap the ! button in the address bar of your browser, then "Site settings", and finally "Clear and reset". You can then reload the page to try again.</div>\n        <button id="zappar-permission-reload-button">Reload</button>\n    </div>\n',document.body.append(e);let t=e.querySelector("#zappar-permission-reload-button");null==t||t.addEventListener("click",()=>window.location.reload())}();break;default:!function(){let e=document.createElement("div");e.classList.add("zappar-permission-request"),e.innerHTML='\n    <style>\n        .zappar-permission-request {\n            position: fixed;\n            width: 100%;\n            height: 100%;\n            top: 0px;\n            left: 0px;\n            z-index: 1000;\n            background-color: rgba(0, 0, 0, 0.9);\n            font-family: sans-serif;\n            color: white;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n        .zappar-inner {\n            max-width: 400px;\n            text-align: center;\n        }\n        .zappar-title {\n            font-size: 20px;\n        }\n        .zappar-text {\n            font-size: 14px;\n            padding: 15px;\n        }\n        .zappar-inner > button {\n            background: none;\n            outline: none;\n            border: 2px solid white;\n            border-radius: 10px;\n            color: white;\n            padding: 10px 40px;\n            text-transform: uppercase;\n        }\n    </style>\n    <div class="zappar-inner">\n        <div class="zappar-title">Permission is Needed</div>\n        <div class="zappar-text">Permission to access your device\'s camera and motion sensors is necessary for this experience. Please reload the page to try again.</div>\n        <button id="zappar-permission-reload-button">Reload</button>\n    </div>\n',document.body.append(e);let t=e.querySelector("#zappar-permission-reload-button");null==t||t.addEventListener("click",()=>window.location.reload())}()}}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FaceMesh=t.getFaceMesh=t.destroyFaceMesh=t.createFaceMesh=void 0;const n=r(3),a=r(2);let i=1,o=new Map;t.createFaceMesh=function(){let e=i++;return o.set(e,new s),a.zcout("face_mesh_t initialized"),e},t.destroyFaceMesh=function(e){o.delete(e)},t.getFaceMesh=function(e){return o.get(e)};class s{constructor(){this.render_mean_=new Float32Array,this.render_identity_=new Float32Array(50),this.render_expression_=new Float32Array(29),this.render_uvs_=new Float32Array,this.render_indices_=new Uint16Array,this.vertices_=new Float32Array,this.normals_=new Float32Array,this.normalsCalculated_=!1,this.modelVersion_=-1,this.mirrored_=!1}loadFromMemory(e,t,r,n,a){let i=0,o=new Uint16Array(e),s=new Int32Array(e),u=new Float32Array(e),c=()=>{let e=s[i++]*s[i++],t=u.subarray(i,i+e);return i+=e,t},f=()=>{let e=s[i++],t=o.subarray(2*i,2*i+e);return i+=e/2,t};this.render_mean_=c(),this.render_identity_=c(),this.render_expression_=c(),this.render_uvs_=c();let _=f(),d=i<s.length?f():new Uint16Array,l=i<s.length?f():new Uint16Array,h=i<s.length?f():new Uint16Array,m=i<s.length?f():new Uint16Array;if(t||r||n||a){let e=_.length;t&&(e+=d.length),r&&(e+=l.length),n&&(e+=h.length),a&&(e+=m.length),this.render_indices_=new Uint16Array(e),this.render_indices_.set(_,0);let i=_.length;t&&(this.render_indices_.set(d,i),i+=d.length),r&&(this.render_indices_.set(l,i),i+=l.length),n&&(this.render_indices_.set(h,i),i+=h.length),a&&(this.render_indices_.set(m,i),i+=m.length)}else this.render_indices_=_;this.vertices_=new Float32Array(this.render_mean_),this.normals_=new Float32Array(this.vertices_.length),this.modelVersion_++}getVertices(){return this.vertices_}getUVs(){return this.render_uvs_}getIndices(){if(this.mirrored_){if(!this.render_indices_reversed){this.render_indices_reversed=new Uint16Array(this.render_indices_.length);for(let e=0;e<this.render_indices_.length;e+=3)this.render_indices_reversed[e]=this.render_indices_[e+2],this.render_indices_reversed[e+1]=this.render_indices_[e+1],this.render_indices_reversed[e+2]=this.render_indices_[e]}return this.render_indices_reversed}return this.render_indices_}getNormals(){return this.normalsCalculated_||this.calculateNormals(),this.normals_}getModelVersion(){return this.modelVersion_}getLandmarkDataForVertex(e){let t=[this.render_mean_[3*e],this.render_mean_[3*e+1],this.render_mean_[3*e+2]],r=[];for(let t=0;t<50;t++)r.push(this.render_identity_[3*e*50+t]),r.push(this.render_identity_[50*(3*e+1)+t]),r.push(this.render_identity_[50*(3*e+2)+t]);let n=[];for(let t=0;t<29;t++)n.push(this.render_expression_[3*e*29+t]),n.push(this.render_expression_[29*(3*e+1)+t]),n.push(this.render_expression_[29*(3*e+2)+t]);return{mean:t,identity:r,expression:n}}update(e,t,r){if(0!==this.render_mean_.length&&0!==this.render_identity_.length&&0!==this.render_expression_.length){this.mirrored_=r,this.vertices_.set(this.render_mean_);for(let t=0;t<e.length;t++)for(let r=0;r<this.vertices_.length;r++)this.vertices_[r]+=e[t]*this.render_identity_[r*e.length+t];for(let e=0;e<t.length;e++)for(let r=0;r<this.vertices_.length;r++)this.vertices_[r]+=t[e]*this.render_expression_[r*t.length+e];if(r)for(let e=0;e<this.vertices_.length;e+=3)this.vertices_[e]*=-1;this.normalsCalculated_=!1}}calculateNormals(){let e=this.getIndices(),t=this.vertices_,r=new Float32Array(e.length);if(!t)return;let a=e.length,i=this.normals_,o=new Float32Array([0,0,0]),s=new Float32Array([0,0,0]),u=new Float32Array([0,0,0]);for(let i=0;i<a;i+=3){let a=3*e[i],c=3*e[i+1],f=3*e[i+2];o[0]=t[c]-t[a],o[1]=t[c+1]-t[a+1],o[2]=t[c+2]-t[a+2],s[0]=t[f]-t[a],s[1]=t[f+1]-t[a+1],s[2]=t[f+2]-t[a+2],n.vec3.cross(u,o,s);let _=n.vec3.length(u);r[i]=u[0]/_,r[i+1]=u[1]/_,r[i+2]=u[2]/_}i.fill(0);for(let t=0;t<a;t+=3){let n=3*e[t],a=3*e[t+1],o=3*e[t+2];i[n]+=r[t],i[n+1]+=r[t+1],i[n+2]+=r[t+2],i[a]+=r[t],i[a+1]+=r[t+1],i[a+2]+=r[t+2],i[o]+=r[t],i[o+1]+=r[t+1],i[o+2]+=r[t+2]}let c=i.length/3;for(let e=0;e<c;e++){let t=3*e;o[0]=i[t],o[1]=i[t+1],o[2]=i[t+2],n.vec3.normalize(s,o),i[t]=s[0],i[t+1]=s[1],i[t+2]=s[2]}this.normalsCalculated_=!0}}t.FaceMesh=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cameraFrameTextureMatrix=t.CameraDraw=void 0;const n=r(8),a=r(3);t.CameraDraw=class{constructor(e){this._gl=e}dispose(){this._vbo&&this._gl.deleteBuffer(this._vbo),this._vbo=void 0,this._shader&&this._gl.deleteProgram(this._shader.prog),this._shader=void 0}_generate(e,t){if(this._vbo)return this._vbo;if(this._vbo||(this._vbo=e.createBuffer()),!this._vbo)throw new Error("Unable to create buffer object");let r=new Float32Array([-1,-1,0,0,0,-1,1,0,0,1,1,-1,0,1,0,1,-1,0,1,0,-1,1,0,0,1,1,1,0,1,1]);return e.bindBuffer(e.ARRAY_BUFFER,this._vbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this._vbo}drawCameraFrame(e,t,r,n){if(!r.texture)return;let a=this._gl;a.disable(a.DEPTH_TEST),a.disable(a.SCISSOR_TEST),a.disable(a.CULL_FACE),a.disable(a.BLEND);let i=this._getCameraShader(a),o=this._generate(a,r);a.activeTexture(a.TEXTURE0),a.useProgram(i.prog),a.uniformMatrix4fv(i.unif_skinTexTransform,!1,s(r.dataWidth,r.dataHeight,e,t,r.uvTransform,n)),a.uniform1i(i.unif_skinSampler,0),a.bindTexture(a.TEXTURE_2D,r.texture),a.bindBuffer(a.ARRAY_BUFFER,o),a.vertexAttribPointer(i.attr_position,3,a.FLOAT,!1,20,0),a.enableVertexAttribArray(i.attr_position),a.vertexAttribPointer(i.attr_texCoord,2,a.FLOAT,!1,20,12),a.enableVertexAttribArray(i.attr_texCoord),a.drawArrays(a.TRIANGLES,0,6),a.disableVertexAttribArray(i.attr_position),a.disableVertexAttribArray(i.attr_texCoord),a.bindTexture(a.TEXTURE_2D,null),a.bindBuffer(a.ARRAY_BUFFER,null),a.useProgram(null)}_getCameraShader(e){if(this._shader)return this._shader;let t=e.createProgram();if(!t)throw new Error("Unable to create program");let r=n.compileShader(e,e.VERTEX_SHADER,i),a=n.compileShader(e,e.FRAGMENT_SHADER,o);e.attachShader(t,r),e.attachShader(t,a),n.linkProgram(e,t);let s=e.getUniformLocation(t,"skinTexTransform");if(!s)throw new Error("Unable to get uniform location skinTexTransform");let u=e.getUniformLocation(t,"skinSampler");if(!u)throw new Error("Unable to get uniform location skinSampler");return this._shader={prog:t,unif_skinTexTransform:s,unif_skinSampler:u,attr_position:e.getAttribLocation(t,"position"),attr_texCoord:e.getAttribLocation(t,"texCoord")},this._shader}};let i="\n#ifndef GL_ES\n#define highp\n#define mediump\n#define lowp\n#endif\n\nattribute vec4 position;\nattribute vec4 texCoord;\nvarying vec4 skinTexVarying;\nuniform mat4 skinTexTransform;\n\nvoid main()\n{\n    gl_Position = position;\n    skinTexVarying = skinTexTransform * texCoord;\n}",o="\n#define highp mediump\n#ifdef GL_ES\n    // define default precision for float, vec, mat.\n    precision highp float;\n#else\n#define highp\n#define mediump\n#define lowp\n#endif\n\nvarying vec4 skinTexVarying;\nuniform lowp sampler2D skinSampler;\n\nvoid main()\n{\n    gl_FragColor = texture2DProj(skinSampler, skinTexVarying);\n}";function s(e,t,r,n,i,o){let s=a.mat4.create(),u=a.mat4.create();a.mat4.fromTranslation(u,[-.5,-.5,0]),a.mat4.multiply(s,u,s),o&&(a.mat4.fromScaling(u,[-1,1,1]),a.mat4.multiply(s,u,s)),a.mat4.fromRotation(u,-1*function(){if(window.screen.orientation)switch(window.screen.orientation.type){case"portrait-primary":return 270;case"landscape-secondary":return 180;case"portrait-secondary":return 90;default:return 0}else if(void 0!==window.orientation)switch(window.orientation){case 0:return 270;case 90:return 0;case 180:return 90;case-90:return 180}return 0}()*Math.PI/180,[0,0,1]),a.mat4.multiply(s,u,s);let c=a.vec3.create();c[0]=r,c[1]=n,c[2]=0,a.vec3.transformMat4(c,c,u);let f=Math.abs(c[0]),_=Math.abs(c[1]);a.mat4.fromScaling(u,[1,-1,1]),a.mat4.multiply(s,u,s);let d=f/_,l=e/t;return d>l?a.mat4.fromScaling(u,[1,l/d,1]):a.mat4.fromScaling(u,[d/l,1,1]),a.mat4.multiply(s,u,s),a.mat4.fromTranslation(u,[.5,.5,0]),a.mat4.multiply(s,u,s),a.mat4.multiply(s,i,s),s}t.cameraFrameTextureMatrix=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FaceDraw=void 0;const n=r(8);t.FaceDraw=class{constructor(e){this._gl=e}dispose(){this._vbo&&this._gl.deleteBuffer(this._vbo),this._normalbo&&this._gl.deleteBuffer(this._normalbo),this._ibo&&this._gl.deleteBuffer(this._ibo),this._shader&&this._gl.deleteProgram(this._shader.prog),this._vbo=void 0,this._normalbo=void 0,this._ibo=void 0,this._shader=void 0}_generateIBO(e,t){if(this._ibo&&this._lastIndices===e)return this._ibo;if(this._lastIndices=e,this._ibo||(this._ibo=t.createBuffer()),!this._ibo)throw new Error("Unable to create buffer object");return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),this._ibo}_generateVBO(e,t){if(this._vbo||(this._vbo=t.createBuffer()),!this._vbo)throw new Error("Unable to create buffer object");return t.bindBuffer(t.ARRAY_BUFFER,this._vbo),t.bufferData(t.ARRAY_BUFFER,e,t.STREAM_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this._vbo}_generateNormalBO(e,t){if(this._normalbo||(this._normalbo=t.createBuffer()),!this._normalbo)throw new Error("Unable to create buffer object");return t.bindBuffer(t.ARRAY_BUFFER,this._normalbo),t.bufferData(t.ARRAY_BUFFER,e,t.STREAM_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this._normalbo}drawFace(e,t){let r=this._gl,n=this._getShader(r),a=this._generateVBO(t.getVertices(),r),i=this._generateNormalBO(t.getNormals(),r),o=this._generateIBO(t.getIndices(),r);r.enable(r.DEPTH_TEST),r.enable(r.CULL_FACE),r.useProgram(n.prog),r.uniformMatrix4fv(n.unif_matrix,!1,e),r.bindBuffer(r.ARRAY_BUFFER,a),r.vertexAttribPointer(n.attr_position,3,r.FLOAT,!1,12,0),r.enableVertexAttribArray(n.attr_position),r.bindBuffer(r.ARRAY_BUFFER,i),r.vertexAttribPointer(n.attr_normal,3,r.FLOAT,!1,12,0),r.enableVertexAttribArray(n.attr_normal),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,o),r.drawElements(r.TRIANGLES,t.getIndices().length,r.UNSIGNED_SHORT,0),r.disableVertexAttribArray(n.attr_position),r.disableVertexAttribArray(n.attr_normal),r.bindBuffer(r.ARRAY_BUFFER,null),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null)}_getShader(e){if(this._shader)return this._shader;let t=e.createProgram();if(!t)throw new Error("Unable to create program");let r=n.compileShader(e,e.VERTEX_SHADER,a),o=n.compileShader(e,e.FRAGMENT_SHADER,i);e.attachShader(t,r),e.attachShader(t,o),n.linkProgram(e,t);let s=e.getUniformLocation(t,"matrix");if(!s)throw new Error("Unable to get uniform location mattrix");return this._shader={prog:t,unif_matrix:s,attr_position:e.getAttribLocation(t,"position"),attr_normal:e.getAttribLocation(t,"normal")},this._shader}};let a="\n#ifndef GL_ES\n#define highp\n#define mediump\n#define lowp\n#endif\n\nuniform mat4 matrix;\nattribute vec4 position;\nattribute vec3 normal;\nvarying highp vec3 vnormal;\n\nvoid main()\n{\n    gl_Position = matrix * position;\n    vnormal = normal;\n}",i="\n#define highp mediump\n#ifdef GL_ES\n    // define default precision for float, vec, mat.\n    precision highp float;\n#else\n#define highp\n#define mediump\n#define lowp\n#endif\n\nvarying vec4 skinTexVarying;\nvarying highp vec3 vnormal;\nuniform lowp sampler2D skinSampler;\n\nvoid main()\n{\n    vec3 normal2 = 0.5 * vnormal + 0.5;\n    gl_FragColor = vec4(normal2.x , normal2.y, normal2.z, 1.0);\n}"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FaceDrawProject=void 0;const n=r(8);t.FaceDrawProject=class{constructor(e){this._gl=e}dispose(){this._vbo&&this._gl.deleteBuffer(this._vbo),this._uvbo&&this._gl.deleteBuffer(this._uvbo),this._ibo&&this._gl.deleteBuffer(this._ibo),this._shader&&this._gl.deleteProgram(this._shader.prog),this._vbo=void 0,this._uvbo=void 0,this._ibo=void 0,this._shader=void 0}_generateIBO(e,t){if(this._ibo&&this._lastIndices===e)return this._ibo;if(this._lastIndices=e,this._ibo||(this._ibo=t.createBuffer()),!this._ibo)throw new Error("Unable to create buffer object");return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),this._ibo}_generateVBO(e,t){if(this._vbo||(this._vbo=t.createBuffer()),!this._vbo)throw new Error("Unable to create buffer object");return t.bindBuffer(t.ARRAY_BUFFER,this._vbo),t.bufferData(t.ARRAY_BUFFER,e,t.STREAM_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this._vbo}_generateUVBO(e,t){if(this._uvbo||(this._uvbo=t.createBuffer()),!this._uvbo)throw new Error("Unable to create buffer object");return t.bindBuffer(t.ARRAY_BUFFER,this._uvbo),t.bufferData(t.ARRAY_BUFFER,e,t.STREAM_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this._uvbo}drawFace(e,t,r,n,a,i){let o=this._gl,s=this._getShader(o),u=this._generateVBO(t,o),c=this._generateUVBO(n,o),f=this._generateIBO(a,o);o.enable(o.DEPTH_TEST),o.enable(o.CULL_FACE),o.useProgram(s.prog),o.uniformMatrix4fv(s.unif_matrix,!1,e),o.uniformMatrix4fv(s.unif_uvmatrix,!1,r),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i),o.uniform1i(s.unif_sampler,0),o.bindBuffer(o.ARRAY_BUFFER,u),o.vertexAttribPointer(s.attr_position,3,o.FLOAT,!1,12,0),o.enableVertexAttribArray(s.attr_position),o.bindBuffer(o.ARRAY_BUFFER,c),o.vertexAttribPointer(s.attr_uv,3,o.FLOAT,!1,12,0),o.enableVertexAttribArray(s.attr_uv),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,f),o.drawElements(o.TRIANGLES,6912,o.UNSIGNED_SHORT,0),o.disableVertexAttribArray(s.attr_position),o.disableVertexAttribArray(s.attr_uv),o.bindBuffer(o.ARRAY_BUFFER,null),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,null)}_getShader(e){if(this._shader)return this._shader;let t=e.createProgram();if(!t)throw new Error("Unable to create program");let r=n.compileShader(e,e.VERTEX_SHADER,a),o=n.compileShader(e,e.FRAGMENT_SHADER,i);e.attachShader(t,r),e.attachShader(t,o),n.linkProgram(e,t);let s=e.getUniformLocation(t,"matrix");if(!s)throw new Error("Unable to get uniform location matrix");let u=e.getUniformLocation(t,"uvmatrix");if(!u)throw new Error("Unable to get uniform location matrix");let c=e.getUniformLocation(t,"uSampler");if(!c)throw new Error("Unable to get uniform location sampler");return this._shader={prog:t,unif_matrix:s,unif_sampler:c,unif_uvmatrix:u,attr_position:e.getAttribLocation(t,"position"),attr_uv:e.getAttribLocation(t,"uv"),attr_texturecoord:e.getAttribLocation(t,"aTextureCoord")},this._shader}};let a="\n#ifndef GL_ES\n#define highp\n#define mediump\n#define lowp\n#endif\n\nuniform mat4 matrix;\nuniform mat4 uvmatrix;\nattribute vec4 position;\nattribute vec3 normal;\nattribute vec3 uv;\n\n// varying highp vec3 vnormal;\n\nvarying highp vec2 vTextureCoord;\nvarying highp float vAlpha;\n\nvoid main()\n{\n    gl_Position = matrix * position;\n    vec4 ret = uvmatrix * vec4(uv.x, uv.y, uv.z, 1.0);\n    ret.x /= ret.w * 2.0;\n    ret.y /= ret.w * 2.0;\n    ret.x += 0.5;\n    ret.y += 0.0;\n    vAlpha = 1.0;\n    vTextureCoord = ret.xy;\n}",i="\n#define highp mediump\n#ifdef GL_ES\n    // define default precision for float, vec, mat.\n    precision highp float;\n#else\n#define highp\n#define mediump\n#define lowp\n#endif\n\nvarying highp vec2 vTextureCoord;\nvarying highp vec3 vnormal;\nvarying highp float vAlpha;\nuniform lowp sampler2D uSampler;\n\nvoid main()\n{\n    // vec3 normal2 = 0.5 * vnormal + 0.5;\n    vec4 p = texture2D(uSampler, vTextureCoord);\n    p.a = vAlpha;\n    gl_FragColor = p; // vec4(normal2.x , normal2.y, normal2.z, 1.0);\n}"},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CameraSource=void 0;const a=r(19),i=r(21),o=r(10),s=r(12),u=r(2);let c=1,f=new Map,_=document.createElement("video");_.setAttribute("playsinline",""),_.setAttribute("webkit-playsinline",""),i.profile.videoElementInDOM&&(_.style.width="0px",_.style.height="0px",document.body.appendChild(_));class d extends a.HTMLElementSource{constructor(e,t,r){super(_,t),this._impl=e,this._deviceId=r,this._currentStream=null,this._activeDeviceId=null,this._hasStartedOrientation=!1,this._deviceMotionListener=e=>{let t=o.Pipeline.get(this._pipeline);if(!t)return;let r=void 0!==e.timeStamp&&null!==e.timeStamp?e.timeStamp:performance.now();null!==e.accelerationIncludingGravity&&null!==e.accelerationIncludingGravity.x&&null!==e.accelerationIncludingGravity.y&&null!==e.accelerationIncludingGravity.z&&t.motionAccelerometerSubmit(r,e.accelerationIncludingGravity.x*i.profile.deviceMotionMutliplier,e.accelerationIncludingGravity.y*i.profile.deviceMotionMutliplier,e.accelerationIncludingGravity.z*i.profile.deviceMotionMutliplier),null===e.rotationRate||null===e.rotationRate.alpha||null===e.rotationRate.beta||null===e.rotationRate.gamma||this._hasStartedOrientation?this._hasStartedOrientation||this._startDeviceOrientation():(e.timeStamp,t.motionRotationRateSubmit(r,e.rotationRate.alpha*Math.PI/-180,e.rotationRate.beta*Math.PI/-180,e.rotationRate.gamma*Math.PI/-180))}}static create(e,t){let r=c++;return f.set(r,new d(r,e,t)),u.zcout("camera_source_t initialized"),r}static get(e){return f.get(e)}destroy(){f.delete(this._impl),super.destroy()}_stop(){if(!this._currentStream)return;this._currentStream.getTracks().forEach(e=>e.stop()),this._currentStream=null}pause(){super.pause(),this._stopDeviceMotion(),this._syncCamera()}start(){super.start(),this._startDeviceMotion(),this._syncCamera()}_getConstraints(){return n(this,void 0,void 0,(function*(){let e,t;this._deviceId!==d.DEFAULT_DEVICE_ID&&this._deviceId!==d.USER_DEFAULT_DEVICE_ID?e=this._deviceId:t=this._deviceId===d.DEFAULT_DEVICE_ID?"environment":"user";let r={audio:!1,video:{facingMode:t,width:i.profile.videoWidth,height:i.profile.videoHeight,frameRate:i.profile.requestHighFrameRate?60:void 0,deviceId:e}};if(e)return r;if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return r;let n=yield navigator.mediaDevices.enumerateDevices(),a=!1;return n=n.filter(e=>{if("videoinput"!==e.kind)return!1;if(e.getCapabilities){a=!0;let r=e.getCapabilities();if(r&&r.facingMode&&r.facingMode.indexOf("user"===t?"user":"environment")<0)return!1}return!0}),a&&0!==n.length?("object"==typeof r.video&&(u.zcout("choosing device ID",n[n.length-1].deviceId),r.video.deviceId=n[n.length-1].deviceId),r):r}))}getFrame(e){return this._cameraToScreenRotation=s.cameraRotationForScreenOrientation(!1),super.getFrame(e)}_getUserMedia(){return n(this,void 0,void 0,(function*(){let e=yield this._getConstraints();return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?yield navigator.mediaDevices.getUserMedia(e):yield new Promise((t,r)=>{navigator.getUserMedia(e,t,r)})}))}_syncCamera(){return n(this,void 0,void 0,(function*(){if(this._currentStream&&this._isPaused)this._stop();else if(this._currentStream&&this._activeDeviceId!==this._deviceId&&this._stop(),!this._isPaused){if(this._activeDeviceId=this._deviceId,this._currentStream=yield this._getUserMedia(),this._isPaused)return void(yield this._syncCamera());if(this._isUserFacing=!1,this._currentStream){let e=this._currentStream.getVideoTracks();e.length>0&&(this._isUserFacing="user"===e[0].getSettings().facingMode)}if(!(this._video instanceof HTMLVideoElement))return;this._video.src="",this._video.loop=!1,this._video.muted=!0,this._video.srcObject=this._currentStream,this._video.play()}}))}_startDeviceOrientation(){this._hasStartedOrientation||(this._hasStartedOrientation=!0,this._deviceOrientationListener=e=>{let t=o.Pipeline.get(this._pipeline);if(!t)return;let r=void 0!==e.timeStamp&&null!==e.timeStamp?e.timeStamp:performance.now();null!==e.alpha&&null!==e.beta&&null!==e.gamma&&t.motionAttitudeSubmit(r,e.alpha,e.beta,e.gamma)},window.addEventListener("deviceorientation",this._deviceOrientationListener))}_startDeviceMotion(){window.addEventListener("devicemotion",this._deviceMotionListener,!1)}_stopDeviceMotion(){window.removeEventListener("devicemotion",this._deviceMotionListener),this._deviceOrientationListener&&window.removeEventListener("deviceorientation",this._deviceOrientationListener)}}t.CameraSource=d,d.USER_DEFAULT_DEVICE_ID="Simulated User Default Device ID: a908df7f-5661-4d20-b227-a1c15d2fdb4b",d.DEFAULT_DEVICE_ID="Simulated Default Device ID: a908df7f-5661-4d20-b227-a1c15d2fdb4b"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FaceLandmark=t.getFaceLandmark=t.destroyFaceLandmark=t.createFaceLandmark=void 0;const n=r(3),a=r(47),i=r(2);let o=1,s=new Map;t.createFaceLandmark=function(e){let t=o++;return s.set(t,new u(e)),i.zcout("face_landmark_t initialized"),t},t.destroyFaceLandmark=function(e){s.delete(e)},t.getFaceLandmark=function(e){return s.get(e)};class u{constructor(e){this._name=e,this.anchor_pose=n.mat4.create()}_getVertex(e,t,r){let n=r.mean.slice();for(let t=0;t<50;t++)n[0]+=e[t]*r.identity[3*t+0],n[1]+=e[t]*r.identity[3*t+1],n[2]+=e[t]*r.identity[3*t+2];for(let e=0;e<29;e++)n[0]+=t[e]*r.expression[3*e+0],n[1]+=t[e]*r.expression[3*e+1],n[2]+=t[e]*r.expression[3*e+2];return n}update(e,t,r){let i,o=a.landmarkData[this._name.toString()];if(o){if(Array.isArray(o)){i=this._getVertex(e,t,o[0]);let r=this._getVertex(e,t,o[1]);i[0]=.5*(i[0]+r[0]),i[1]=.5*(i[1]+r[1]),i[2]=.5*(i[2]+r[2])}else i=this._getVertex(e,t,o);r&&(i[0]*=-1),n.mat4.fromTranslation(this.anchor_pose,i)}}}t.FaceLandmark=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.landmarkData=void 0,t.landmarkData={0:[{mean:[.235,.2344,.7305],identity:[.008,.0087,.0024,-.0026,6e-4,-.0022,5e-4,.0033,.0026,.0017,-.0055,-8e-4,.0011,.0059,0,2e-4,.001,-.001,-.0044,-.0011,-1e-4,.0024,.0019,-9e-4,4e-4,-.0015,0,.0038,.0013,3e-4,.002,-.0021,.0018,.0023,.0011,.0012,-.0011,-.0017,9e-4,-.0012,-8e-4,7e-4,-.0017,.0029,-.0029,8e-4,-.0027,8e-4,-.0017,4e-4,9e-4,-.001,-3e-4,8e-4,-.0016,-3e-4,-7e-4,.0016,-9e-4,.0021,-5e-4,.0011,-.0024,-1e-4,6e-4,1e-4,-.0026,-4e-4,-3e-4,-9e-4,5e-4,3e-4,-8e-4,-.001,-4e-4,-8e-4,.0022,-.0014,-1e-4,-.0023,0,-.0018,7e-4,-.0036,.0017,.0017,-.0018,-2e-4,-4e-4,-9e-4,-8e-4,3e-4,.0012,9e-4,-4e-4,-.0016,5e-4,-.0013,.0011,.0023,.0029,.0024,.0017,-.0027,-4e-4,-.001,-.0018,-.0015,-.001,.001,-.0013,-1e-4,-2e-4,7e-4,3e-4,3e-4,-.0016,9e-4,-.0021,4e-4,.0014,.002,-7e-4,-4e-4,2e-4,-4e-4,-6e-4,-9e-4,.0015,4e-4,-4e-4,5e-4,-.0015,9e-4,3e-4,3e-4,-2e-4,-8e-4,-9e-4,.0023,4e-4,1e-4,-4e-4,-1e-4,7e-4,2e-4,.001,1e-4,-.0029,-5e-4],expression:[0,3e-4,.0052,-7e-4,-.0051,-.0103,0,.0019,.0027,-.0054,.0135,.035,-5e-4,-6e-4,.0025,-.0045,-.0557,-.003,-.0191,-.1199,.0548,-.0036,-.0682,-.0167,2e-4,-.0085,-.0085,.0044,.0041,-.0568,.0044,.179,.0065,-.0017,-.1006,.0036,-.0267,-.3279,.0301,-.0011,-.0173,-.001,.0046,.2808,.0207,.0162,.238,-.0225,.0017,.1041,.0203,5e-4,.0161,.0031,-.0436,.6504,.0873,-.0099,.1039,.0048,-.0254,.2534,-.0042,.003,-.0106,-.0153,-.0118,.0252,9e-4,-.0071,.0099,.007,-.0724,.0461,-.0235,.0833,.004,.0141,-.0219,.0132,-.0042,-.0179,.0045,-.0215,.3638,.0054,-.0445]},{mean:[.2358,.1466,.7183],identity:[.0077,.0093,1e-4,-.0022,0,-.0041,5e-4,.0022,.0028,.0018,-.0038,-.0013,.001,.0044,-2e-4,0,.0017,-.0016,-.0043,-2e-4,-1e-4,.0023,9e-4,5e-4,-7e-4,-4e-4,-.0017,.003,7e-4,6e-4,.0011,-.0018,5e-4,.0018,-8e-4,4e-4,-.0023,-6e-4,-3e-4,-.0015,-.0014,-1e-4,-.0018,.0027,-.0026,3e-4,-.0031,.0011,-.0026,-.0011,.0012,-.0013,-2e-4,7e-4,-.0021,.0021,4e-4,.0012,-.001,.002,-3e-4,2e-4,-.0026,-3e-4,.001,1e-4,-.0018,-.001,9e-4,-.0011,.001,4e-4,-8e-4,-7e-4,-.001,-3e-4,7e-4,-5e-4,-6e-4,-.0019,-5e-4,-.002,7e-4,-.0027,.0014,.0013,6e-4,-5e-4,-3e-4,-3e-4,-.001,0,.0019,1e-4,6e-4,-.0012,4e-4,-9e-4,4e-4,.0025,3e-4,.0024,.0017,-9e-4,-.0015,-.0015,-.001,-.0023,-.001,-5e-4,-4e-4,8e-4,9e-4,7e-4,2e-4,7e-4,-9e-4,9e-4,-.0013,1e-4,9e-4,2e-4,6e-4,-6e-4,-8e-4,-4e-4,-7e-4,8e-4,.0019,3e-4,.0015,2e-4,-.0015,-3e-4,0,6e-4,3e-4,6e-4,-6e-4,2e-4,5e-4,-4e-4,.0012,-4e-4,2e-4,-8e-4,6e-4,-4e-4,2e-4,-.0021],expression:[-.0034,.0054,.0069,.004,6e-4,-.0104,-3e-4,.0036,.0025,.0065,.0296,.0208,-9e-4,.0154,.0029,-.0167,.0124,.004,-.0102,.0351,.028,-.019,.0146,-.0035,-.0023,-.0069,-.0051,-.01,.0262,-.028,.0112,.082,.023,-.0019,-.066,-.0104,-.0408,.0164,.0075,-.0074,.0367,.0041,.0517,-.0207,.0045,.0291,-.0672,-.0129,.0345,-.1558,-.0106,.0037,-.0437,-.0021,.0854,-.1121,.0187,.0041,.0072,.0011,.0193,-.0143,-.0119,.005,-.02,-.0122,-.008,.0527,.0036,-.006,.0222,.007,-.0429,.046,-.0046,.0226,-.0059,.0202,-.0173,.0087,0,-.0067,-.0095,-.0153,.1506,-.0017,.0021]}],1:[{mean:[-.2271,.2323,.7319],identity:[-.0084,.0097,.0018,.0041,2e-4,-.002,-.0012,.0036,.0019,-9e-4,-.0063,-.001,-3e-4,.0053,6e-4,1e-4,5e-4,-.0015,.0044,-.0025,-.0015,-.002,.0016,-6e-4,2e-4,-.0013,0,-.0022,2e-4,2e-4,-.0025,-.0014,.0015,8e-4,2e-4,.0012,6e-4,-6e-4,.0017,0,3e-4,-1e-4,.0024,.0025,-.0029,-.0015,-.0015,1e-4,.0031,-.0016,7e-4,.0019,6e-4,.002,9e-4,.001,-.0014,-.002,-.0015,.0029,1e-4,5e-4,-.0023,8e-4,-.0011,.0019,.0017,-3e-4,-.0011,-3e-4,.0011,-8e-4,.0019,-.0022,1e-4,.0015,.0017,-8e-4,-.0011,-.0022,3e-4,.0022,6e-4,-.003,-2e-4,0,-.0017,-2e-4,0,1e-4,4e-4,.0012,.0019,-.0014,4e-4,-.0017,-.0012,-.0011,.0021,-.0029,.0026,.0018,-.0023,-.0029,1e-4,.0014,-.0019,-4e-4,-4e-4,.0023,-.0016,0,-9e-4,.0014,-.0015,.0015,-.0016,-.0011,-.0022,1e-4,-.0018,.0027,-.0013,4e-4,-1e-4,-5e-4,.0011,-2e-4,.0015,5e-4,-9e-4,-1e-4,.0029,6e-4,0,-3e-4,7e-4,-8e-4,-5e-4,.0025,3e-4,2e-4,-8e-4,-1e-4,3e-4,0,.0014,2e-4,-.0024,1e-4],expression:[-.0025,-9e-4,.006,.004,-.0027,-.0113,-8e-4,.001,.0031,-.0016,.0144,.0382,-3e-4,-5e-4,.0035,-.0044,-.0511,-.0014,-7e-4,-.1007,.0582,-6e-4,-.0606,-.0165,5e-4,-.0087,-.0093,.0036,.0057,-.0576,-.0039,.1488,.0127,.0016,-.0666,-9e-4,-.0153,.3162,-.0445,-.0021,.0023,.0043,-.0033,.2382,.0063,-.0217,.167,-.039,.0097,-.1144,-.0189,-.0145,.6831,.0632,-.0012,-.1959,-.0133,4e-4,.1108,-3e-4,.0062,.2593,-.0161,-.0018,-.0051,-.012,.0162,.016,-.0022,-.0052,-.0201,.0101,.0115,.0365,-.024,-.0059,.0188,-.0336,.0352,.0224,-.0229,.0146,.0086,-.0273,-.0032,.0103,-.0112]},{mean:[-.2288,.1541,.7202],identity:[-.0082,.0101,2e-4,.0036,-7e-4,-.0037,-8e-4,.0024,.0022,-.0013,-.0045,-.0013,-6e-4,.0045,-4e-4,4e-4,.0012,-.0014,.0042,-.001,-7e-4,-.0019,3e-4,-2e-4,.0012,-4e-4,-.0012,-.0018,-4e-4,-1e-4,-.0014,-.0012,1e-4,1e-4,-.0017,.001,.0015,-1e-4,6e-4,1e-4,0,-6e-4,.0028,.0021,-.0025,-.002,-.0015,7e-4,.0028,-.0023,9e-4,.0013,1e-4,.0016,.0012,.0032,-6e-4,-.0013,-.0011,.0021,3e-4,-5e-4,-.0024,4e-4,-4e-4,.0014,.0015,-8e-4,-3e-4,3e-4,.0017,-6e-4,.002,-.0018,-3e-4,9e-4,1e-4,2e-4,-6e-4,-.0015,-4e-4,.0022,7e-4,-.0023,0,-2e-4,-2e-4,-3e-4,-1e-4,6e-4,-2e-4,6e-4,.0022,-3e-4,.0013,-.0014,-5e-4,-3e-4,.0013,-.0027,6e-4,.0025,-.0023,-8e-4,-.0013,.0017,-9e-4,-.0019,1e-4,8e-4,-7e-4,-4e-4,0,.001,-.001,.0019,-8e-4,-.0015,-6e-4,-2e-4,-.0011,8e-4,1e-4,9e-4,-8e-4,-4e-4,6e-4,7e-4,.0021,-4e-4,7e-4,-5e-4,.0021,-7e-4,-4e-4,-9e-4,8e-4,3e-4,1e-4,3e-4,1e-4,9e-4,.001,-5e-4,5e-4,-.001,.001,4e-4,-5e-4,-.0012],expression:[8e-4,.0037,.0078,-4e-4,5e-4,-.012,-2e-4,-.0046,.0033,-.0089,.0295,.0221,-.0024,-.0084,.0013,.0057,.0125,.0049,-.0036,.0373,.0285,.0115,.0135,-.0035,.0048,.0108,-.0033,.0106,.0281,-.0301,-.0082,.0803,.0244,-7e-4,-.0725,-.0105,-.0247,-.0036,-.0143,-.0045,-.029,2e-4,-.0303,.0093,-.0021,-.0196,-.0754,-.0211,.0326,.1246,.006,-.0804,-.1499,.0109,.0182,-.0029,-.0014,-.0035,.0072,-8e-4,-.0152,-.0108,-.0166,-.0073,-.0144,-.0095,.0101,.047,-.0018,-.004,-.0189,.0027,.0104,.0298,-.0042,-.0096,.0191,-.0217,.0228,.0226,-.0105,.0047,-.0048,-.0172,.0061,-.0043,-.0016]}],2:{mean:[.5396,.2028,.2496],identity:[.0204,.0146,-.0182,-.0052,.0158,-.0038,-.0025,-.0108,-.006,.0085,-.0044,.0029,.0042,.001,.0095,.0015,-.0034,-.0064,-.0057,7e-4,.0026,7e-4,.0037,-6e-4,.0037,.0026,.0024,5e-4,-.0019,-.0013,.003,-.0028,.0018,-9e-4,.002,-.0047,.004,-.003,.0031,-.0027,-.0026,-.0017,.0016,.0014,-4e-4,.0021,-.002,0,.0017,7e-4,-4e-4,-7e-4,-.0018,-9e-4,2e-4,-.0012,1e-4,-5e-4,-.0011,4e-4,2e-4,.0011,1e-4,8e-4,.0017,-.0013,.0025,.0017,.001,2e-4,3e-4,5e-4,-4e-4,-1e-4,-5e-4,7e-4,-.0022,-.0029,6e-4,-8e-4,-6e-4,6e-4,-5e-4,5e-4,.0013,3e-4,-5e-4,-.003,7e-4,2e-4,.0016,-4e-4,0,0,4e-4,1e-4,.0014,.0012,1e-4,4e-4,-1e-4,8e-4,9e-4,4e-4,-4e-4,9e-4,-2e-4,.001,9e-4,4e-4,1e-4,7e-4,7e-4,.001,-.0017,-8e-4,2e-4,.0017,-3e-4,-1e-4,4e-4,5e-4,7e-4,5e-4,-1e-4,-6e-4,-1e-4,1e-4,-3e-4,-7e-4,-2e-4,-5e-4,0,-3e-4,3e-4,8e-4,-2e-4,-3e-4,5e-4,1e-4,-7e-4,-.001,-2e-4,3e-4,4e-4,-1e-4,7e-4,0,4e-4,4e-4],expression:[1e-4,-4e-4,1e-4,0,5e-4,2e-4,0,0,3e-4,-2e-4,3e-4,5e-4,-1e-4,2e-4,8e-4,1e-4,-2e-4,-5e-4,-3e-4,6e-4,5e-4,0,1e-4,2e-4,1e-4,-1e-4,-6e-4,-2e-4,5e-4,0,-4e-4,4e-4,.0016,4e-4,-4e-4,-.0015,0,1e-4,1e-4,-3e-4,3e-4,.0019,-2e-4,7e-4,4e-4,4e-4,-8e-4,-.0015,.0013,-.0016,-.0069,4e-4,-6e-4,-.0019,0,-1e-4,5e-4,-3e-4,2e-4,.0014,-3e-4,6e-4,.0011,4e-4,-3e-4,-.0032,-6e-4,8e-4,.0025,-3e-4,3e-4,.0015,-1e-4,1e-4,3e-4,-1e-4,0,0,-3e-4,4e-4,.0019,1e-4,0,-8e-4,-1e-4,1e-4,5e-4]},3:{mean:[-.5464,.2141,.26],identity:[-.0207,.0172,-.0176,.0068,.0148,-.0051,.0042,-.0101,-.0058,-.0087,-.0059,.0045,-.0056,.0017,.0097,-.0048,-.004,-.0044,.0019,2e-4,.0041,-.0052,.0041,2e-4,-.0027,6e-4,.002,-.0027,-.0033,-6e-4,-.004,9e-4,-.0012,-1e-4,-.0026,.0021,-.003,-.0025,.0052,.0025,.0022,-1e-4,-8e-4,.0013,.001,4e-4,.0018,.0014,6e-4,-5e-4,-.0015,-.0039,.0014,-1e-4,8e-4,-2e-4,6e-4,-5e-4,-.0038,-.0012,-.0018,-3e-4,.001,9e-4,.0012,.0024,-.0024,-7e-4,-.0016,-.0016,3e-4,-.001,-.0014,-.0014,.001,-3e-4,-7e-4,-.0012,3e-4,6e-4,3e-4,-5e-4,3e-4,.0012,6e-4,-8e-4,4e-4,4e-4,8e-4,-2e-4,-.0014,3e-4,0,.0023,-3e-4,-.0012,-.0013,.0011,-2e-4,-.0014,-1e-4,.0014,0,3e-4,3e-4,-8e-4,-5e-4,-7e-4,-7e-4,-2e-4,3e-4,5e-4,2e-4,-1e-4,.0011,-.0014,1e-4,-.0015,-1e-4,-3e-4,0,-.001,-1e-4,-8e-4,8e-4,-8e-4,-2e-4,-.0011,-3e-4,-4e-4,1e-4,-2e-4,3e-4,-7e-4,0,3e-4,1e-4,-8e-4,5e-4,1e-4,4e-4,.0014,-6e-4,-.001,-3e-4,-2e-4,1e-4,-1e-4,-1e-4,7e-4],expression:[-3e-4,-1e-4,6e-4,4e-4,0,-7e-4,0,-3e-4,-2e-4,-4e-4,.0012,8e-4,1e-4,-5e-4,-7e-4,-4e-4,0,1e-4,-4e-4,.0017,7e-4,0,1e-4,3e-4,0,4e-4,4e-4,5e-4,1e-4,-.001,-7e-4,.0022,.0026,5e-4,-.0024,-.0023,0,1e-4,3e-4,0,-.0013,-.0015,6e-4,.0014,8e-4,-2e-4,-.0025,-.0023,-3e-4,.0049,.006,-2e-4,-7e-4,-2e-4,0,-.0019,-.0018,-2e-4,.0017,.0017,3e-4,.0015,7e-4,1e-4,-.0023,-.0036,2e-4,.0023,.0017,0,-5e-4,-3e-4,-3e-4,4e-4,2e-4,-1e-4,-3e-4,-5e-4,1e-4,.0018,.0025,1e-4,-6e-4,-.0011,0,1e-4,1e-4]},4:{mean:[.0018,.1864,.853],identity:[-.0011,.0134,.0085,9e-4,-.0025,-7e-4,-3e-4,.0033,4e-4,-5e-4,-.0047,-.002,7e-4,.0026,-.0069,-1e-4,.0036,.0072,5e-4,-8e-4,-.0047,4e-4,-8e-4,-.001,0,2e-4,-.0036,-2e-4,-.001,-.0048,-1e-4,.0018,.0044,-7e-4,-2e-4,.0043,3e-4,.002,-.0031,0,-7e-4,.0013,0,.0037,.0033,-.0016,-.0012,.002,-1e-4,-.0027,.0051,5e-4,8e-4,7e-4,-.0017,.0054,.0023,-3e-4,.0032,1e-4,0,7e-4,-5e-4,-.0011,2e-4,8e-4,0,-.0033,-8e-4,-7e-4,7e-4,.0033,5e-4,-3e-4,.0029,-1e-4,-.0024,-.0011,-.002,-.0015,-.0019,2e-4,7e-4,.0031,6e-4,.0012,0,0,-.0021,0,-9e-4,-.0011,-.0011,-2e-4,.0015,.001,.0013,8e-4,.001,-3e-4,9e-4,.0027,-2e-4,-.0011,-.0011,6e-4,7e-4,2e-4,1e-4,-5e-4,-.0022,.0011,-.0014,9e-4,3e-4,2e-4,0,-6e-4,-4e-4,-.0011,-7e-4,.001,-.0012,6e-4,-.0012,-.0015,3e-4,-9e-4,-.0013,-.0013,7e-4,.001,-.0011,-.0013,.0015,4e-4,1e-4,4e-4,-1e-4,-.0016,-.0016,9e-4,-7e-4,-.0024,5e-4,-1e-4,-.0017,-2e-4,3e-4,-9e-4],expression:[-.0017,.0019,.0097,.003,-.0103,-.0093,9e-4,6e-4,.0023,-.0017,-.0204,.0376,.0033,-.0034,.0033,-.0026,-.0322,.0396,-.0032,-.0947,.0942,-7e-4,-.0175,.0266,-.001,-6e-4,.0016,.0025,.0157,-.0142,-.0022,.037,.015,.0021,-.0102,-.0107,.0036,.0055,-.0051,.0021,3e-4,-3e-4,4e-4,-.0177,.0074,-6e-4,-.0357,.0149,-.0066,9e-4,.0013,-.0031,.0016,.0095,.002,.0052,.0035,-3e-4,.0053,-.0082,.002,.0022,-.0071,-.0011,5e-4,.0055,.0011,3e-4,-.0126,-4e-4,3e-4,-.0023,-.0015,.0059,.0063,-.0042,-.0023,.0055,.0019,.0017,-.0075,6e-4,-8e-4,.0018,.0012,.0012,-5e-4]},5:{mean:[-.002,-.0469,1.0039],identity:[-.0017,.0018,.0156,6e-4,-.0038,5e-4,4e-4,.0013,.002,-4e-4,-.0015,-.0051,5e-4,-7e-4,-.0055,-1e-4,-9e-4,.008,-2e-4,.0036,-.0053,4e-4,-.0026,-.0016,7e-4,9e-4,-.009,-3e-4,7e-4,-.0084,.0015,.0021,.0032,-.0015,.0018,.0046,-3e-4,-4e-4,-1e-4,8e-4,-.0044,-7e-4,-8e-4,7e-4,.0048,-.0024,-3e-4,.0024,2e-4,-.0051,.0058,-6e-4,.0028,.0018,-.0021,.0035,.0057,.0011,.0065,0,-2e-4,.0011,.003,-.0027,8e-4,7e-4,3e-4,-.0039,-.002,-2e-4,-.0015,.0034,.0012,-.0025,.0024,-2e-4,4e-4,-.0042,-.0024,-.001,-.0023,.0016,-7e-4,.0039,1e-4,-5e-4,.0018,3e-4,-2e-4,-9e-4,-.0015,3e-4,-7e-4,-1e-4,-2e-4,.0023,.0032,.002,-.0013,.0013,-.0038,.0045,1e-4,-.0031,1e-4,.0019,-1e-4,.0016,.0013,0,-.002,.0023,2e-4,.0011,.0018,-.0024,6e-4,-.0017,.002,-8e-4,-.0021,7e-4,.0011,8e-4,4e-4,-.001,.0012,2e-4,-6e-4,-.0027,-5e-4,.001,-9e-4,1e-4,-1e-4,8e-4,-.0011,.0022,-.001,-5e-4,-.0011,.0016,-.0015,8e-4,-3e-4,9e-4,.0013,-7e-4,-7e-4,-2e-4],expression:[-.0018,-.0168,.0088,.0389,.1026,.0414,.2201,-.0262,-.0016,-.0017,.0612,-.0298,-.0323,.0093,.0013,-.005,.2207,.1315,-4e-4,.0858,-.0303,-.0133,.015,-.008,.1454,.0114,.0177,-.0077,.1022,.0356,-.0023,.1088,.0232,.003,-.0706,.0347,-1e-4,.004,-.0011,.0397,-.0096,-.0033,.0029,-.01,-.0083,-6e-4,-.0135,.0016,-.0087,-.0019,.0022,-.004,-.0087,.0105,8e-4,-.005,.0069,.0028,.0409,-.0391,.003,.0103,.0051,.0026,.0776,-.0083,-.0062,-.0567,.0268,.0175,.0017,.0156,-.0043,.0299,-.0395,-.0015,.0051,-.0148,.0125,.0035,.0603,.0109,-.0645,-.0257,.002,6e-4,-8e-4]},6:{mean:[-6e-4,-.1542,.8789],identity:[-7e-4,-.0032,.01,0,-.0027,.0031,6e-4,5e-4,-6e-4,-3e-4,.0013,-.0049,-2e-4,-.002,-.0046,8e-4,-.0011,.0054,2e-4,.0043,-.0027,3e-4,-.0022,-.0019,8e-4,.0032,-.0069,0,4e-4,-.0071,.0016,.0027,.0039,-.0017,9e-4,.0031,-1e-4,-5e-4,-4e-4,7e-4,-.0026,-.0012,-5e-4,6e-4,2e-4,-.0014,-.0013,.0019,-2e-4,-.0053,.0031,-6e-4,.0016,.0023,-.0013,.0021,.0029,8e-4,.0052,0,4e-4,0,.0037,-.0026,3e-4,.002,-2e-4,-.0024,4e-4,-4e-4,-.0012,8e-4,7e-4,-.0023,5e-4,0,.0014,-.0022,-.0016,0,-.0012,8e-4,-7e-4,.0014,-6e-4,-.0012,-3e-4,2e-4,.0012,-3e-4,-.002,-1e-4,1e-4,-2e-4,-.0016,9e-4,.002,.0019,0,6e-4,-.0022,.0016,1e-4,-.0017,-.0013,.001,9e-4,-1e-4,.0011,3e-4,-7e-4,.0014,8e-4,.0013,.0011,-.002,0,-.0015,.0014,.001,-.0015,7e-4,3e-4,.001,-1e-4,.0012,7e-4,6e-4,-4e-4,-.0013,-.0012,-9e-4,-.0011,2e-4,-5e-4,5e-4,4e-4,2e-4,1e-4,0,5e-4,5e-4,-.0014,.0015,-9e-4,5e-4,.0014,-8e-4,-8e-4,.0012],expression:[8e-4,.0481,.1653,.0784,.1008,-.3992,.5088,-.02,.0542,.001,.3723,-.0151,-.0986,.0283,-.0033,-.0121,.2634,.1202,.0036,-.0529,-.0245,-.0297,-.1085,.0495,.3264,.0083,4e-4,-.0314,.1459,-.1142,-.003,1e-4,.1154,-.0035,-.0285,-.0184,-1e-4,.0012,.0035,.079,-.0103,.0043,.011,-.004,-.0774,-.0047,-.023,.0284,-.0048,-.001,.0149,-.0039,.0046,.0528,-6e-4,.0063,.0376,.0096,.0558,-.0295,0,-.0311,-.0634,.0062,.0176,-.0154,-.0109,-.1149,.0192,.0326,.0121,.0237,.0034,.0262,-.0778,.0014,-.0045,-.0203,.0077,.0588,.0575,.008,-.0557,-.0095,.0032,.0054,-.0042]},7:{mean:[.0038,-.2927,.833],identity:[6e-4,-.0109,.0073,-6e-4,-.0044,.0017,-1e-4,-.0022,-6e-4,-3e-4,.0065,-.0014,-6e-4,-.0051,-.0046,3e-4,-.0029,.003,2e-4,.0038,-6e-4,0,-.0012,6e-4,-4e-4,.0053,-.0075,-2e-4,-7e-4,-.0063,.0014,.0026,.0019,-.0022,.0018,.0028,-1e-4,-.0012,.0011,9e-4,.0019,-.0019,-1e-4,.0012,-.0022,-3e-4,-.0012,4e-4,-8e-4,3e-4,-3e-4,0,.0017,.0021,-4e-4,.0012,.0022,-3e-4,.0026,-3e-4,4e-4,-.0026,.0032,-.0019,3e-4,.0015,1e-4,-.0015,.0013,-1e-4,1e-4,-.0029,0,-2e-4,-.0028,-7e-4,.0019,-3e-4,-2e-4,.0012,9e-4,4e-4,-.001,-.002,-.0016,.0011,-1e-4,3e-4,.0021,2e-4,-.0014,-9e-4,-1e-4,0,-2e-4,-.001,.0015,.0018,1e-4,7e-4,8e-4,.0017,.001,-9e-4,1e-4,4e-4,.0023,-1e-4,.0012,1e-4,-8e-4,2e-4,.0018,6e-4,3e-4,1e-4,.0012,-3e-4,.002,-6e-4,0,-1e-4,-.0022,4e-4,5e-4,.0011,2e-4,-.0013,-.0023,6e-4,6e-4,-5e-4,-5e-4,9e-4,2e-4,2e-4,.0011,-3e-4,.0011,.0015,.0011,3e-4,2e-4,8e-4,-4e-4,-8e-4,3e-4,0,.0012,-1e-4],expression:[.026,.1107,.3257,.1917,.3206,-1.1348,1.0791,-.035,.1549,-.0103,.6953,1e-4,-.3262,.068,.0219,-.0044,.3643,.2178,.0168,-.2478,-.1321,-.0414,-.3782,-.0617,.5088,-.0031,-.0311,-.0497,.0948,-.385,.0148,-.2224,-.1415,-.0074,.0863,-.203,3e-4,-.0081,.0057,.1164,-.0039,.0015,-.0024,.0505,.1532,.0039,-.0148,-.0753,.0163,.0058,-.0339,.0036,.0252,-.0569,-.0041,.0163,-.0361,.0035,-.018,.1266,0,-.0163,-.0046,.0133,-.1656,.2134,.0191,.0057,.0734,.0681,.0039,-.0144,.029,-.074,-.046,.0122,.0072,-.0162,-.0349,-.1234,.0212,-.0355,.0535,.1218,.0043,-.024,.0016]},8:{mean:[-.0018,-.3037,.8491],identity:[2e-4,-.0112,.0077,-4e-4,-.0044,.0024,1e-4,-.0021,-4e-4,-4e-4,.0066,-.002,-4e-4,-.0052,-.0044,3e-4,-.0032,.0039,4e-4,.0042,-3e-4,2e-4,-.0012,-2e-4,-2e-4,.0052,-.0083,-1e-4,-8e-4,-.0056,.0017,.0024,.0019,-.0023,.002,.0027,-2e-4,-.0013,.002,9e-4,.0017,-.0028,-2e-4,.0012,-.0026,0,-.0016,2e-4,-5e-4,3e-4,-.001,-1e-4,.0016,.0016,-3e-4,.0012,.0012,-3e-4,.0027,-3e-4,3e-4,-.0026,.0037,-.0017,1e-4,.0016,1e-4,-.0015,.0024,1e-4,2e-4,-.0039,0,-3e-4,-.0033,-6e-4,.0017,-4e-4,-4e-4,.0012,.0018,2e-4,-.0012,-.002,-.0017,.0013,-.001,3e-4,.0021,4e-4,-.0012,-6e-4,-2e-4,0,-4e-4,-9e-4,.0016,.0017,4e-4,7e-4,7e-4,.001,9e-4,-8e-4,5e-4,5e-4,.0023,.001,.0013,2e-4,-4e-4,2e-4,.0017,8e-4,3e-4,-1e-4,9e-4,-4e-4,.0019,-5e-4,3e-4,0,-.0025,3e-4,3e-4,.0011,1e-4,-.0015,-.001,7e-4,7e-4,-7e-4,-7e-4,8e-4,0,1e-4,.0013,-4e-4,.0012,.0014,.0017,4e-4,2e-4,3e-4,-3e-4,-9e-4,1e-4,0,.001,-4e-4],expression:[-.0092,2.8809,1.416,.2018,1.1982,-.9351,1.4492,-.1902,.1749,.0305,-.167,-.1572,-.7354,-.0492,.0115,.0608,.2971,.1179,.0046,-.0997,-.0041,-.0104,.3379,-.1854,.009,.0366,-.0583,.0269,-.0029,-.4175,-8e-4,.1794,.0752,-.0135,.1158,.1234,5e-4,.003,-.0032,.1034,-.0504,-.0055,-.0076,-.0772,.224,.0047,.0229,-.1044,.0162,-.0161,-.0241,-.0083,-.1388,-.0434,-.0125,-.0997,-.0327,-.0111,.1576,-.3911,.0199,.2522,.142,.0059,-.0721,-.0045,.031,-.1136,-.1685,.0641,.0142,.0312,.0426,-.1366,.1011,.0101,-.0157,.0018,-.0103,-.0344,.0907,.0016,.1168,-.0806,.0104,-.0057,.0111]},9:[{mean:[.0038,-.2927,.833],identity:[6e-4,-.0109,.0073,-6e-4,-.0044,.0017,-1e-4,-.0022,-6e-4,-3e-4,.0065,-.0014,-6e-4,-.0051,-.0046,3e-4,-.0029,.003,2e-4,.0038,-6e-4,0,-.0012,6e-4,-4e-4,.0053,-.0075,-2e-4,-7e-4,-.0063,.0014,.0026,.0019,-.0022,.0018,.0028,-1e-4,-.0012,.0011,9e-4,.0019,-.0019,-1e-4,.0012,-.0022,-3e-4,-.0012,4e-4,-8e-4,3e-4,-3e-4,0,.0017,.0021,-4e-4,.0012,.0022,-3e-4,.0026,-3e-4,4e-4,-.0026,.0032,-.0019,3e-4,.0015,1e-4,-.0015,.0013,-1e-4,1e-4,-.0029,0,-2e-4,-.0028,-7e-4,.0019,-3e-4,-2e-4,.0012,9e-4,4e-4,-.001,-.002,-.0016,.0011,-1e-4,3e-4,.0021,2e-4,-.0014,-9e-4,-1e-4,0,-2e-4,-.001,.0015,.0018,1e-4,7e-4,8e-4,.0017,.001,-9e-4,1e-4,4e-4,.0023,-1e-4,.0012,1e-4,-8e-4,2e-4,.0018,6e-4,3e-4,1e-4,.0012,-3e-4,.002,-6e-4,0,-1e-4,-.0022,4e-4,5e-4,.0011,2e-4,-.0013,-.0023,6e-4,6e-4,-5e-4,-5e-4,9e-4,2e-4,2e-4,.0011,-3e-4,.0011,.0015,.0011,3e-4,2e-4,8e-4,-4e-4,-8e-4,3e-4,0,.0012,-1e-4],expression:[.026,.1107,.3257,.1917,.3206,-1.1348,1.0791,-.035,.1549,-.0103,.6953,1e-4,-.3262,.068,.0219,-.0044,.3643,.2178,.0168,-.2478,-.1321,-.0414,-.3782,-.0617,.5088,-.0031,-.0311,-.0497,.0948,-.385,.0148,-.2224,-.1415,-.0074,.0863,-.203,3e-4,-.0081,.0057,.1164,-.0039,.0015,-.0024,.0505,.1532,.0039,-.0148,-.0753,.0163,.0058,-.0339,.0036,.0252,-.0569,-.0041,.0163,-.0361,.0035,-.018,.1266,0,-.0163,-.0046,.0133,-.1656,.2134,.0191,.0057,.0734,.0681,.0039,-.0144,.029,-.074,-.046,.0122,.0072,-.0162,-.0349,-.1234,.0212,-.0355,.0535,.1218,.0043,-.024,.0016]},{mean:[-.0018,-.3037,.8491],identity:[2e-4,-.0112,.0077,-4e-4,-.0044,.0024,1e-4,-.0021,-4e-4,-4e-4,.0066,-.002,-4e-4,-.0052,-.0044,3e-4,-.0032,.0039,4e-4,.0042,-3e-4,2e-4,-.0012,-2e-4,-2e-4,.0052,-.0083,-1e-4,-8e-4,-.0056,.0017,.0024,.0019,-.0023,.002,.0027,-2e-4,-.0013,.002,9e-4,.0017,-.0028,-2e-4,.0012,-.0026,0,-.0016,2e-4,-5e-4,3e-4,-.001,-1e-4,.0016,.0016,-3e-4,.0012,.0012,-3e-4,.0027,-3e-4,3e-4,-.0026,.0037,-.0017,1e-4,.0016,1e-4,-.0015,.0024,1e-4,2e-4,-.0039,0,-3e-4,-.0033,-6e-4,.0017,-4e-4,-4e-4,.0012,.0018,2e-4,-.0012,-.002,-.0017,.0013,-.001,3e-4,.0021,4e-4,-.0012,-6e-4,-2e-4,0,-4e-4,-9e-4,.0016,.0017,4e-4,7e-4,7e-4,.001,9e-4,-8e-4,5e-4,5e-4,.0023,.001,.0013,2e-4,-4e-4,2e-4,.0017,8e-4,3e-4,-1e-4,9e-4,-4e-4,.0019,-5e-4,3e-4,0,-.0025,3e-4,3e-4,.0011,1e-4,-.0015,-.001,7e-4,7e-4,-7e-4,-7e-4,8e-4,0,1e-4,.0013,-4e-4,.0012,.0014,.0017,4e-4,2e-4,3e-4,-3e-4,-9e-4,1e-4,0,.001,-4e-4],expression:[-.0092,2.8809,1.416,.2018,1.1982,-.9351,1.4492,-.1902,.1749,.0305,-.167,-.1572,-.7354,-.0492,.0115,.0608,.2971,.1179,.0046,-.0997,-.0041,-.0104,.3379,-.1854,.009,.0366,-.0583,.0269,-.0029,-.4175,-8e-4,.1794,.0752,-.0135,.1158,.1234,5e-4,.003,-.0032,.1034,-.0504,-.0055,-.0076,-.0772,.224,.0047,.0229,-.1044,.0162,-.0161,-.0241,-.0083,-.1388,-.0434,-.0125,-.0997,-.0327,-.0111,.1576,-.3911,.0199,.2522,.142,.0059,-.0721,-.0045,.031,-.1136,-.1685,.0641,.0142,.0312,.0426,-.1366,.1011,.0101,-.0157,.0018,-.0103,-.0344,.0907,.0016,.1168,-.0806,.0104,-.0057,.0111]}],10:{mean:[-.007,-.6338,.7695],identity:[1e-4,-.0296,.0089,-6e-4,-.0073,-.0065,-1e-4,-.0029,-.0031,-2e-4,.0128,.0065,0,-.0116,-.014,-1e-4,-.0037,-.0052,-5e-4,.0028,.003,-4e-4,.0041,.0015,6e-4,.0088,-.0076,-.0011,-.0015,-.0073,7e-4,-.0011,.0019,-.0011,-5e-4,.0031,-1e-4,-.0018,9e-4,.0018,.0038,.0068,-4e-4,-1e-4,.0061,.0024,.0024,-.0066,-6e-4,.0051,.0014,.002,.005,-.0035,1e-4,-.0034,-.004,-7e-4,.001,-8e-4,1e-4,-5e-4,-.0021,2e-4,.0045,-.0043,-.0012,-.0024,-.0014,6e-4,.0034,.0027,-8e-4,-.0053,.0014,1e-4,.0013,-.0018,6e-4,-.0015,.0029,-2e-4,-.0035,1e-4,-.002,.0012,.0048,.0011,1e-4,-2e-4,-3e-4,-.0012,.0033,6e-4,.002,-.0033,4e-4,.0028,2e-4,8e-4,-1e-4,-.0018,8e-4,.0017,1e-4,9e-4,8e-4,3e-4,.0019,-.001,.001,-7e-4,-.0013,0,1e-4,.0032,-1e-4,1e-4,.0011,-4e-4,5e-4,-7e-4,.0018,-3e-4,2e-4,7e-4,8e-4,-.0014,7e-4,.0015,-6e-4,-1e-4,-4e-4,.0019,-9e-4,-6e-4,-6e-4,-.0012,2e-4,-.0012,-8e-4,4e-4,6e-4,-.0011,3e-4,9e-4,-4e-4,6e-4,-7e-4,-4e-4],expression:[-.0603,2.0527,1.9014,.1025,.6143,.3804,.7881,-.1023,-.0764,.0454,-.2487,-.5073,-.6704,-.031,-.0181,.0466,.0651,-.0726,-.0033,-.0022,.2944,.0101,.1669,-.5225,-.4685,.0236,.0079,.011,.2173,.4529,.0121,-.2104,-.0673,.0225,-.4023,.0317,-9e-4,.0076,-.0032,.0333,.0523,.0129,-.001,-.0319,-.0139,.0015,-.0044,.0247,-5e-4,.0161,.0061,.0074,.0776,-.0176,.007,.055,-.017,.0052,-.1819,.0294,-.0161,-.0337,.0226,-.008,-.0297,.1967,-.0095,.0383,.2039,.0434,.0271,-.0064,-.0037,-.0294,-.024,.0024,-.0137,-.0209,-.0031,.0628,.1003,-.0126,-.056,-.0097,-.0012,-.0041,.0162]},11:{mean:[.2505,.3833,.7793],identity:[.0098,.012,.0077,-6e-4,-3e-4,0,1e-4,.0082,-7e-4,.0019,-.0036,-.0012,2e-4,.0119,-.0039,.001,1e-4,.0031,-.0036,-.0059,-7e-4,.0026,.0028,-.0011,9e-4,-.0032,8e-4,.0029,.0043,3e-4,.0025,-9e-4,.0047,.0016,.0022,.0018,-.001,.0025,-.003,-.001,.0033,.0034,4e-4,-.0052,.0024,-2e-4,.001,-.0014,-6e-4,.0038,-.0015,-6e-4,-.001,-.0011,-4e-4,-.001,4e-4,-7e-4,.0036,-8e-4,-2e-4,-.0019,5e-4,3e-4,-6e-4,-.0024,-.0017,-.0014,6e-4,-4e-4,-.0031,-.0013,-6e-4,.0042,2e-4,-2e-4,-.002,-3e-4,8e-4,.0018,-5e-4,-6e-4,-2e-4,-6e-4,.0025,.0019,.001,8e-4,-.0015,-.0012,-1e-4,-6e-4,-4e-4,.0023,-.001,6e-4,-2e-4,-.001,0,-9e-4,-.002,-.0011,1e-4,0,-1e-4,5e-4,6e-4,9e-4,-6e-4,5e-4,8e-4,-1e-4,-2e-4,-.0017,-6e-4,-4e-4,4e-4,-6e-4,.0012,4e-4,3e-4,-7e-4,3e-4,-2e-4,6e-4,1e-4,5e-4,-.0019,-6e-4,4e-4,7e-4,-1e-4,1e-4,5e-4,.001,-6e-4,-.002,-7e-4,-5e-4,5e-4,3e-4,7e-4,.0014,0,5e-4,-5e-4,-2e-4,3e-4,-6e-4,-1e-4],expression:[-9e-4,-3e-4,.0032,-.003,-.0034,-.0031,.0014,0,4e-4,-.0139,-.0764,.0275,-.002,-.0089,.0031,-.0503,-.0771,.038,-.1323,-.3523,.1368,-.0474,-.0564,.0296,-.0045,.007,-.0013,.0153,.1259,-.0464,.0866,.2175,-.0786,-.0413,-.1248,.0448,-.1777,-.4607,.1782,-5e-4,-.005,.0016,.0629,.1506,-.0624,.0545,.2576,-.0864,-.0231,-.0552,.0244,-.0136,-.0359,.0169,-.1158,-.2996,.1214,-.0235,-.0354,.0165,-.0745,-.1079,.0475,-.0116,-.0039,.0012,.0013,-.0108,-8e-4,.0044,-.0027,-1e-4,-.0694,.0363,.0071,.1462,-.136,.0047,.009,-.0177,.0038,-.0271,.0118,.0011,-.0399,-.0111,.0123]},12:{mean:[-.2981,.3828,.7563],identity:[-.0116,.014,.0054,.0018,5e-4,0,-4e-4,.0068,-.0013,-.0019,-.0048,-5e-4,5e-4,.0108,-.0036,-.0029,-.0018,.0029,.0043,-.0077,6e-4,-.0017,.002,-.0011,-.0014,-.0035,.0015,-.0024,.0011,4e-4,-.0048,2e-4,.0029,-1e-4,-1e-4,.003,.0019,.0035,-.0016,-4e-4,.0039,.0019,1e-4,-.0064,.004,3e-4,.002,-.0021,.0017,.0011,-.001,.0026,.0025,-5e-4,2e-4,-3e-4,-5e-4,-7e-4,9e-4,-4e-4,-.001,-.0022,.001,9e-4,-.0014,7e-4,.0011,-.001,-5e-4,-8e-4,-.0017,-.0021,9e-4,.0036,5e-4,4e-4,-.0031,6e-4,-.0015,.0027,2e-4,1e-4,-.0011,2e-4,-.0011,-.0018,4e-4,-.0013,-2e-4,7e-4,9e-4,-3e-4,.001,-.0021,8e-4,6e-4,-9e-4,4e-4,-7e-4,8e-4,-.002,-.0013,0,7e-4,-.0012,-1e-4,.0014,.0014,-1e-4,.0013,6e-4,6e-4,-.0014,-.0015,-9e-4,1e-4,1e-4,9e-4,7e-4,0,1e-4,-.001,-4e-4,0,-5e-4,1e-4,-3e-4,4e-4,-5e-4,-1e-4,-.0011,2e-4,0,1e-4,8e-4,8e-4,0,-7e-4,-8e-4,0,2e-4,-1e-4,.001,3e-4,4e-4,-2e-4,0,5e-4,.0018,-1e-4],expression:[0,-4e-4,.0028,.0036,-8e-4,-.0026,-.0015,-8e-4,3e-4,.0075,-.0608,.025,.0019,-.0076,.0033,.0379,-.0437,.0335,.0964,-.2452,.1233,.0368,-.0251,.0253,.0033,.0097,-.0021,-.0095,.1171,-.0475,-.064,.1548,-.0718,.0228,-.0831,.0343,-.1924,.6206,-.2771,.0021,-.0143,.0056,-.0705,.2522,-.1116,-.0692,.4229,-.1592,-.0093,.05,-.0185,.0948,-.3196,.1437,-.0184,.0194,-.0131,.0205,-.0353,.0201,.0676,-.135,.0672,.0137,-.0311,.0118,3e-4,-.0077,-2e-4,-.0151,4e-4,-.0058,.029,-.0139,.0163,.1324,.1819,-.0039,.0406,.0501,.0017,.0331,.0161,.0062,-.0235,-.0446,.0047]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={incompatible:()=>!("function"==typeof Promise&&"object"==typeof WebAssembly&&!!(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&navigator.mediaDevices.getUserMedia)),incompatible_ui:()=>{const e=document.createElement("div");e.append(function(){let e=document.createElement("div"),t="a recent web browser";navigator.userAgent.match(/Android/i)?(t="Chrome for Android",window.location.href="googlechrome://navigate?url="+encodeURI(window.location.href),setTimeout(()=>{window.location.href="samsunginternet://open?url="+encodeURI(window.location.href)},2e3)):navigator.userAgent.match(/iPhone|iPod|iPad/i)&&(t="Safari",e.classList.add("zee-launcher-browser-safari")),e.classList.add("zee-launcher-unsupported"),e.innerHTML=`\n            <style>.zee-launcher-unsupported {\n               display: flex;\n               flex-direction: column;\n               height: 100%;\n               justify-content: center;\n               position: absolute;\n               width: 100%;\n               height: 100%;\n               top: 0;\n               left: 0;\n               align-items: center;\n               }\n               .zee-launcher-browser-logo {\n               background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg version='1.1' viewBox='0 0 210 211' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg transform='translate(-82 -146)' fill-rule='nonzero' stroke='%23ffffff' stroke-width='2'%3E%3Cg transform='translate(83 146.5)'%3E%3Cpath d='m55.146 88.785l-32.039-49.472c19.962-24.947 49.904-38.684 80.517-38.81 17.739-0.12642 35.855 4.4246 52.336 13.99 18.2 10.619 32.039 25.874 40.846 43.404l-86.095-4.5511c-24.365-1.4327-47.556 12.347-55.565 35.439zm13.797 16.224c0 19.468 15.684 35.229 35.059 35.229 19.374 0 35.059-15.76 35.059-35.229 0-19.468-15.684-35.229-35.059-35.229-19.374 0-35.059 15.718-35.059 35.229zm132.06-37.588l-58.585 3.034c15.894 18.668 16.145 45.595 2.7678 66.243l-47.01 72.648c19.5 1.0535 39.588-3.2447 57.788-13.864 45.039-26.126 63.282-80.908 45.039-128.06zm-144.93 57.647l-39.126-77.326c-10.694 16.434-16.942 36.156-16.942 57.267 0 52.253 38.078 95.53 87.856 103.2l26.713-52.59c-24.155 4.5511-47.472-8.765-58.501-30.551z'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A");\n               width: 211px;\n               height: 211px;\n               margin-bottom: 25%;\n               margin-top: -60px;\n               background-repeat: no-repeat;\n               }\n               .zee-launcher-browser-safari .zee-launcher-browser-logo {\n               background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg version='1.1' viewBox='0 0 211 211' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg transform='translate(-82 -146)' fill-rule='nonzero' stroke='%23ffffff' stroke-width='2'%3E%3Cpath d='m180 251.86c0-4.0385 2.9377-7.855 7.2552-7.855 3.9614 0 7.7448 2.8402 7.7448 7.145 0 4.0385-2.8487 7.855-7.1662 7.855-4.0059 0-7.8338-2.9734-7.8338-7.145zm112-0.35503c0 57.728-46.772 104.5-104.5 104.5s-104.5-46.772-104.5-104.5 46.772-104.5 104.5-104.5 104.5 46.772 104.5 104.5zm-12-1c0-51.649-41.851-93.5-93.5-93.5s-93.5 41.851-93.5 93.5 41.851 93.5 93.5 93.5 93.5-41.851 93.5-93.5zm-30.624 40.983c0 1.5095 5.4495 4.2768 6.8328 5.1154-11.486 17.401-29.26 29.938-49.423 34.928l-1.8444-7.757c-0.12576-1.0482-0.79646-1.174-1.7606-1.174-0.79646 0-1.2576 1.174-1.1737 1.7611l1.8444 7.8828c-5.5753 1.174-11.234 1.7611-16.935 1.7611-15.217 0-30.182-4.2768-43.177-12.202 0.71263-1.174 5.1141-7.5474 5.1141-8.4698 0-0.79666-0.71263-1.5095-1.5091-1.5095-1.6348 0-5.1141 6.9603-6.1621 8.344-17.522-11.615-30.182-29.602-35.044-50.148l8.0066-1.761c0.92222-0.25158 1.1737-0.92246 1.1737-1.7611 0-0.79667-1.1737-1.2579-1.8444-1.174l-7.8389 1.803c-1.048-5.3251-1.6348-10.692-1.6348-16.143 0-15.556 4.4015-30.86 12.66-43.984 1.1737 0.71281 6.749 4.5284 7.6712 4.5284 0.79646 0 1.5091-0.58702 1.5091-1.3837 0-1.6353-6.1621-4.7381-7.5455-5.7024 11.821-17.275 29.805-29.728 50.219-34.34l1.7606 7.757c0.25152 0.92246 0.92222 1.174 1.7606 1.174 0.83838 0 1.2576-1.174 1.1737-1.8449l-1.7606-7.6732c5.1141-0.92246 10.312-1.5095 15.552-1.5095 15.552 0 30.727 4.4026 43.973 12.663-0.79646 1.174-4.5273 6.6249-4.5273 7.5474 0 0.79667 0.58687 1.5095 1.3833 1.5095 1.6348 0 4.7369-6.0379 5.5753-7.4216 17.187 11.615 29.469 29.351 34.248 49.561l-6.4975 1.3837c-1.048 0.25158-1.1737 0.92246-1.1737 1.8449 0 0.79667 1.1737 1.2579 1.7606 1.174l6.6232-1.5095c1.048 5.3251 1.6348 10.776 1.6348 16.227 0 15.221-4.1919 30.189-12.073 43.062-1.1737-0.58702-6.0364-4.0672-6.9586-4.0672-0.8803 0-1.5929 0.71281-1.5929 1.5095zm-14.876-98.483c-5.2178 4.88-53.863 49.48-55.228 51.8l-38.772 64.2c5.0974-4.76 53.863-49.6 55.108-51.72l38.892-64.28z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");\n               }\n               .zee-launcher-unsupported-message {\n               text-align: center;\n               width: 250px;\n               font-family: sans-serif;\n               color: #ffffff;\n               }\n               .zee-launcher-unsupported-message-copy {\n               border: 1px solid #ffffff;\n               border-radius: 5px;\n               margin-top: 10px;\n               }\n               #zee-launcher-unsupported-message-input {\n               border: none;\n               padding: 10px;\n               border-radius: 0px;\n               border-right: 1px solid #344B60;\n               height: 40px;\n               color: #ffffff;\n               background-color: black;\n               box-sizing: border-box;\n               width: calc(100% - 65px);\n               margin-left: 5px;\n               }\n               #zee-launcher-unsupported-message-button {\n               background: none;\n               border: none;\n               outline: none;\n               text-transform: uppercase;\n               color: #ffffff;\n               height: 40px;\n               display: inline-block;\n               width: 59px;\n               }\n               .zee-launcher-unsupported-message-before-copy {\n               height: 100px;\n               display: flex;\n               flex-direction: column;\n               justify-content: center;\n               margin-top: 20px;\n               }\n               .zee-launcher-unsupported-message-copied .zee-launcher-unsupported-message-before-copy {\n               display: none;\n               }\n               .zee-launcher-unsupported-message-after-copy {\n               display: none;\n               }\n               .zee-launcher-unsupported-message-copied .zee-launcher-unsupported-message-after-copy {\n               height: 100px;\n               display: flex;\n               flex-direction: column;\n               justify-content: center;\n               margin-top: 20px;\n               }\n            </style>\n            <div class="zee-launcher-browser-logo"></div>\n            <div class="zee-launcher-unsupported-message">Open with ${t} to access this content.</div>\n            <div class="zee-launcher-unsupported-message-before-copy">\n               <div class="zee-launcher-unsupported-message ">Tap below to copy the address for easy pasting into ${t}.</div>\n               <div class="zee-launcher-unsupported-message-copy"><input id="zee-launcher-unsupported-message-input" type="text/"><button id="zee-launcher-unsupported-message-button">Copy</button></div>\n            </div>\n            <div class="zee-launcher-unsupported-message zee-launcher-unsupported-message-after-copy">COPIED! Now paste into ${t}'s address bar to experience the content.</div>\n    `;let r=e.querySelector("#zee-launcher-unsupported-message-input")||document.createElement("input");r.value=window.location.href;let n=()=>{if(navigator.userAgent.match(/iPhone|iPod|iPad/i)){let e=document.createRange();e.selectNodeContents(r);let t=window.getSelection();if(!t)return;t.removeAllRanges(),t.addRange(e),r.setSelectionRange(0,999999999)}else r.select();document.execCommand("copy"),r.blur(),e.classList.toggle("zee-launcher-unsupported-message-copied",!0)};return(e.querySelector("#zee-launcher-unsupported-message-button")||document.createElement("button")).addEventListener("click",n),r.addEventListener("click",n),e}()),Object.assign(e.style,{position:"fixed",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:1001,backgroundColor:"rgba(0, 0, 0, 0.9)",fontFamily:"sans-serif",color:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}),e.classList.add("zee_launcher_compatibility"),document.body.append(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceSource=void 0;const n=r(2),a=r(18),i=r(20),o=r(10),s=r(3);let u=1,c=new Map;class f extends i.Source{constructor(e,t){super(),this._impl=e,this._pipeline=t,this._packetNumber=0,this._motionUpdatesQueued=0,this._motionUpdatesSent=0,this._minFrameGapMs=0,this._lastUpdateTime=0}static create(e){let t=u++;return c.set(t,new f(t,e)),n.zcout("sequence_source_source_t initialized"),t}static get(e){return c.get(e)}loadFromMemory(e){try{this._decoder=new a.SequenceDecoder(e),this._packetNumber=0,this._lastUpdateTime=0}catch(e){n.zcerr("Unable to decode sequence:",e)}}maxPlaybackFpsSet(e){this._minFrameGapMs=e<=0?0:1e3/e}getFrame(e){let t=o.Pipeline.get(this._pipeline);if(!t)return;if(!this._decoder)return;if(this._submitMotionUpdates(t),this._motionUpdatesQueued>this._motionUpdatesSent)return;if(e)return;let r=performance.now();if(r<this._lastUpdateTime+this._minFrameGapMs)return;if(this._packetNumber>=this._decoder.numberPackets)return;let n=this._decoder.dataByPacket.get(this._packetNumber);if(n.type!=a.SequenceRecorderPacketType.CAMERA_FRAME)return;this._packetNumber++;let i=t.cameraPixelArrays.pop();for(;i&&i.byteLength!==n.greyscale.byteLength;)i=t.cameraPixelArrays.pop();i||(i=new ArrayBuffer(n.greyscale.byteLength)),new Uint8Array(i).set(n.greyscale),this._lastUpdateTime=r;let u={data:i,cameraSourceData:n.greyscale,cameraModel:n.cameraModel,cameraToDevice:n.cameraToDevice,dataWidth:n.width,dataHeight:n.height,texture:void 0,userFacing:n.userFacing,uvTransform:s.mat4.create(),cameraSource:this};return this._submitMotionUpdates(t),u}destroy(){c.delete(this._impl),this.pause()}start(){var e;let t=o.Pipeline.get(this._pipeline);t&&t.currentCameraSource!==this&&(null===(e=t.currentCameraSource)||void 0===e||e.pause(),t.currentCameraSource=this)}pause(){let e=o.Pipeline.get(this._pipeline);e&&e.currentCameraSource===this&&(e.currentCameraSource=void 0)}uploadGL(e){let t=o.Pipeline.get(this._pipeline);if(!t)return;let r=null==t?void 0:t.glContext;r&&(e.texture||(e.texture=t.getVideoTexture()),e.texture&&e.cameraSourceData&&(r.bindTexture(r.TEXTURE_2D,e.texture),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1),r.texImage2D(r.TEXTURE_2D,0,r.LUMINANCE,e.dataWidth,e.dataHeight,0,r.LUMINANCE,r.UNSIGNED_BYTE,new Uint8Array(e.cameraSourceData)),r.bindTexture(r.TEXTURE_2D,null)))}_submitMotionUpdates(e){let t=!1;for(;this._packetNumber<this._decoder.numberPackets;){let r=this._decoder.dataByPacket.get(this._packetNumber);if(r.type==a.SequenceRecorderPacketType.CAMERA_FRAME)break;switch(r.type){case a.SequenceRecorderPacketType.ACCELEROMETER:e.motionAccelerometerSubmit(r.t,r.x,r.y,r.z),t=!0;break;case a.SequenceRecorderPacketType.ROTATION_RATE:e.motionRotationRateSubmit(r.t,r.x,r.y,r.z),t=!0;break;case a.SequenceRecorderPacketType.ATTITUDE:e.motionAttitudeSubmit(r.t,r.x,r.y,r.z),t=!0;break;case a.SequenceRecorderPacketType.ATTITUDE_MATRIX:e.motionAttitudeMatrix(r.attitude),t=!0}this._packetNumber++}t&&(this._motionUpdatesQueued++,setTimeout(()=>{this._motionUpdatesSent++},0))}}t.SequenceSource=f},function(e,t,r){"use strict";r.r(t),t.default=r.p+"f7b62a3a53b5c9b3222ba8dc53cb8b11.zbin"},function(e,t,r){"use strict";r.r(t),t.default=r.p+"482727c0e7dd40d73f5aae47f238ad61.zbin"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="CI_COMMIT_TAG"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="CI_COMMIT_TAG"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstantWorldTracker=void 0;const n=r(7),a=r(1);t.InstantWorldTracker=class{constructor(e){this._pipeline=e,this.anchor={poseCameraRelative:e=>this._anchorPoseCameraRelative(e),pose:(e,t)=>this._anchorPose(e,t)},this._z=a.z(),this._impl=this._z.instant_world_tracker_create(this._pipeline._getImpl())}destroy(){this._z.instant_world_tracker_destroy(this._impl)}_anchorPoseCameraRelative(e){return this._z.instant_world_tracker_anchor_pose_camera_relative(this._impl,!0===e)}_anchorPose(e,t){return this._z.instant_world_tracker_anchor_pose(this._impl,e,!0===t)}get enabled(){return this._z.instant_world_tracker_enabled(this._impl)}set enabled(e){this._z.instant_world_tracker_enabled_set(this._impl,e)}setAnchorPoseFromCameraOffset(e,t,r,a){this._z.instant_world_tracker_anchor_pose_set_from_camera_offset(this._impl,e,t,r,a||n.instant_world_tracker_transform_orientation_t.MINUS_Z_AWAY_FROM_USER)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BarcodeFinder=void 0;const n=r(5),a=r(7),i=r(1);t.BarcodeFinder=class{constructor(e){this._pipeline=e,this.onDetection=new n.Event1,this._lastDetected=[],this._found=[],this._formats=[],this._frameUpdate=()=>{this._found=[];const e=this._z.barcode_finder_found_number(this._impl);for(let t=0;t<e;t++)this._found.push({text:this._z.barcode_finder_found_text(this._impl,t),format:this._z.barcode_finder_found_format(this._impl,t)});if(0!==this._found.length){e:for(const e of this._found){for(const t of this._lastDetected)if(t.text===e.text)continue e;this.onDetection.emit(e)}this._lastDetected=this._found}},this._pipeline._onFrameUpdateInternal.bind(this._frameUpdate),this._z=i.z(),this._impl=this._z.barcode_finder_create(this._pipeline._getImpl()),this._formats.push.apply(this._formats,[a.barcode_format_t.AZTEC,a.barcode_format_t.CODABAR,a.barcode_format_t.CODE_39,a.barcode_format_t.CODE_93,a.barcode_format_t.CODE_128,a.barcode_format_t.DATA_MATRIX,a.barcode_format_t.EAN_8,a.barcode_format_t.EAN_13,a.barcode_format_t.ITF,a.barcode_format_t.MAXICODE,a.barcode_format_t.PDF_417,a.barcode_format_t.QR_CODE,a.barcode_format_t.RSS_14,a.barcode_format_t.RSS_EXPANDED,a.barcode_format_t.UPC_A,a.barcode_format_t.UPC_E,a.barcode_format_t.UPC_EAN_EXTENSION])}destroy(){this._pipeline._onFrameUpdateInternal.unbind(this._frameUpdate),this._found=[],this._lastDetected=[],this._z.barcode_finder_destroy(this._impl)}get found(){return this._found}get enabled(){return this._z.barcode_finder_enabled(this._impl)}set enabled(e){this._z.barcode_finder_enabled_set(this._impl,e)}get formats(){return this._formats}set formats(e){this._formats=e.slice();let t=0;for(const e of this._formats)t|=e;this._z.barcode_finder_formats_set(this._impl,t)}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FaceTracker=void 0;const a=r(5),i=r(1);t.FaceTracker=class{constructor(e){this._pipeline=e,this.onVisible=new a.Event1,this.onNotVisible=new a.Event1,this.onNewAnchor=new a.Event1,this.visible=new Set,this.anchors=new Map,this._visibleLastFrame=new Set,this._frameUpdate=()=>{const e=new Set,t=this.visible;this.visible=this._visibleLastFrame,this._visibleLastFrame=t,this.visible.clear();const r=this._z.face_tracker_anchor_count(this._impl);for(let t=0;t<r;t++){const r=this._z.face_tracker_anchor_id(this._impl,t);let n=this.anchors.get(r),i=!1;n||(n={onVisible:new a.Event,onNotVisible:new a.Event,indx:0,id:r,poseCameraRelative:e=>this._z.face_tracker_anchor_pose_camera_relative(this._impl,n.indx,!0===e),pose:(e,t)=>this._z.face_tracker_anchor_pose(this._impl,n.indx,e,!0===t),identity:new Float32Array(50),expression:new Float32Array(29),visible:!0},i=!0,this.anchors.set(r,n),e.add(n)),n.indx=t,n.visible=!0,n.identity=this._z.face_tracker_anchor_identity_coefficients(this._impl,t),n.expression=this._z.face_tracker_anchor_expression_coefficients(this._impl,t),this.visible.add(n)}for(const t of e)this.onNewAnchor.emit(t);for(const e of this.visible)this._visibleLastFrame.has(e)?this._visibleLastFrame.delete(e):(this.onVisible.emit(e),e.onVisible.emit());for(const e of this._visibleLastFrame)this.onNotVisible.emit(e),e.onNotVisible.emit()},this._pipeline._onFrameUpdateInternal.bind(this._frameUpdate),this._z=i.z(),this._impl=this._z.face_tracker_create(this._pipeline._getImpl())}destroy(){this._pipeline._onFrameUpdateInternal.unbind(this._frameUpdate),this.anchors.clear(),this.visible.clear(),this._z.face_tracker_destroy(this._impl)}loadModel(e){return n(this,void 0,void 0,(function*(){"string"==typeof e&&(e=yield(yield fetch(e)).arrayBuffer()),this._z.face_tracker_model_load_from_memory(this._impl,e)}))}loadDefaultModel(){return n(this,void 0,void 0,(function*(){yield this._z.face_tracker_model_load_default(this._impl)}))}get enabled(){return this._z.face_tracker_enabled(this._impl)}set enabled(e){this._z.face_tracker_enabled_set(this._impl,e)}get maxFaces(){return this._z.face_tracker_max_faces(this._impl)}set maxFaces(e){this._z.face_tracker_max_faces_set(this._impl,e)}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FaceMesh=void 0;const a=r(1);t.FaceMesh=class{constructor(){this._z=a.z(),this._impl=this._z.face_mesh_create()}destroy(){this._z.face_mesh_destroy(this._impl)}load(e,t,r,a,i){return n(this,void 0,void 0,(function*(){e?("string"==typeof e&&(e=yield(yield fetch(e)).arrayBuffer()),this._z.face_mesh_load_from_memory(this._impl,e,t||!1,r||!1,a||!1,i||!1)):this.loadDefault()}))}loadDefault(){return n(this,void 0,void 0,(function*(){yield this._z.face_mesh_load_default(this._impl)}))}loadDefaultFace(e,t,r){return n(this,void 0,void 0,(function*(){yield this._z.face_mesh_load_default_face(this._impl,e||!1,t||!1,r||!1)}))}loadDefaultFullHeadSimplified(e,t,r,a){return n(this,void 0,void 0,(function*(){yield this._z.face_mesh_load_default_full_head_simplified(this._impl,e||!1,t||!1,r||!1,a||!1)}))}updateFromFaceAnchor(e,t){this._z.face_mesh_update(this._impl,e.identity,e.expression,t||!1)}updateFromIdentityExpression(e,t,r){this._z.face_mesh_update(this._impl,e,t,r||!1)}get vertices(){return this._z.face_mesh_vertices(this._impl)}get indices(){return this._z.face_mesh_indices(this._impl)}get uvs(){return this._z.face_mesh_uvs(this._impl)}get normals(){return this._z.face_mesh_normals(this._impl)}_getImpl(){return this._impl}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CameraSource=void 0;const n=r(1);t.CameraSource=class{constructor(e,t){this._z=n.z(),this._impl=this._z.camera_source_create(e._getImpl(),t)}destroy(){this._z.camera_source_destroy(this._impl)}start(){this._z.camera_source_start(this._impl)}pause(){this._z.camera_source_pause(this._impl)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLElementSource=void 0;const n=r(1);t.HTMLElementSource=class{constructor(e,t){this._z=n.z(),this._impl=this._z.html_element_source_create(e._getImpl(),t)}destroy(){this._z.html_element_source_destroy(this._impl)}start(){this._z.html_element_source_start(this._impl)}pause(){this._z.html_element_source_pause(this._impl)}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceSource=void 0;const a=r(1);t.SequenceSource=class{constructor(e){this._z=a.z(),this._impl=this._z.sequence_source_create(e._getImpl())}destroy(){this._z.sequence_source_destroy(this._impl)}start(){this._z.sequence_source_start(this._impl)}pause(){this._z.sequence_source_pause(this._impl)}load(e){return n(this,void 0,void 0,(function*(){"string"==typeof e&&(e=yield(yield fetch(e)).arrayBuffer()),this._z.sequence_source_load_from_memory(this._impl,e)}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pipeline=void 0;const n=r(1),a=r(5);t.Pipeline=class{constructor(){this.onFrameUpdate=new a.Event,this._onFrameUpdateInternal=new a.Event,this._lastFrameNumber=-1,this._z=n.z(),this._impl=this._z.pipeline_create()}destroy(){this._z.pipeline_destroy(this._impl)}frameUpdate(){this._z.pipeline_frame_update(this._impl);const e=this._z.pipeline_frame_number(this._impl);e!==this._lastFrameNumber&&(this._lastFrameNumber=e,this._onFrameUpdateInternal.emit(),this.onFrameUpdate.emit())}_getImpl(){return this._impl}glContextSet(e){this._z.pipeline_gl_context_set(this._impl,e)}glContextLost(){this._z.pipeline_gl_context_lost(this._impl)}cameraFrameTextureGL(){return this._z.pipeline_camera_frame_texture_gl(this._impl)}cameraFrameTextureMatrix(e,t,r){return this._z.pipeline_camera_frame_texture_matrix(this._impl,e,t,!0===r)}cameraFrameDrawGL(e,t,r){this._z.pipeline_camera_frame_draw_gl(this._impl,e,t,r)}cameraFrameUploadGL(){this._z.pipeline_camera_frame_upload_gl(this._impl)}processGL(){this._z.pipeline_process_gl(this._impl)}cameraModel(){return this._z.pipeline_camera_model(this._impl)}cameraPoseDefault(){return this._z.pipeline_camera_pose_default(this._impl)}cameraPoseWithAttitude(e){return this._z.pipeline_camera_pose_with_attitude(this._impl,e||!1)}cameraPoseWithOrigin(e){return this._z.pipeline_camera_pose_with_origin(this._impl,e)}cameraFrameUserFacing(){return this._z.pipeline_camera_frame_user_facing(this._impl)}drawFace(e,t,r,n){this._z.pipeline_draw_face(this._impl,e,t,r,n._getImpl())}frameNumber(){return this._z.pipeline_frame_number(this._impl)}sequenceRecordStart(e){void 0===e&&(e=150),this._z.pipeline_sequence_record_start(this._impl,e)}sequenceRecordStop(){this._z.pipeline_sequence_record_stop(this._impl)}sequenceRecordClear(){this._z.pipeline_sequence_record_clear(this._impl)}sequenceRecordData(){return this._z.pipeline_sequence_record_data(this._impl)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FaceLandmark=t.FaceLandmarkName=void 0;const n=r(1),a=r(27);var i=r(7);Object.defineProperty(t,"FaceLandmarkName",{enumerable:!0,get:function(){return i.face_landmark_name_t}});t.FaceLandmark=class{constructor(e){this._name=e,this.pose=a.mat4.create(),this._z=n.z(),this._impl=this._z.face_landmark_create(this._name)}destroy(){this._z.face_landmark_destroy(this._impl)}updateFromFaceAnchor(e,t){this._z.face_landmark_update(this._impl,e.identity,e.expression,t||!1),this.pose=this._z.face_landmark_anchor_pose(this._impl)}updateFromIdentityExpression(e,t,r){this._z.face_landmark_update(this._impl,e,t,r||!1),this.pose=this._z.face_landmark_anchor_pose(this._impl)}_getImpl(){return this._impl}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.permissionDeniedUI=t.permissionRequestUI=t.permissionRequest=t.permissionDenied=t.permissionGranted=t.Permission=void 0;const a=r(1);var i;!function(e){e[e.CAMERA=0]="CAMERA",e[e.MOTION=1]="MOTION"}(i=t.Permission||(t.Permission={})),t.permissionGranted=function(e){switch(e){case i.CAMERA:return a.z().permission_granted_camera();case i.MOTION:return a.z().permission_granted_motion();default:return a.z().permission_granted_all()}},t.permissionDenied=function(e){switch(e){case i.CAMERA:return a.z().permission_denied_camera();case i.MOTION:return a.z().permission_denied_motion();default:return a.z().permission_denied_any()}},t.permissionRequest=function(e){switch(e){case i.CAMERA:a.z().permission_request_camera();break;case i.MOTION:a.z().permission_request_motion();break;default:a.z().permission_request_all()}return new Promise(t=>n(this,void 0,void 0,(function*(){for(;;)switch(yield new Promise(e=>requestAnimationFrame(()=>e())),e){case i.CAMERA:if(a.z().permission_granted_camera())return void t(!0);if(a.z().permission_denied_camera())return void t(!1);break;case i.MOTION:if(a.z().permission_granted_motion())return void t(!0);if(a.z().permission_denied_motion())return void t(!1);break;default:if(a.z().permission_granted_camera()&&a.z().permission_granted_motion())return void t(!0);if(a.z().permission_denied_camera()||a.z().permission_denied_motion())return void t(!1)}})))},t.permissionRequestUI=function(){return n(this,void 0,void 0,(function*(){return yield a.z().permission_request_ui_promise()}))},t.permissionDeniedUI=function(){return a.z().permission_denied_ui()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLogLevel=t.logLevel=t.LogLevel=void 0;const n=r(1);var a=r(7);Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return a.log_level_t}}),t.logLevel=function(){return n.z().log_level()},t.setLogLevel=function(e){n.z().log_level_set(e)}},function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageAnchorGroup=void 0;const n=r(0),a=r(6);class i extends n.THREE.Group{constructor(e,t,r){super(),this.camera=e,this.imageTracker=t,this.anchorId=r,this.isReady=!1,this.matrixAutoUpdate=!1}updateMatrixWorld(e){this.currentAnchor&&this.imageTracker.visible.has(this.currentAnchor)||(this.anchorId?this.currentAnchor=this.imageTracker.anchors.get(this.anchorId):this.currentAnchor=this.imageTracker.visible.values().next().value),this.currentAnchor&&(this.matrix.fromArray(this.currentAnchor.pose(this.camera.rawPose,this.camera.currentMirrorMode===a.CameraMirrorMode.Poses)),this.matrix.decompose(this.position,this.quaternion,this.scale)),super.updateMatrixWorld(e)}}t.ImageAnchorGroup=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageTrackerLoader=void 0;const n=r(0),a=r(11);class i extends n.THREE.Loader{load(e,t,r,n){const i=new a.ImageTracker;return i.loadTarget(e).then(()=>{null==t||t(i),this.manager.itemEnd(e)}).catch(t=>{null==n||n(t),this.manager.itemError(e),this.manager.itemEnd(e)}),i}parse(){}}t.ImageTrackerLoader=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstantWorldAnchorGroup=void 0;const n=r(0),a=r(6);class i extends n.THREE.Group{constructor(e,t){super(),this.camera=e,this.instantTracker=t,this.matrixAutoUpdate=!1}setAnchorPoseFromCameraOffset(e,t,r,n){this.instantTracker.setAnchorPoseFromCameraOffset(e,t,r,n)}updateMatrixWorld(e){this.matrix.fromArray(this.instantTracker.anchor.pose(this.camera.rawPose,this.camera.currentMirrorMode===a.CameraMirrorMode.Poses)),this.matrix.decompose(this.position,this.quaternion,this.scale),super.updateMatrixWorld(e)}}t.InstantWorldAnchorGroup=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FaceAnchorGroup=void 0;const n=r(0),a=r(6);class i extends n.THREE.Group{constructor(e,t,r){super(),this.camera=e,this.faceTracker=t,this.anchorId=r,this.isReady=!1,this.matrixAutoUpdate=!1}updateMatrixWorld(e){this.currentAnchor&&this.faceTracker.visible.has(this.currentAnchor)||(this.anchorId?this.currentAnchor=this.faceTracker.anchors.get(this.anchorId):this.currentAnchor=this.faceTracker.visible.values().next().value),this.currentAnchor&&(this.matrix.fromArray(this.currentAnchor.pose(this.camera.rawPose,this.camera.currentMirrorMode===a.CameraMirrorMode.Poses)),this.matrix.decompose(this.position,this.quaternion,this.scale)),super.updateMatrixWorld(e)}}t.FaceAnchorGroup=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FaceLandmarkGroup=void 0;const n=r(4),a=r(75),i=r(0),o=r(6);class s extends i.THREE.Group{constructor(e,t,r){super(),this.camera=e,this.faceTracker=t,this.pose=a.mat4.create(),this.landmark=new n.FaceLandmark(r),this.matrixAutoUpdate=!1}updateMatrixWorld(e){this.currentAnchor&&this.faceTracker.visible.has(this.currentAnchor)||(this.currentAnchor=this.faceTracker.visible.values().next().value),this.currentAnchor&&(this.landmark.updateFromFaceAnchor(this.currentAnchor,this.camera.currentMirrorMode===o.CameraMirrorMode.Poses),a.mat4.multiply(this.pose,this.currentAnchor.pose(this.camera.rawPose,this.camera.currentMirrorMode===o.CameraMirrorMode.Poses),this.landmark.pose),this.matrix.fromArray(this.pose),this.matrix.decompose(this.position,this.quaternion,this.scale)),super.updateMatrixWorld(e)}dispose(){this.landmark.destroy()}}t.FaceLandmarkGroup=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FaceTrackerLoader=void 0;const n=r(0),a=r(11);class i extends n.THREE.Loader{load(e,t,r,n){const i=new a.FaceTracker,o=e?i.loadModel(e):i.loadDefaultModel(),s="string"==typeof e?e:"__zappar_threejs_face_tracker_default";return o.then(()=>{null==t||t(i),this.manager.itemEnd(s)}).catch(e=>{null==n||n(e),this.manager.itemError(s),this.manager.itemEnd(s)}),i}parse(){}}t.FaceTrackerLoader=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeadMaskMeshLoader=void 0;const n=r(0),a=r(25),i="__zappar_threejs_head_mask_mesh";class o extends n.THREE.Loader{load(e,t,r){return this.manager.itemStart(i),new a.HeadMaskMesh(()=>{null==e||e(),this.manager.itemEnd(i)},()=>{null==r||r(),this.manager.itemError(i),this.manager.itemEnd(i)})}parse(){}}t.HeadMaskMeshLoader=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingManager=t.DefaultLoaderUI=void 0;const n=r(0),a=r(26);class i{constructor(e){this.lastLoadPercentage=0,this.divs={inner:document.createElement("div"),title:document.createElement("div"),progress:document.createElement("div"),progressValue:document.createElement("div")},this.css={container:{position:"fixed",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"10000",backgroundColor:"rgba(0,0,0,0.8)",fontFamily:"sans-serif",color:"rgba(255,255,255,1)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"opacity 500ms"},inner:{maxWidth:"400px",textAlign:"center"},title:{fontSize:"20px"},progress:{background:"rgba(255,255,255, 0.1)",justifyContent:"flex-start",borderRadius:"100px",alignItems:"center",position:"relative",padding:"0 5px",display:"flex",height:"15px",width:"250px",margin:"15px"},progressValue:{boxShadow:"0 10px 40px -10px #fff",borderTopLeftRadius:"100px",borderBottomLeftRadius:"100px",background:"rgba(255,255,255,1)",height:"10px",width:"0",transition:"width 500ms"}},this.updateLoader=e=>{if(e<this.lastLoadPercentage)return;this.lastLoadPercentage=e;const t=document.getElementById("zappar-loader-progressValue");t.style.width=e+"%",t.style.borderTopRightRadius=e+"px",t.style.borderBottomRightRadius=e+"px",t.addEventListener("transitionend",()=>{100===e&&(this.containerDiv.style.opacity="0",this.containerDiv.addEventListener("transitionend",e=>{"opacity"===e.propertyName&&this.dispose()}))})},this.dispose=()=>{this.containerDiv.remove()},this.customStyle=e,this.containerDiv=document.createElement("div")}initialize(){for(const e in this.divs)this.divs[e].id="zappar-loader-"+e;this.refreshStyle(),this.divs.inner.appendChild(this.divs.title),this.divs.inner.appendChild(this.divs.progress),this.divs.progress.appendChild(this.divs.progressValue),this.containerDiv.appendChild(this.divs.inner),this.divs.title.innerHTML="Loading..",document.body.append(this.containerDiv)}refreshStyle(){var e,t,r,n,a;Object.assign(this.css.container,null===(e=this.customStyle)||void 0===e?void 0:e.container),Object.assign(this.css.inner,null===(t=this.customStyle)||void 0===t?void 0:t.inner),Object.assign(this.css.title,null===(r=this.customStyle)||void 0===r?void 0:r.title),Object.assign(this.css.progress,null===(n=this.customStyle)||void 0===n?void 0:n.progress),Object.assign(this.css.progressValue,null===(a=this.customStyle)||void 0===a?void 0:a.progressValue),Object.assign(this.containerDiv.style,this.css.container),Object.assign(this.divs.inner.style,this.css.inner),Object.assign(this.divs.title.style,this.css.title),Object.assign(this.divs.progress.style,this.css.progress),Object.assign(this.divs.progressValue.style,this.css.progressValue)}}t.DefaultLoaderUI=class extends i{constructor(e){super(null==e?void 0:e.style),n.THREE.DefaultLoadingManager.onStart=()=>{this.initialize()},n.THREE.DefaultLoadingManager.onLoad=()=>{var t;null===(t=null==e?void 0:e.onLoad)||void 0===t||t.call(e)},n.THREE.DefaultLoadingManager.onProgress=(e,t,r)=>{this.updateLoader(t/r*100)}}};class o extends n.THREE.LoadingManager{constructor(e){super(()=>{var t;return null===(t=null==e?void 0:e.onLoad)||void 0===t?void 0:t.call(e)},(t,r,n)=>{var a;this.ui.customStyle=null==e?void 0:e.style,this.ui.refreshStyle(),null===(a=null==e?void 0:e.onProgress)||void 0===a||a.call(e,t,r,n),this.ui.updateLoader(r/n*100)},null==e?void 0:e.onError),this.ui=new i,this.onStartCallback=void 0,this.onStart=()=>{this.ui.initialize(),this.onStartCallback&&this.onStartCallback()},this._onStart=e=>{this.onStartCallback=e},this.dispose=()=>{this.ui.dispose()},new a.LibraryLoader(this).load()}}t.LoadingManager=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CameraEnvironmentMap=void 0;const n=r(0);t.CameraEnvironmentMap=class{constructor(){this.cubeMapScene=new n.THREE.Scene,this.renderTarget=new n.THREE.WebGLCubeRenderTarget(256,{format:n.THREE.RGBFormat,generateMipmaps:!0,minFilter:n.THREE.LinearMipmapLinearFilter}),this.cubeCamera=new n.THREE.CubeCamera(.1,1e3,this.renderTarget),this.sphereMaterial=new n.THREE.MeshBasicMaterial({side:n.THREE.DoubleSide}),this.sphereGroup=new n.THREE.Group,this.environmentMap=this.renderTarget.texture,this.cubeMapScene.add(this.cubeCamera);const e=new n.THREE.Mesh(new n.THREE.SphereBufferGeometry(10,16,12),this.sphereMaterial);e.rotation.set(0,-.5*Math.PI,0),this.sphereGroup.add(e),this.cubeMapScene.add(this.sphereGroup)}dispose(){this.renderTarget.dispose(),this.sphereMaterial.dispose()}update(e,t){this.sphereMaterial.map=t.backgroundTexture,this.sphereGroup.quaternion.copy(t.quaternion),this.cubeCamera.update(e,this.cubeMapScene)}}},function(e,t,r){"use strict";r.r(t),r.d(t,"glMatrix",(function(){return n})),r.d(t,"mat2",(function(){return a})),r.d(t,"mat2d",(function(){return i})),r.d(t,"mat3",(function(){return o})),r.d(t,"mat4",(function(){return s})),r.d(t,"quat",(function(){return f})),r.d(t,"quat2",(function(){return _})),r.d(t,"vec2",(function(){return d})),r.d(t,"vec3",(function(){return u})),r.d(t,"vec4",(function(){return c}));var n={};r.r(n),r.d(n,"EPSILON",(function(){return l})),r.d(n,"ARRAY_TYPE",(function(){return h})),r.d(n,"RANDOM",(function(){return m})),r.d(n,"setMatrixArrayType",(function(){return p})),r.d(n,"toRadian",(function(){return v})),r.d(n,"equals",(function(){return g}));var a={};r.r(a),r.d(a,"create",(function(){return M})),r.d(a,"clone",(function(){return y})),r.d(a,"copy",(function(){return w})),r.d(a,"identity",(function(){return x})),r.d(a,"fromValues",(function(){return E})),r.d(a,"set",(function(){return A})),r.d(a,"transpose",(function(){return k})),r.d(a,"invert",(function(){return T})),r.d(a,"adjoint",(function(){return z})),r.d(a,"determinant",(function(){return F})),r.d(a,"multiply",(function(){return R})),r.d(a,"rotate",(function(){return P})),r.d(a,"scale",(function(){return S})),r.d(a,"fromRotation",(function(){return O})),r.d(a,"fromScaling",(function(){return L})),r.d(a,"str",(function(){return D})),r.d(a,"frob",(function(){return C})),r.d(a,"LDU",(function(){return I})),r.d(a,"add",(function(){return U})),r.d(a,"subtract",(function(){return B})),r.d(a,"exactEquals",(function(){return q})),r.d(a,"equals",(function(){return j})),r.d(a,"multiplyScalar",(function(){return V})),r.d(a,"multiplyScalarAndAdd",(function(){return N})),r.d(a,"mul",(function(){return G})),r.d(a,"sub",(function(){return H}));var i={};r.r(i),r.d(i,"create",(function(){return W})),r.d(i,"clone",(function(){return Y})),r.d(i,"copy",(function(){return X})),r.d(i,"identity",(function(){return Z})),r.d(i,"fromValues",(function(){return Q})),r.d(i,"set",(function(){return J})),r.d(i,"invert",(function(){return K})),r.d(i,"determinant",(function(){return $})),r.d(i,"multiply",(function(){return ee})),r.d(i,"rotate",(function(){return te})),r.d(i,"scale",(function(){return re})),r.d(i,"translate",(function(){return ne})),r.d(i,"fromRotation",(function(){return ae})),r.d(i,"fromScaling",(function(){return ie})),r.d(i,"fromTranslation",(function(){return oe})),r.d(i,"str",(function(){return se})),r.d(i,"frob",(function(){return ue})),r.d(i,"add",(function(){return ce})),r.d(i,"subtract",(function(){return fe})),r.d(i,"multiplyScalar",(function(){return _e})),r.d(i,"multiplyScalarAndAdd",(function(){return de})),r.d(i,"exactEquals",(function(){return le})),r.d(i,"equals",(function(){return he})),r.d(i,"mul",(function(){return me})),r.d(i,"sub",(function(){return pe}));var o={};r.r(o),r.d(o,"create",(function(){return be})),r.d(o,"fromMat4",(function(){return ve})),r.d(o,"clone",(function(){return ge})),r.d(o,"copy",(function(){return Me})),r.d(o,"fromValues",(function(){return ye})),r.d(o,"set",(function(){return we})),r.d(o,"identity",(function(){return xe})),r.d(o,"transpose",(function(){return Ee})),r.d(o,"invert",(function(){return Ae})),r.d(o,"adjoint",(function(){return ke})),r.d(o,"determinant",(function(){return Te})),r.d(o,"multiply",(function(){return ze})),r.d(o,"translate",(function(){return Fe})),r.d(o,"rotate",(function(){return Re})),r.d(o,"scale",(function(){return Pe})),r.d(o,"fromTranslation",(function(){return Se})),r.d(o,"fromRotation",(function(){return Oe})),r.d(o,"fromScaling",(function(){return Le})),r.d(o,"fromMat2d",(function(){return De})),r.d(o,"fromQuat",(function(){return Ce})),r.d(o,"normalFromMat4",(function(){return Ie})),r.d(o,"projection",(function(){return Ue})),r.d(o,"str",(function(){return Be})),r.d(o,"frob",(function(){return qe})),r.d(o,"add",(function(){return je})),r.d(o,"subtract",(function(){return Ve})),r.d(o,"multiplyScalar",(function(){return Ne})),r.d(o,"multiplyScalarAndAdd",(function(){return Ge})),r.d(o,"exactEquals",(function(){return He})),r.d(o,"equals",(function(){return We})),r.d(o,"mul",(function(){return Ye})),r.d(o,"sub",(function(){return Xe}));var s={};r.r(s),r.d(s,"create",(function(){return Ze})),r.d(s,"clone",(function(){return Qe})),r.d(s,"copy",(function(){return Je})),r.d(s,"fromValues",(function(){return Ke})),r.d(s,"set",(function(){return $e})),r.d(s,"identity",(function(){return et})),r.d(s,"transpose",(function(){return tt})),r.d(s,"invert",(function(){return rt})),r.d(s,"adjoint",(function(){return nt})),r.d(s,"determinant",(function(){return at})),r.d(s,"multiply",(function(){return it})),r.d(s,"translate",(function(){return ot})),r.d(s,"scale",(function(){return st})),r.d(s,"rotate",(function(){return ut})),r.d(s,"rotateX",(function(){return ct})),r.d(s,"rotateY",(function(){return ft})),r.d(s,"rotateZ",(function(){return _t})),r.d(s,"fromTranslation",(function(){return dt})),r.d(s,"fromScaling",(function(){return lt})),r.d(s,"fromRotation",(function(){return ht})),r.d(s,"fromXRotation",(function(){return mt})),r.d(s,"fromYRotation",(function(){return pt})),r.d(s,"fromZRotation",(function(){return bt})),r.d(s,"fromRotationTranslation",(function(){return vt})),r.d(s,"fromQuat2",(function(){return gt})),r.d(s,"getTranslation",(function(){return Mt})),r.d(s,"getScaling",(function(){return yt})),r.d(s,"getRotation",(function(){return wt})),r.d(s,"fromRotationTranslationScale",(function(){return xt})),r.d(s,"fromRotationTranslationScaleOrigin",(function(){return Et})),r.d(s,"fromQuat",(function(){return At})),r.d(s,"frustum",(function(){return kt})),r.d(s,"perspective",(function(){return Tt})),r.d(s,"perspectiveFromFieldOfView",(function(){return zt})),r.d(s,"ortho",(function(){return Ft})),r.d(s,"lookAt",(function(){return Rt})),r.d(s,"targetTo",(function(){return Pt})),r.d(s,"str",(function(){return St})),r.d(s,"frob",(function(){return Ot})),r.d(s,"add",(function(){return Lt})),r.d(s,"subtract",(function(){return Dt})),r.d(s,"multiplyScalar",(function(){return Ct})),r.d(s,"multiplyScalarAndAdd",(function(){return It})),r.d(s,"exactEquals",(function(){return Ut})),r.d(s,"equals",(function(){return Bt})),r.d(s,"mul",(function(){return qt})),r.d(s,"sub",(function(){return jt}));var u={};r.r(u),r.d(u,"create",(function(){return Vt})),r.d(u,"clone",(function(){return Nt})),r.d(u,"length",(function(){return Gt})),r.d(u,"fromValues",(function(){return Ht})),r.d(u,"copy",(function(){return Wt})),r.d(u,"set",(function(){return Yt})),r.d(u,"add",(function(){return Xt})),r.d(u,"subtract",(function(){return Zt})),r.d(u,"multiply",(function(){return Qt})),r.d(u,"divide",(function(){return Jt})),r.d(u,"ceil",(function(){return Kt})),r.d(u,"floor",(function(){return $t})),r.d(u,"min",(function(){return er})),r.d(u,"max",(function(){return tr})),r.d(u,"round",(function(){return rr})),r.d(u,"scale",(function(){return nr})),r.d(u,"scaleAndAdd",(function(){return ar})),r.d(u,"distance",(function(){return ir})),r.d(u,"squaredDistance",(function(){return or})),r.d(u,"squaredLength",(function(){return sr})),r.d(u,"negate",(function(){return ur})),r.d(u,"inverse",(function(){return cr})),r.d(u,"normalize",(function(){return fr})),r.d(u,"dot",(function(){return _r})),r.d(u,"cross",(function(){return dr})),r.d(u,"lerp",(function(){return lr})),r.d(u,"hermite",(function(){return hr})),r.d(u,"bezier",(function(){return mr})),r.d(u,"random",(function(){return pr})),r.d(u,"transformMat4",(function(){return br})),r.d(u,"transformMat3",(function(){return vr})),r.d(u,"transformQuat",(function(){return gr})),r.d(u,"rotateX",(function(){return Mr})),r.d(u,"rotateY",(function(){return yr})),r.d(u,"rotateZ",(function(){return wr})),r.d(u,"angle",(function(){return xr})),r.d(u,"zero",(function(){return Er})),r.d(u,"str",(function(){return Ar})),r.d(u,"exactEquals",(function(){return kr})),r.d(u,"equals",(function(){return Tr})),r.d(u,"sub",(function(){return Fr})),r.d(u,"mul",(function(){return Rr})),r.d(u,"div",(function(){return Pr})),r.d(u,"dist",(function(){return Sr})),r.d(u,"sqrDist",(function(){return Or})),r.d(u,"len",(function(){return Lr})),r.d(u,"sqrLen",(function(){return Dr})),r.d(u,"forEach",(function(){return Cr}));var c={};r.r(c),r.d(c,"create",(function(){return Ir})),r.d(c,"clone",(function(){return Ur})),r.d(c,"fromValues",(function(){return Br})),r.d(c,"copy",(function(){return qr})),r.d(c,"set",(function(){return jr})),r.d(c,"add",(function(){return Vr})),r.d(c,"subtract",(function(){return Nr})),r.d(c,"multiply",(function(){return Gr})),r.d(c,"divide",(function(){return Hr})),r.d(c,"ceil",(function(){return Wr})),r.d(c,"floor",(function(){return Yr})),r.d(c,"min",(function(){return Xr})),r.d(c,"max",(function(){return Zr})),r.d(c,"round",(function(){return Qr})),r.d(c,"scale",(function(){return Jr})),r.d(c,"scaleAndAdd",(function(){return Kr})),r.d(c,"distance",(function(){return $r})),r.d(c,"squaredDistance",(function(){return en})),r.d(c,"length",(function(){return tn})),r.d(c,"squaredLength",(function(){return rn})),r.d(c,"negate",(function(){return nn})),r.d(c,"inverse",(function(){return an})),r.d(c,"normalize",(function(){return on})),r.d(c,"dot",(function(){return sn})),r.d(c,"cross",(function(){return un})),r.d(c,"lerp",(function(){return cn})),r.d(c,"random",(function(){return fn})),r.d(c,"transformMat4",(function(){return _n})),r.d(c,"transformQuat",(function(){return dn})),r.d(c,"zero",(function(){return ln})),r.d(c,"str",(function(){return hn})),r.d(c,"exactEquals",(function(){return mn})),r.d(c,"equals",(function(){return pn})),r.d(c,"sub",(function(){return bn})),r.d(c,"mul",(function(){return vn})),r.d(c,"div",(function(){return gn})),r.d(c,"dist",(function(){return Mn})),r.d(c,"sqrDist",(function(){return yn})),r.d(c,"len",(function(){return wn})),r.d(c,"sqrLen",(function(){return xn})),r.d(c,"forEach",(function(){return En}));var f={};r.r(f),r.d(f,"create",(function(){return An})),r.d(f,"identity",(function(){return kn})),r.d(f,"setAxisAngle",(function(){return Tn})),r.d(f,"getAxisAngle",(function(){return zn})),r.d(f,"getAngle",(function(){return Fn})),r.d(f,"multiply",(function(){return Rn})),r.d(f,"rotateX",(function(){return Pn})),r.d(f,"rotateY",(function(){return Sn})),r.d(f,"rotateZ",(function(){return On})),r.d(f,"calculateW",(function(){return Ln})),r.d(f,"exp",(function(){return Dn})),r.d(f,"ln",(function(){return Cn})),r.d(f,"pow",(function(){return In})),r.d(f,"slerp",(function(){return Un})),r.d(f,"random",(function(){return Bn})),r.d(f,"invert",(function(){return qn})),r.d(f,"conjugate",(function(){return jn})),r.d(f,"fromMat3",(function(){return Vn})),r.d(f,"fromEuler",(function(){return Nn})),r.d(f,"str",(function(){return Gn})),r.d(f,"clone",(function(){return Jn})),r.d(f,"fromValues",(function(){return Kn})),r.d(f,"copy",(function(){return $n})),r.d(f,"set",(function(){return ea})),r.d(f,"add",(function(){return ta})),r.d(f,"mul",(function(){return ra})),r.d(f,"scale",(function(){return na})),r.d(f,"dot",(function(){return aa})),r.d(f,"lerp",(function(){return ia})),r.d(f,"length",(function(){return oa})),r.d(f,"len",(function(){return sa})),r.d(f,"squaredLength",(function(){return ua})),r.d(f,"sqrLen",(function(){return ca})),r.d(f,"normalize",(function(){return fa})),r.d(f,"exactEquals",(function(){return _a})),r.d(f,"equals",(function(){return da})),r.d(f,"rotationTo",(function(){return la})),r.d(f,"sqlerp",(function(){return ha})),r.d(f,"setAxes",(function(){return ma}));var _={};r.r(_),r.d(_,"create",(function(){return pa})),r.d(_,"clone",(function(){return ba})),r.d(_,"fromValues",(function(){return va})),r.d(_,"fromRotationTranslationValues",(function(){return ga})),r.d(_,"fromRotationTranslation",(function(){return Ma})),r.d(_,"fromTranslation",(function(){return ya})),r.d(_,"fromRotation",(function(){return wa})),r.d(_,"fromMat4",(function(){return xa})),r.d(_,"copy",(function(){return Ea})),r.d(_,"identity",(function(){return Aa})),r.d(_,"set",(function(){return ka})),r.d(_,"getReal",(function(){return Ta})),r.d(_,"getDual",(function(){return za})),r.d(_,"setReal",(function(){return Fa})),r.d(_,"setDual",(function(){return Ra})),r.d(_,"getTranslation",(function(){return Pa})),r.d(_,"translate",(function(){return Sa})),r.d(_,"rotateX",(function(){return Oa})),r.d(_,"rotateY",(function(){return La})),r.d(_,"rotateZ",(function(){return Da})),r.d(_,"rotateByQuatAppend",(function(){return Ca})),r.d(_,"rotateByQuatPrepend",(function(){return Ia})),r.d(_,"rotateAroundAxis",(function(){return Ua})),r.d(_,"add",(function(){return Ba})),r.d(_,"multiply",(function(){return qa})),r.d(_,"mul",(function(){return ja})),r.d(_,"scale",(function(){return Va})),r.d(_,"dot",(function(){return Na})),r.d(_,"lerp",(function(){return Ga})),r.d(_,"invert",(function(){return Ha})),r.d(_,"conjugate",(function(){return Wa})),r.d(_,"length",(function(){return Ya})),r.d(_,"len",(function(){return Xa})),r.d(_,"squaredLength",(function(){return Za})),r.d(_,"sqrLen",(function(){return Qa})),r.d(_,"normalize",(function(){return Ja})),r.d(_,"str",(function(){return Ka})),r.d(_,"exactEquals",(function(){return $a})),r.d(_,"equals",(function(){return ei}));var d={};r.r(d),r.d(d,"create",(function(){return ti})),r.d(d,"clone",(function(){return ri})),r.d(d,"fromValues",(function(){return ni})),r.d(d,"copy",(function(){return ai})),r.d(d,"set",(function(){return ii})),r.d(d,"add",(function(){return oi})),r.d(d,"subtract",(function(){return si})),r.d(d,"multiply",(function(){return ui})),r.d(d,"divide",(function(){return ci})),r.d(d,"ceil",(function(){return fi})),r.d(d,"floor",(function(){return _i})),r.d(d,"min",(function(){return di})),r.d(d,"max",(function(){return li})),r.d(d,"round",(function(){return hi})),r.d(d,"scale",(function(){return mi})),r.d(d,"scaleAndAdd",(function(){return pi})),r.d(d,"distance",(function(){return bi})),r.d(d,"squaredDistance",(function(){return vi})),r.d(d,"length",(function(){return gi})),r.d(d,"squaredLength",(function(){return Mi})),r.d(d,"negate",(function(){return yi})),r.d(d,"inverse",(function(){return wi})),r.d(d,"normalize",(function(){return xi})),r.d(d,"dot",(function(){return Ei})),r.d(d,"cross",(function(){return Ai})),r.d(d,"lerp",(function(){return ki})),r.d(d,"random",(function(){return Ti})),r.d(d,"transformMat2",(function(){return zi})),r.d(d,"transformMat2d",(function(){return Fi})),r.d(d,"transformMat3",(function(){return Ri})),r.d(d,"transformMat4",(function(){return Pi})),r.d(d,"rotate",(function(){return Si})),r.d(d,"angle",(function(){return Oi})),r.d(d,"zero",(function(){return Li})),r.d(d,"str",(function(){return Di})),r.d(d,"exactEquals",(function(){return Ci})),r.d(d,"equals",(function(){return Ii})),r.d(d,"len",(function(){return Ui})),r.d(d,"sub",(function(){return Bi})),r.d(d,"mul",(function(){return qi})),r.d(d,"div",(function(){return ji})),r.d(d,"dist",(function(){return Vi})),r.d(d,"sqrDist",(function(){return Ni})),r.d(d,"sqrLen",(function(){return Gi})),r.d(d,"forEach",(function(){return Hi}));var l=1e-6,h="undefined"!=typeof Float32Array?Float32Array:Array,m=Math.random;function p(e){h=e}var b=Math.PI/180;function v(e){return e*b}function g(e,t){return Math.abs(e-t)<=l*Math.max(1,Math.abs(e),Math.abs(t))}function M(){var e=new h(4);return h!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function y(e){var t=new h(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function w(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function x(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function E(e,t,r,n){var a=new h(4);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a}function A(e,t,r,n,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e}function k(e,t){if(e===t){var r=t[1];e[1]=t[2],e[2]=r}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function T(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*i-a*n;return o?(o=1/o,e[0]=i*o,e[1]=-n*o,e[2]=-a*o,e[3]=r*o,e):null}function z(e,t){var r=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=r,e}function F(e){return e[0]*e[3]-e[2]*e[1]}function R(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],u=r[1],c=r[2],f=r[3];return e[0]=n*s+i*u,e[1]=a*s+o*u,e[2]=n*c+i*f,e[3]=a*c+o*f,e}function P(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+i*s,e[1]=a*u+o*s,e[2]=n*-s+i*u,e[3]=a*-s+o*u,e}function S(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],u=r[1];return e[0]=n*s,e[1]=a*s,e[2]=i*u,e[3]=o*u,e}function O(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e}function L(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function D(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function C(e){return Math.hypot(e[0],e[1],e[2],e[3])}function I(e,t,r,n){return e[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-e[2]*r[1],[e,t,r]}function U(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function B(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function q(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function j(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=t[0],s=t[1],u=t[2],c=t[3];return Math.abs(r-o)<=l*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=l*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-u)<=l*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-c)<=l*Math.max(1,Math.abs(i),Math.abs(c))}function V(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function N(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var G=R,H=B;function W(){var e=new h(6);return h!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function Y(e){var t=new h(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function X(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Z(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Q(e,t,r,n,a,i){var o=new h(6);return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=a,o[5]=i,o}function J(e,t,r,n,a,i,o){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=i,e[5]=o,e}function K(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=r*i-n*a;return u?(u=1/u,e[0]=i*u,e[1]=-n*u,e[2]=-a*u,e[3]=r*u,e[4]=(a*s-i*o)*u,e[5]=(n*o-r*s)*u,e):null}function $(e){return e[0]*e[3]-e[1]*e[2]}function ee(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=r[0],f=r[1],_=r[2],d=r[3],l=r[4],h=r[5];return e[0]=n*c+i*f,e[1]=a*c+o*f,e[2]=n*_+i*d,e[3]=a*_+o*d,e[4]=n*l+i*h+s,e[5]=a*l+o*h+u,e}function te(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=Math.sin(r),f=Math.cos(r);return e[0]=n*f+i*c,e[1]=a*f+o*c,e[2]=n*-c+i*f,e[3]=a*-c+o*f,e[4]=s,e[5]=u,e}function re(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=r[0],f=r[1];return e[0]=n*c,e[1]=a*c,e[2]=i*f,e[3]=o*f,e[4]=s,e[5]=u,e}function ne(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=r[0],f=r[1];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=n*c+i*f+s,e[5]=a*c+o*f+u,e}function ae(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function ie(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function oe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function se(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function ue(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)}function ce(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function fe(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function _e(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function de(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e}function le(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function he(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=t[0],c=t[1],f=t[2],_=t[3],d=t[4],h=t[5];return Math.abs(r-u)<=l*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-c)<=l*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-f)<=l*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(i-_)<=l*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-d)<=l*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-h)<=l*Math.max(1,Math.abs(s),Math.abs(h))}var me=ee,pe=fe;function be(){var e=new h(9);return h!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function ve(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function ge(e){var t=new h(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Me(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function ye(e,t,r,n,a,i,o,s,u){var c=new h(9);return c[0]=e,c[1]=t,c[2]=r,c[3]=n,c[4]=a,c[5]=i,c[6]=o,c[7]=s,c[8]=u,c}function we(e,t,r,n,a,i,o,s,u,c){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=u,e[8]=c,e}function xe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Ee(e,t){if(e===t){var r=t[1],n=t[2],a=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=a}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function Ae(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],f=t[8],_=f*o-s*c,d=-f*i+s*u,l=c*i-o*u,h=r*_+n*d+a*l;return h?(h=1/h,e[0]=_*h,e[1]=(-f*n+a*c)*h,e[2]=(s*n-a*o)*h,e[3]=d*h,e[4]=(f*r-a*u)*h,e[5]=(-s*r+a*i)*h,e[6]=l*h,e[7]=(-c*r+n*u)*h,e[8]=(o*r-n*i)*h,e):null}function ke(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],f=t[8];return e[0]=o*f-s*c,e[1]=a*c-n*f,e[2]=n*s-a*o,e[3]=s*u-i*f,e[4]=r*f-a*u,e[5]=a*i-r*s,e[6]=i*c-o*u,e[7]=n*u-r*c,e[8]=r*o-n*i,e}function Te(e){var t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],c=e[8];return t*(c*i-o*u)+r*(-c*a+o*s)+n*(u*a-i*s)}function ze(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=t[8],d=r[0],l=r[1],h=r[2],m=r[3],p=r[4],b=r[5],v=r[6],g=r[7],M=r[8];return e[0]=d*n+l*o+h*c,e[1]=d*a+l*s+h*f,e[2]=d*i+l*u+h*_,e[3]=m*n+p*o+b*c,e[4]=m*a+p*s+b*f,e[5]=m*i+p*u+b*_,e[6]=v*n+g*o+M*c,e[7]=v*a+g*s+M*f,e[8]=v*i+g*u+M*_,e}function Fe(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=t[8],d=r[0],l=r[1];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=u,e[6]=d*n+l*o+c,e[7]=d*a+l*s+f,e[8]=d*i+l*u+_,e}function Re(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=t[8],d=Math.sin(r),l=Math.cos(r);return e[0]=l*n+d*o,e[1]=l*a+d*s,e[2]=l*i+d*u,e[3]=l*o-d*n,e[4]=l*s-d*a,e[5]=l*u-d*i,e[6]=c,e[7]=f,e[8]=_,e}function Pe(e,t,r){var n=r[0],a=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Se(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function Oe(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Le(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function De(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Ce(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r+r,s=n+n,u=a+a,c=r*o,f=n*o,_=n*s,d=a*o,l=a*s,h=a*u,m=i*o,p=i*s,b=i*u;return e[0]=1-_-h,e[3]=f-b,e[6]=d+p,e[1]=f+b,e[4]=1-c-h,e[7]=l-m,e[2]=d-p,e[5]=l+m,e[8]=1-c-_,e}function Ie(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],f=t[8],_=t[9],d=t[10],l=t[11],h=t[12],m=t[13],p=t[14],b=t[15],v=r*s-n*o,g=r*u-a*o,M=r*c-i*o,y=n*u-a*s,w=n*c-i*s,x=a*c-i*u,E=f*m-_*h,A=f*p-d*h,k=f*b-l*h,T=_*p-d*m,z=_*b-l*m,F=d*b-l*p,R=v*F-g*z+M*T+y*k-w*A+x*E;return R?(R=1/R,e[0]=(s*F-u*z+c*T)*R,e[1]=(u*k-o*F-c*A)*R,e[2]=(o*z-s*k+c*E)*R,e[3]=(a*z-n*F-i*T)*R,e[4]=(r*F-a*k+i*A)*R,e[5]=(n*k-r*z-i*E)*R,e[6]=(m*x-p*w+b*y)*R,e[7]=(p*M-h*x-b*g)*R,e[8]=(h*w-m*M+b*v)*R,e):null}function Ue(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Be(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function qe(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function je(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function Ve(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function Ne(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function Ge(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function He(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function We(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],f=e[8],_=t[0],d=t[1],h=t[2],m=t[3],p=t[4],b=t[5],v=t[6],g=t[7],M=t[8];return Math.abs(r-_)<=l*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(n-d)<=l*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(a-h)<=l*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(i-m)<=l*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(o-p)<=l*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-b)<=l*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(u-v)<=l*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(c-g)<=l*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(f-M)<=l*Math.max(1,Math.abs(f),Math.abs(M))}var Ye=ze,Xe=Ve;function Ze(){var e=new h(16);return h!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Qe(e){var t=new h(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Je(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ke(e,t,r,n,a,i,o,s,u,c,f,_,d,l,m,p){var b=new h(16);return b[0]=e,b[1]=t,b[2]=r,b[3]=n,b[4]=a,b[5]=i,b[6]=o,b[7]=s,b[8]=u,b[9]=c,b[10]=f,b[11]=_,b[12]=d,b[13]=l,b[14]=m,b[15]=p,b}function $e(e,t,r,n,a,i,o,s,u,c,f,_,d,l,h,m,p){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=u,e[8]=c,e[9]=f,e[10]=_,e[11]=d,e[12]=l,e[13]=h,e[14]=m,e[15]=p,e}function et(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function tt(e,t){if(e===t){var r=t[1],n=t[2],a=t[3],i=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=i,e[11]=t[14],e[12]=a,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function rt(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],f=t[8],_=t[9],d=t[10],l=t[11],h=t[12],m=t[13],p=t[14],b=t[15],v=r*s-n*o,g=r*u-a*o,M=r*c-i*o,y=n*u-a*s,w=n*c-i*s,x=a*c-i*u,E=f*m-_*h,A=f*p-d*h,k=f*b-l*h,T=_*p-d*m,z=_*b-l*m,F=d*b-l*p,R=v*F-g*z+M*T+y*k-w*A+x*E;return R?(R=1/R,e[0]=(s*F-u*z+c*T)*R,e[1]=(a*z-n*F-i*T)*R,e[2]=(m*x-p*w+b*y)*R,e[3]=(d*w-_*x-l*y)*R,e[4]=(u*k-o*F-c*A)*R,e[5]=(r*F-a*k+i*A)*R,e[6]=(p*M-h*x-b*g)*R,e[7]=(f*x-d*M+l*g)*R,e[8]=(o*z-s*k+c*E)*R,e[9]=(n*k-r*z-i*E)*R,e[10]=(h*w-m*M+b*v)*R,e[11]=(_*M-f*w-l*v)*R,e[12]=(s*A-o*T-u*E)*R,e[13]=(r*T-n*A+a*E)*R,e[14]=(m*g-h*y-p*v)*R,e[15]=(f*y-_*g+d*v)*R,e):null}function nt(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],f=t[8],_=t[9],d=t[10],l=t[11],h=t[12],m=t[13],p=t[14],b=t[15];return e[0]=s*(d*b-l*p)-_*(u*b-c*p)+m*(u*l-c*d),e[1]=-(n*(d*b-l*p)-_*(a*b-i*p)+m*(a*l-i*d)),e[2]=n*(u*b-c*p)-s*(a*b-i*p)+m*(a*c-i*u),e[3]=-(n*(u*l-c*d)-s*(a*l-i*d)+_*(a*c-i*u)),e[4]=-(o*(d*b-l*p)-f*(u*b-c*p)+h*(u*l-c*d)),e[5]=r*(d*b-l*p)-f*(a*b-i*p)+h*(a*l-i*d),e[6]=-(r*(u*b-c*p)-o*(a*b-i*p)+h*(a*c-i*u)),e[7]=r*(u*l-c*d)-o*(a*l-i*d)+f*(a*c-i*u),e[8]=o*(_*b-l*m)-f*(s*b-c*m)+h*(s*l-c*_),e[9]=-(r*(_*b-l*m)-f*(n*b-i*m)+h*(n*l-i*_)),e[10]=r*(s*b-c*m)-o*(n*b-i*m)+h*(n*c-i*s),e[11]=-(r*(s*l-c*_)-o*(n*l-i*_)+f*(n*c-i*s)),e[12]=-(o*(_*p-d*m)-f*(s*p-u*m)+h*(s*d-u*_)),e[13]=r*(_*p-d*m)-f*(n*p-a*m)+h*(n*d-a*_),e[14]=-(r*(s*p-u*m)-o*(n*p-a*m)+h*(n*u-a*s)),e[15]=r*(s*d-u*_)-o*(n*d-a*_)+f*(n*u-a*s),e}function at(e){var t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],c=e[8],f=e[9],_=e[10],d=e[11],l=e[12],h=e[13],m=e[14],p=e[15];return(t*o-r*i)*(_*p-d*m)-(t*s-n*i)*(f*p-d*h)+(t*u-a*i)*(f*m-_*h)+(r*s-n*o)*(c*p-d*l)-(r*u-a*o)*(c*m-_*l)+(n*u-a*s)*(c*h-f*l)}function it(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=t[8],d=t[9],l=t[10],h=t[11],m=t[12],p=t[13],b=t[14],v=t[15],g=r[0],M=r[1],y=r[2],w=r[3];return e[0]=g*n+M*s+y*_+w*m,e[1]=g*a+M*u+y*d+w*p,e[2]=g*i+M*c+y*l+w*b,e[3]=g*o+M*f+y*h+w*v,g=r[4],M=r[5],y=r[6],w=r[7],e[4]=g*n+M*s+y*_+w*m,e[5]=g*a+M*u+y*d+w*p,e[6]=g*i+M*c+y*l+w*b,e[7]=g*o+M*f+y*h+w*v,g=r[8],M=r[9],y=r[10],w=r[11],e[8]=g*n+M*s+y*_+w*m,e[9]=g*a+M*u+y*d+w*p,e[10]=g*i+M*c+y*l+w*b,e[11]=g*o+M*f+y*h+w*v,g=r[12],M=r[13],y=r[14],w=r[15],e[12]=g*n+M*s+y*_+w*m,e[13]=g*a+M*u+y*d+w*p,e[14]=g*i+M*c+y*l+w*b,e[15]=g*o+M*f+y*h+w*v,e}function ot(e,t,r){var n,a,i,o,s,u,c,f,_,d,l,h,m=r[0],p=r[1],b=r[2];return t===e?(e[12]=t[0]*m+t[4]*p+t[8]*b+t[12],e[13]=t[1]*m+t[5]*p+t[9]*b+t[13],e[14]=t[2]*m+t[6]*p+t[10]*b+t[14],e[15]=t[3]*m+t[7]*p+t[11]*b+t[15]):(n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=t[8],d=t[9],l=t[10],h=t[11],e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=u,e[6]=c,e[7]=f,e[8]=_,e[9]=d,e[10]=l,e[11]=h,e[12]=n*m+s*p+_*b+t[12],e[13]=a*m+u*p+d*b+t[13],e[14]=i*m+c*p+l*b+t[14],e[15]=o*m+f*p+h*b+t[15]),e}function st(e,t,r){var n=r[0],a=r[1],i=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ut(e,t,r,n){var a,i,o,s,u,c,f,_,d,h,m,p,b,v,g,M,y,w,x,E,A,k,T,z,F=n[0],R=n[1],P=n[2],S=Math.hypot(F,R,P);return S<l?null:(F*=S=1/S,R*=S,P*=S,a=Math.sin(r),o=1-(i=Math.cos(r)),s=t[0],u=t[1],c=t[2],f=t[3],_=t[4],d=t[5],h=t[6],m=t[7],p=t[8],b=t[9],v=t[10],g=t[11],M=F*F*o+i,y=R*F*o+P*a,w=P*F*o-R*a,x=F*R*o-P*a,E=R*R*o+i,A=P*R*o+F*a,k=F*P*o+R*a,T=R*P*o-F*a,z=P*P*o+i,e[0]=s*M+_*y+p*w,e[1]=u*M+d*y+b*w,e[2]=c*M+h*y+v*w,e[3]=f*M+m*y+g*w,e[4]=s*x+_*E+p*A,e[5]=u*x+d*E+b*A,e[6]=c*x+h*E+v*A,e[7]=f*x+m*E+g*A,e[8]=s*k+_*T+p*z,e[9]=u*k+d*T+b*z,e[10]=c*k+h*T+v*z,e[11]=f*k+m*T+g*z,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function ct(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[4],o=t[5],s=t[6],u=t[7],c=t[8],f=t[9],_=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+c*n,e[5]=o*a+f*n,e[6]=s*a+_*n,e[7]=u*a+d*n,e[8]=c*a-i*n,e[9]=f*a-o*n,e[10]=_*a-s*n,e[11]=d*a-u*n,e}function ft(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[0],o=t[1],s=t[2],u=t[3],c=t[8],f=t[9],_=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a-c*n,e[1]=o*a-f*n,e[2]=s*a-_*n,e[3]=u*a-d*n,e[8]=i*n+c*a,e[9]=o*n+f*a,e[10]=s*n+_*a,e[11]=u*n+d*a,e}function _t(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[0],o=t[1],s=t[2],u=t[3],c=t[4],f=t[5],_=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+c*n,e[1]=o*a+f*n,e[2]=s*a+_*n,e[3]=u*a+d*n,e[4]=c*a-i*n,e[5]=f*a-o*n,e[6]=_*a-s*n,e[7]=d*a-u*n,e}function dt(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function lt(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ht(e,t,r){var n,a,i,o=r[0],s=r[1],u=r[2],c=Math.hypot(o,s,u);return c<l?null:(o*=c=1/c,s*=c,u*=c,n=Math.sin(t),i=1-(a=Math.cos(t)),e[0]=o*o*i+a,e[1]=s*o*i+u*n,e[2]=u*o*i-s*n,e[3]=0,e[4]=o*s*i-u*n,e[5]=s*s*i+a,e[6]=u*s*i+o*n,e[7]=0,e[8]=o*u*i+s*n,e[9]=s*u*i-o*n,e[10]=u*u*i+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function mt(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function pt(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function bt(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vt(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=n+n,u=a+a,c=i+i,f=n*s,_=n*u,d=n*c,l=a*u,h=a*c,m=i*c,p=o*s,b=o*u,v=o*c;return e[0]=1-(l+m),e[1]=_+v,e[2]=d-b,e[3]=0,e[4]=_-v,e[5]=1-(f+m),e[6]=h+p,e[7]=0,e[8]=d+b,e[9]=h-p,e[10]=1-(f+l),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function gt(e,t){var r=new h(3),n=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=n*n+a*a+i*i+o*o;return _>0?(r[0]=2*(s*o+f*n+u*i-c*a)/_,r[1]=2*(u*o+f*a+c*n-s*i)/_,r[2]=2*(c*o+f*i+s*a-u*n)/_):(r[0]=2*(s*o+f*n+u*i-c*a),r[1]=2*(u*o+f*a+c*n-s*i),r[2]=2*(c*o+f*i+s*a-u*n)),vt(e,t,r),e}function Mt(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function yt(e,t){var r=t[0],n=t[1],a=t[2],i=t[4],o=t[5],s=t[6],u=t[8],c=t[9],f=t[10];return e[0]=Math.hypot(r,n,a),e[1]=Math.hypot(i,o,s),e[2]=Math.hypot(u,c,f),e}function wt(e,t){var r=new h(3);yt(r,t);var n=1/r[0],a=1/r[1],i=1/r[2],o=t[0]*n,s=t[1]*a,u=t[2]*i,c=t[4]*n,f=t[5]*a,_=t[6]*i,d=t[8]*n,l=t[9]*a,m=t[10]*i,p=o+f+m,b=0;return p>0?(b=2*Math.sqrt(p+1),e[3]=.25*b,e[0]=(_-l)/b,e[1]=(d-u)/b,e[2]=(s-c)/b):o>f&&o>m?(b=2*Math.sqrt(1+o-f-m),e[3]=(_-l)/b,e[0]=.25*b,e[1]=(s+c)/b,e[2]=(d+u)/b):f>m?(b=2*Math.sqrt(1+f-o-m),e[3]=(d-u)/b,e[0]=(s+c)/b,e[1]=.25*b,e[2]=(_+l)/b):(b=2*Math.sqrt(1+m-o-f),e[3]=(s-c)/b,e[0]=(d+u)/b,e[1]=(_+l)/b,e[2]=.25*b),e}function xt(e,t,r,n){var a=t[0],i=t[1],o=t[2],s=t[3],u=a+a,c=i+i,f=o+o,_=a*u,d=a*c,l=a*f,h=i*c,m=i*f,p=o*f,b=s*u,v=s*c,g=s*f,M=n[0],y=n[1],w=n[2];return e[0]=(1-(h+p))*M,e[1]=(d+g)*M,e[2]=(l-v)*M,e[3]=0,e[4]=(d-g)*y,e[5]=(1-(_+p))*y,e[6]=(m+b)*y,e[7]=0,e[8]=(l+v)*w,e[9]=(m-b)*w,e[10]=(1-(_+h))*w,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function Et(e,t,r,n,a){var i=t[0],o=t[1],s=t[2],u=t[3],c=i+i,f=o+o,_=s+s,d=i*c,l=i*f,h=i*_,m=o*f,p=o*_,b=s*_,v=u*c,g=u*f,M=u*_,y=n[0],w=n[1],x=n[2],E=a[0],A=a[1],k=a[2],T=(1-(m+b))*y,z=(l+M)*y,F=(h-g)*y,R=(l-M)*w,P=(1-(d+b))*w,S=(p+v)*w,O=(h+g)*x,L=(p-v)*x,D=(1-(d+m))*x;return e[0]=T,e[1]=z,e[2]=F,e[3]=0,e[4]=R,e[5]=P,e[6]=S,e[7]=0,e[8]=O,e[9]=L,e[10]=D,e[11]=0,e[12]=r[0]+E-(T*E+R*A+O*k),e[13]=r[1]+A-(z*E+P*A+L*k),e[14]=r[2]+k-(F*E+S*A+D*k),e[15]=1,e}function At(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r+r,s=n+n,u=a+a,c=r*o,f=n*o,_=n*s,d=a*o,l=a*s,h=a*u,m=i*o,p=i*s,b=i*u;return e[0]=1-_-h,e[1]=f+b,e[2]=d-p,e[3]=0,e[4]=f-b,e[5]=1-c-h,e[6]=l+m,e[7]=0,e[8]=d+p,e[9]=l-m,e[10]=1-c-_,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function kt(e,t,r,n,a,i,o){var s=1/(r-t),u=1/(a-n),c=1/(i-o);return e[0]=2*i*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*u,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(a+n)*u,e[10]=(o+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*c,e[15]=0,e}function Tt(e,t,r,n,a){var i,o=1/Math.tan(t/2);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=a&&a!==1/0?(i=1/(n-a),e[10]=(a+n)*i,e[14]=2*a*n*i):(e[10]=-1,e[14]=-2*n),e}function zt(e,t,r,n){var a=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(o+s),c=2/(a+i);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(o-s)*u*.5,e[9]=(a-i)*c*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function Ft(e,t,r,n,a,i,o){var s=1/(t-r),u=1/(n-a),c=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*s,e[13]=(a+n)*u,e[14]=(o+i)*c,e[15]=1,e}function Rt(e,t,r,n){var a,i,o,s,u,c,f,_,d,h,m=t[0],p=t[1],b=t[2],v=n[0],g=n[1],M=n[2],y=r[0],w=r[1],x=r[2];return Math.abs(m-y)<l&&Math.abs(p-w)<l&&Math.abs(b-x)<l?et(e):(f=m-y,_=p-w,d=b-x,a=g*(d*=h=1/Math.hypot(f,_,d))-M*(_*=h),i=M*(f*=h)-v*d,o=v*_-g*f,(h=Math.hypot(a,i,o))?(a*=h=1/h,i*=h,o*=h):(a=0,i=0,o=0),s=_*o-d*i,u=d*a-f*o,c=f*i-_*a,(h=Math.hypot(s,u,c))?(s*=h=1/h,u*=h,c*=h):(s=0,u=0,c=0),e[0]=a,e[1]=s,e[2]=f,e[3]=0,e[4]=i,e[5]=u,e[6]=_,e[7]=0,e[8]=o,e[9]=c,e[10]=d,e[11]=0,e[12]=-(a*m+i*p+o*b),e[13]=-(s*m+u*p+c*b),e[14]=-(f*m+_*p+d*b),e[15]=1,e)}function Pt(e,t,r,n){var a=t[0],i=t[1],o=t[2],s=n[0],u=n[1],c=n[2],f=a-r[0],_=i-r[1],d=o-r[2],l=f*f+_*_+d*d;l>0&&(f*=l=1/Math.sqrt(l),_*=l,d*=l);var h=u*d-c*_,m=c*f-s*d,p=s*_-u*f;return(l=h*h+m*m+p*p)>0&&(h*=l=1/Math.sqrt(l),m*=l,p*=l),e[0]=h,e[1]=m,e[2]=p,e[3]=0,e[4]=_*p-d*m,e[5]=d*h-f*p,e[6]=f*m-_*h,e[7]=0,e[8]=f,e[9]=_,e[10]=d,e[11]=0,e[12]=a,e[13]=i,e[14]=o,e[15]=1,e}function St(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Ot(e){return Math.hypot(e[0],e[1],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function Lt(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function Dt(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function Ct(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function It(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function Ut(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Bt(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],f=e[8],_=e[9],d=e[10],h=e[11],m=e[12],p=e[13],b=e[14],v=e[15],g=t[0],M=t[1],y=t[2],w=t[3],x=t[4],E=t[5],A=t[6],k=t[7],T=t[8],z=t[9],F=t[10],R=t[11],P=t[12],S=t[13],O=t[14],L=t[15];return Math.abs(r-g)<=l*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(n-M)<=l*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(a-y)<=l*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(i-w)<=l*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-x)<=l*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(s-E)<=l*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-A)<=l*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(c-k)<=l*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(f-T)<=l*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(_-z)<=l*Math.max(1,Math.abs(_),Math.abs(z))&&Math.abs(d-F)<=l*Math.max(1,Math.abs(d),Math.abs(F))&&Math.abs(h-R)<=l*Math.max(1,Math.abs(h),Math.abs(R))&&Math.abs(m-P)<=l*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(p-S)<=l*Math.max(1,Math.abs(p),Math.abs(S))&&Math.abs(b-O)<=l*Math.max(1,Math.abs(b),Math.abs(O))&&Math.abs(v-L)<=l*Math.max(1,Math.abs(v),Math.abs(L))}var qt=it,jt=Dt;function Vt(){var e=new h(3);return h!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Nt(e){var t=new h(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Gt(e){var t=e[0],r=e[1],n=e[2];return Math.hypot(t,r,n)}function Ht(e,t,r){var n=new h(3);return n[0]=e,n[1]=t,n[2]=r,n}function Wt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Yt(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function Xt(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function Zt(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function Qt(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function Jt(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function Kt(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function $t(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function er(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function tr(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function rr(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function nr(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function ar(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function ir(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return Math.hypot(r,n,a)}function or(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return r*r+n*n+a*a}function sr(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function ur(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function cr(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function fr(e,t){var r=t[0],n=t[1],a=t[2],i=r*r+n*n+a*a;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function _r(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function dr(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[0],s=r[1],u=r[2];return e[0]=a*u-i*s,e[1]=i*o-n*u,e[2]=n*s-a*o,e}function lr(e,t,r,n){var a=t[0],i=t[1],o=t[2];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e[2]=o+n*(r[2]-o),e}function hr(e,t,r,n,a,i){var o=i*i,s=o*(2*i-3)+1,u=o*(i-2)+i,c=o*(i-1),f=o*(3-2*i);return e[0]=t[0]*s+r[0]*u+n[0]*c+a[0]*f,e[1]=t[1]*s+r[1]*u+n[1]*c+a[1]*f,e[2]=t[2]*s+r[2]*u+n[2]*c+a[2]*f,e}function mr(e,t,r,n,a,i){var o=1-i,s=o*o,u=i*i,c=s*o,f=3*i*s,_=3*u*o,d=u*i;return e[0]=t[0]*c+r[0]*f+n[0]*_+a[0]*d,e[1]=t[1]*c+r[1]*f+n[1]*_+a[1]*d,e[2]=t[2]*c+r[2]*f+n[2]*_+a[2]*d,e}function pr(e,t){t=t||1;var r=2*m()*Math.PI,n=2*m()-1,a=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*a,e[1]=Math.sin(r)*a,e[2]=n*t,e}function br(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[3]*n+r[7]*a+r[11]*i+r[15];return o=o||1,e[0]=(r[0]*n+r[4]*a+r[8]*i+r[12])/o,e[1]=(r[1]*n+r[5]*a+r[9]*i+r[13])/o,e[2]=(r[2]*n+r[6]*a+r[10]*i+r[14])/o,e}function vr(e,t,r){var n=t[0],a=t[1],i=t[2];return e[0]=n*r[0]+a*r[3]+i*r[6],e[1]=n*r[1]+a*r[4]+i*r[7],e[2]=n*r[2]+a*r[5]+i*r[8],e}function gr(e,t,r){var n=r[0],a=r[1],i=r[2],o=r[3],s=t[0],u=t[1],c=t[2],f=a*c-i*u,_=i*s-n*c,d=n*u-a*s,l=a*d-i*_,h=i*f-n*d,m=n*_-a*f,p=2*o;return f*=p,_*=p,d*=p,l*=2,h*=2,m*=2,e[0]=s+f+l,e[1]=u+_+h,e[2]=c+d+m,e}function Mr(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[0],i[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),i[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e}function yr(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),i[1]=a[1],i[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e}function wr(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),i[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),i[2]=a[2],e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e}function xr(e,t){var r=Ht(e[0],e[1],e[2]),n=Ht(t[0],t[1],t[2]);fr(r,r),fr(n,n);var a=_r(r,n);return a>1?0:a<-1?Math.PI:Math.acos(a)}function Er(e){return e[0]=0,e[1]=0,e[2]=0,e}function Ar(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function kr(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Tr(e,t){var r=e[0],n=e[1],a=e[2],i=t[0],o=t[1],s=t[2];return Math.abs(r-i)<=l*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-o)<=l*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-s)<=l*Math.max(1,Math.abs(a),Math.abs(s))}var zr,Fr=Zt,Rr=Qt,Pr=Jt,Sr=ir,Or=or,Lr=Gt,Dr=sr,Cr=(zr=Vt(),function(e,t,r,n,a,i){var o,s;for(t||(t=3),r||(r=0),s=n?Math.min(n*t+r,e.length):e.length,o=r;o<s;o+=t)zr[0]=e[o],zr[1]=e[o+1],zr[2]=e[o+2],a(zr,zr,i),e[o]=zr[0],e[o+1]=zr[1],e[o+2]=zr[2];return e});function Ir(){var e=new h(4);return h!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Ur(e){var t=new h(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Br(e,t,r,n){var a=new h(4);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a}function qr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function jr(e,t,r,n,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e}function Vr(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function Nr(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function Gr(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function Hr(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function Wr(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Yr(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function Xr(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function Zr(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function Qr(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function Jr(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function Kr(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function $r(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return Math.hypot(r,n,a,i)}function en(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return r*r+n*n+a*a+i*i}function tn(e){var t=e[0],r=e[1],n=e[2],a=e[3];return Math.hypot(t,r,n,a)}function rn(e){var t=e[0],r=e[1],n=e[2],a=e[3];return t*t+r*r+n*n+a*a}function nn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function an(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function on(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*r+n*n+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=r*o,e[1]=n*o,e[2]=a*o,e[3]=i*o,e}function sn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function un(e,t,r,n){var a=r[0]*n[1]-r[1]*n[0],i=r[0]*n[2]-r[2]*n[0],o=r[0]*n[3]-r[3]*n[0],s=r[1]*n[2]-r[2]*n[1],u=r[1]*n[3]-r[3]*n[1],c=r[2]*n[3]-r[3]*n[2],f=t[0],_=t[1],d=t[2],l=t[3];return e[0]=_*c-d*u+l*s,e[1]=-f*c+d*o-l*i,e[2]=f*u-_*o+l*a,e[3]=-f*s+_*i-d*a,e}function cn(e,t,r,n){var a=t[0],i=t[1],o=t[2],s=t[3];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e[2]=o+n*(r[2]-o),e[3]=s+n*(r[3]-s),e}function fn(e,t){var r,n,a,i,o,s;t=t||1;do{o=(r=2*m()-1)*r+(n=2*m()-1)*n}while(o>=1);do{s=(a=2*m()-1)*a+(i=2*m()-1)*i}while(s>=1);var u=Math.sqrt((1-o)/s);return e[0]=t*r,e[1]=t*n,e[2]=t*a*u,e[3]=t*i*u,e}function _n(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3];return e[0]=r[0]*n+r[4]*a+r[8]*i+r[12]*o,e[1]=r[1]*n+r[5]*a+r[9]*i+r[13]*o,e[2]=r[2]*n+r[6]*a+r[10]*i+r[14]*o,e[3]=r[3]*n+r[7]*a+r[11]*i+r[15]*o,e}function dn(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[0],s=r[1],u=r[2],c=r[3],f=c*n+s*i-u*a,_=c*a+u*n-o*i,d=c*i+o*a-s*n,l=-o*n-s*a-u*i;return e[0]=f*c+l*-o+_*-u-d*-s,e[1]=_*c+l*-s+d*-o-f*-u,e[2]=d*c+l*-u+f*-s-_*-o,e[3]=t[3],e}function ln(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function hn(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function mn(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function pn(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=t[0],s=t[1],u=t[2],c=t[3];return Math.abs(r-o)<=l*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=l*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-u)<=l*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-c)<=l*Math.max(1,Math.abs(i),Math.abs(c))}var bn=Nr,vn=Gr,gn=Hr,Mn=$r,yn=en,wn=tn,xn=rn,En=function(){var e=Ir();return function(t,r,n,a,i,o){var s,u;for(r||(r=4),n||(n=0),u=a?Math.min(a*r+n,t.length):t.length,s=n;s<u;s+=r)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}();function An(){var e=new h(4);return h!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function kn(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Tn(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function zn(e,t){var r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>l?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function Fn(e,t){var r=aa(e,t);return Math.acos(2*r*r-1)}function Rn(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],u=r[1],c=r[2],f=r[3];return e[0]=n*f+o*s+a*c-i*u,e[1]=a*f+o*u+i*s-n*c,e[2]=i*f+o*c+n*u-a*s,e[3]=o*f-n*s-a*u-i*c,e}function Pn(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+o*s,e[1]=a*u+i*s,e[2]=i*u-a*s,e[3]=o*u-n*s,e}function Sn(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u-i*s,e[1]=a*u+o*s,e[2]=i*u+n*s,e[3]=o*u-a*s,e}function On(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+a*s,e[1]=a*u-n*s,e[2]=i*u+o*s,e[3]=o*u-i*s,e}function Ln(e,t){var r=t[0],n=t[1],a=t[2];return e[0]=r,e[1]=n,e[2]=a,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-a*a)),e}function Dn(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=Math.sqrt(r*r+n*n+a*a),s=Math.exp(i),u=o>0?s*Math.sin(o)/o:0;return e[0]=r*u,e[1]=n*u,e[2]=a*u,e[3]=s*Math.cos(o),e}function Cn(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=Math.sqrt(r*r+n*n+a*a),s=o>0?Math.atan2(o,i)/o:0;return e[0]=r*s,e[1]=n*s,e[2]=a*s,e[3]=.5*Math.log(r*r+n*n+a*a+i*i),e}function In(e,t,r){return Cn(e,t),na(e,e,r),Dn(e,e),e}function Un(e,t,r,n){var a,i,o,s,u,c=t[0],f=t[1],_=t[2],d=t[3],h=r[0],m=r[1],p=r[2],b=r[3];return(i=c*h+f*m+_*p+d*b)<0&&(i=-i,h=-h,m=-m,p=-p,b=-b),1-i>l?(a=Math.acos(i),o=Math.sin(a),s=Math.sin((1-n)*a)/o,u=Math.sin(n*a)/o):(s=1-n,u=n),e[0]=s*c+u*h,e[1]=s*f+u*m,e[2]=s*_+u*p,e[3]=s*d+u*b,e}function Bn(e){var t=m(),r=m(),n=m(),a=Math.sqrt(1-t),i=Math.sqrt(t);return e[0]=a*Math.sin(2*Math.PI*r),e[1]=a*Math.cos(2*Math.PI*r),e[2]=i*Math.sin(2*Math.PI*n),e[3]=i*Math.cos(2*Math.PI*n),e}function qn(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*r+n*n+a*a+i*i,s=o?1/o:0;return e[0]=-r*s,e[1]=-n*s,e[2]=-a*s,e[3]=i*s,e}function jn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function Vn(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[3*a+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;r=Math.sqrt(t[3*a+a]-t[3*i+i]-t[3*o+o]+1),e[a]=.5*r,r=.5/r,e[3]=(t[3*i+o]-t[3*o+i])*r,e[i]=(t[3*i+a]+t[3*a+i])*r,e[o]=(t[3*o+a]+t[3*a+o])*r}return e}function Nn(e,t,r,n){var a=.5*Math.PI/180;t*=a,r*=a,n*=a;var i=Math.sin(t),o=Math.cos(t),s=Math.sin(r),u=Math.cos(r),c=Math.sin(n),f=Math.cos(n);return e[0]=i*u*f-o*s*c,e[1]=o*s*f+i*u*c,e[2]=o*u*c-i*s*f,e[3]=o*u*f+i*s*c,e}function Gn(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var Hn,Wn,Yn,Xn,Zn,Qn,Jn=Ur,Kn=Br,$n=qr,ea=jr,ta=Vr,ra=Rn,na=Jr,aa=sn,ia=cn,oa=tn,sa=oa,ua=rn,ca=ua,fa=on,_a=mn,da=pn,la=(Hn=Vt(),Wn=Ht(1,0,0),Yn=Ht(0,1,0),function(e,t,r){var n=_r(t,r);return n<-.999999?(dr(Hn,Wn,t),Lr(Hn)<1e-6&&dr(Hn,Yn,t),fr(Hn,Hn),Tn(e,Hn,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(dr(Hn,t,r),e[0]=Hn[0],e[1]=Hn[1],e[2]=Hn[2],e[3]=1+n,fa(e,e))}),ha=(Xn=An(),Zn=An(),function(e,t,r,n,a,i){return Un(Xn,t,a,i),Un(Zn,r,n,i),Un(e,Xn,Zn,2*i*(1-i)),e}),ma=(Qn=be(),function(e,t,r,n){return Qn[0]=r[0],Qn[3]=r[1],Qn[6]=r[2],Qn[1]=n[0],Qn[4]=n[1],Qn[7]=n[2],Qn[2]=-t[0],Qn[5]=-t[1],Qn[8]=-t[2],fa(e,Vn(e,Qn))});function pa(){var e=new h(8);return h!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function ba(e){var t=new h(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function va(e,t,r,n,a,i,o,s){var u=new h(8);return u[0]=e,u[1]=t,u[2]=r,u[3]=n,u[4]=a,u[5]=i,u[6]=o,u[7]=s,u}function ga(e,t,r,n,a,i,o){var s=new h(8);s[0]=e,s[1]=t,s[2]=r,s[3]=n;var u=.5*a,c=.5*i,f=.5*o;return s[4]=u*n+c*r-f*t,s[5]=c*n+f*e-u*r,s[6]=f*n+u*t-c*e,s[7]=-u*e-c*t-f*r,s}function Ma(e,t,r){var n=.5*r[0],a=.5*r[1],i=.5*r[2],o=t[0],s=t[1],u=t[2],c=t[3];return e[0]=o,e[1]=s,e[2]=u,e[3]=c,e[4]=n*c+a*u-i*s,e[5]=a*c+i*o-n*u,e[6]=i*c+n*s-a*o,e[7]=-n*o-a*s-i*u,e}function ya(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function wa(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function xa(e,t){var r=An();wt(r,t);var n=new h(3);return Mt(n,t),Ma(e,r,n),e}function Ea(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function Aa(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function ka(e,t,r,n,a,i,o,s,u){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=u,e}var Ta=$n;function za(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var Fa=$n;function Ra(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function Pa(e,t){var r=t[4],n=t[5],a=t[6],i=t[7],o=-t[0],s=-t[1],u=-t[2],c=t[3];return e[0]=2*(r*c+i*o+n*u-a*s),e[1]=2*(n*c+i*s+a*o-r*u),e[2]=2*(a*c+i*u+r*s-n*o),e}function Sa(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=.5*r[0],u=.5*r[1],c=.5*r[2],f=t[4],_=t[5],d=t[6],l=t[7];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=o*s+a*c-i*u+f,e[5]=o*u+i*s-n*c+_,e[6]=o*c+n*u-a*s+d,e[7]=-n*s-a*u-i*c+l,e}function Oa(e,t,r){var n=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=s*o+f*n+u*i-c*a,d=u*o+f*a+c*n-s*i,l=c*o+f*i+s*a-u*n,h=f*o-s*n-u*a-c*i;return Pn(e,t,r),n=e[0],a=e[1],i=e[2],o=e[3],e[4]=_*o+h*n+d*i-l*a,e[5]=d*o+h*a+l*n-_*i,e[6]=l*o+h*i+_*a-d*n,e[7]=h*o-_*n-d*a-l*i,e}function La(e,t,r){var n=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=s*o+f*n+u*i-c*a,d=u*o+f*a+c*n-s*i,l=c*o+f*i+s*a-u*n,h=f*o-s*n-u*a-c*i;return Sn(e,t,r),n=e[0],a=e[1],i=e[2],o=e[3],e[4]=_*o+h*n+d*i-l*a,e[5]=d*o+h*a+l*n-_*i,e[6]=l*o+h*i+_*a-d*n,e[7]=h*o-_*n-d*a-l*i,e}function Da(e,t,r){var n=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],_=s*o+f*n+u*i-c*a,d=u*o+f*a+c*n-s*i,l=c*o+f*i+s*a-u*n,h=f*o-s*n-u*a-c*i;return On(e,t,r),n=e[0],a=e[1],i=e[2],o=e[3],e[4]=_*o+h*n+d*i-l*a,e[5]=d*o+h*a+l*n-_*i,e[6]=l*o+h*i+_*a-d*n,e[7]=h*o-_*n-d*a-l*i,e}function Ca(e,t,r){var n=r[0],a=r[1],i=r[2],o=r[3],s=t[0],u=t[1],c=t[2],f=t[3];return e[0]=s*o+f*n+u*i-c*a,e[1]=u*o+f*a+c*n-s*i,e[2]=c*o+f*i+s*a-u*n,e[3]=f*o-s*n-u*a-c*i,s=t[4],u=t[5],c=t[6],f=t[7],e[4]=s*o+f*n+u*i-c*a,e[5]=u*o+f*a+c*n-s*i,e[6]=c*o+f*i+s*a-u*n,e[7]=f*o-s*n-u*a-c*i,e}function Ia(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],u=r[1],c=r[2],f=r[3];return e[0]=n*f+o*s+a*c-i*u,e[1]=a*f+o*u+i*s-n*c,e[2]=i*f+o*c+n*u-a*s,e[3]=o*f-n*s-a*u-i*c,s=r[4],u=r[5],c=r[6],f=r[7],e[4]=n*f+o*s+a*c-i*u,e[5]=a*f+o*u+i*s-n*c,e[6]=i*f+o*c+n*u-a*s,e[7]=o*f-n*s-a*u-i*c,e}function Ua(e,t,r,n){if(Math.abs(n)<l)return Ea(e,t);var a=Math.hypot(r[0],r[1],r[2]);n*=.5;var i=Math.sin(n),o=i*r[0]/a,s=i*r[1]/a,u=i*r[2]/a,c=Math.cos(n),f=t[0],_=t[1],d=t[2],h=t[3];e[0]=f*c+h*o+_*u-d*s,e[1]=_*c+h*s+d*o-f*u,e[2]=d*c+h*u+f*s-_*o,e[3]=h*c-f*o-_*s-d*u;var m=t[4],p=t[5],b=t[6],v=t[7];return e[4]=m*c+v*o+p*u-b*s,e[5]=p*c+v*s+b*o-m*u,e[6]=b*c+v*u+m*s-p*o,e[7]=v*c-m*o-p*s-b*u,e}function Ba(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e}function qa(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[4],u=r[5],c=r[6],f=r[7],_=t[4],d=t[5],l=t[6],h=t[7],m=r[0],p=r[1],b=r[2],v=r[3];return e[0]=n*v+o*m+a*b-i*p,e[1]=a*v+o*p+i*m-n*b,e[2]=i*v+o*b+n*p-a*m,e[3]=o*v-n*m-a*p-i*b,e[4]=n*f+o*s+a*c-i*u+_*v+h*m+d*b-l*p,e[5]=a*f+o*u+i*s-n*c+d*v+h*p+l*m-_*b,e[6]=i*f+o*c+n*u-a*s+l*v+h*b+_*p-d*m,e[7]=o*f-n*s-a*u-i*c+h*v-_*m-d*p-l*b,e}var ja=qa;function Va(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e}var Na=aa;function Ga(e,t,r,n){var a=1-n;return Na(t,r)<0&&(n=-n),e[0]=t[0]*a+r[0]*n,e[1]=t[1]*a+r[1]*n,e[2]=t[2]*a+r[2]*n,e[3]=t[3]*a+r[3]*n,e[4]=t[4]*a+r[4]*n,e[5]=t[5]*a+r[5]*n,e[6]=t[6]*a+r[6]*n,e[7]=t[7]*a+r[7]*n,e}function Ha(e,t){var r=Za(t);return e[0]=-t[0]/r,e[1]=-t[1]/r,e[2]=-t[2]/r,e[3]=t[3]/r,e[4]=-t[4]/r,e[5]=-t[5]/r,e[6]=-t[6]/r,e[7]=t[7]/r,e}function Wa(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var Ya=oa,Xa=Ya,Za=ua,Qa=Za;function Ja(e,t){var r=Za(t);if(r>0){r=Math.sqrt(r);var n=t[0]/r,a=t[1]/r,i=t[2]/r,o=t[3]/r,s=t[4],u=t[5],c=t[6],f=t[7],_=n*s+a*u+i*c+o*f;e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=(s-n*_)/r,e[5]=(u-a*_)/r,e[6]=(c-i*_)/r,e[7]=(f-o*_)/r}return e}function Ka(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function $a(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function ei(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],f=t[0],_=t[1],d=t[2],h=t[3],m=t[4],p=t[5],b=t[6],v=t[7];return Math.abs(r-f)<=l*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-_)<=l*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(a-d)<=l*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(i-h)<=l*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-m)<=l*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(s-p)<=l*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(u-b)<=l*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(c-v)<=l*Math.max(1,Math.abs(c),Math.abs(v))}function ti(){var e=new h(2);return h!=Float32Array&&(e[0]=0,e[1]=0),e}function ri(e){var t=new h(2);return t[0]=e[0],t[1]=e[1],t}function ni(e,t){var r=new h(2);return r[0]=e,r[1]=t,r}function ai(e,t){return e[0]=t[0],e[1]=t[1],e}function ii(e,t,r){return e[0]=t,e[1]=r,e}function oi(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function si(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function ui(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function ci(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function fi(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function _i(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function di(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function li(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function hi(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function mi(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function pi(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function bi(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.hypot(r,n)}function vi(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function gi(e){var t=e[0],r=e[1];return Math.hypot(t,r)}function Mi(e){var t=e[0],r=e[1];return t*t+r*r}function yi(e,t){return e[0]=-t[0],e[1]=-t[1],e}function wi(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function xi(e,t){var r=t[0],n=t[1],a=r*r+n*n;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e}function Ei(e,t){return e[0]*t[0]+e[1]*t[1]}function Ai(e,t,r){var n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function ki(e,t,r,n){var a=t[0],i=t[1];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e}function Ti(e,t){t=t||1;var r=2*m()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function zi(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[2]*a,e[1]=r[1]*n+r[3]*a,e}function Fi(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[2]*a+r[4],e[1]=r[1]*n+r[3]*a+r[5],e}function Ri(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[3]*a+r[6],e[1]=r[1]*n+r[4]*a+r[7],e}function Pi(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[4]*a+r[12],e[1]=r[1]*n+r[5]*a+r[13],e}function Si(e,t,r,n){var a=t[0]-r[0],i=t[1]-r[1],o=Math.sin(n),s=Math.cos(n);return e[0]=a*s-i*o+r[0],e[1]=a*o+i*s+r[1],e}function Oi(e,t){var r=e[0],n=e[1],a=t[0],i=t[1],o=r*r+n*n;o>0&&(o=1/Math.sqrt(o));var s=a*a+i*i;s>0&&(s=1/Math.sqrt(s));var u=(r*a+n*i)*o*s;return u>1?0:u<-1?Math.PI:Math.acos(u)}function Li(e){return e[0]=0,e[1]=0,e}function Di(e){return"vec2("+e[0]+", "+e[1]+")"}function Ci(e,t){return e[0]===t[0]&&e[1]===t[1]}function Ii(e,t){var r=e[0],n=e[1],a=t[0],i=t[1];return Math.abs(r-a)<=l*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-i)<=l*Math.max(1,Math.abs(n),Math.abs(i))}var Ui=gi,Bi=si,qi=ui,ji=ci,Vi=bi,Ni=vi,Gi=Mi,Hi=function(){var e=ti();return function(t,r,n,a,i,o){var s,u;for(r||(r=2),n||(n=0),u=a?Math.min(a*r+n,t.length):t.length,s=n;s<u;s+=r)e[0]=t[s],e[1]=t[s+1],i(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}}()}])}));